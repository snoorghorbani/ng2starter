{"version":3,"sources":["null","ng://@soushians/layout/lib/actions/layout.ts","ng://@soushians/layout/lib/reducers/layout.reducer.ts","ng://@soushians/layout/lib/actions/toolbar.ts","ng://@soushians/layout/lib/reducers/toolbar.reducer.ts","ng://@soushians/layout/lib/reducers/index.ts","ng://@soushians/layout/lib/layout.config.ts","ng://@soushians/layout/lib/services/layout-configuration.service.ts","ng://@soushians/layout/lib/dumb-components/main-menu/main-menu.component.ts","ng://@soushians/layout/lib/dumb-components/search-box/search-box.component.ts","ng://@soushians/layout/lib/dumb-components/logo-container/logo-container.component.ts","ng://@soushians/layout/lib/dumb-components/toolbar-menu/toolbar-menu.component.ts","ng://@soushians/layout/lib/dumb-components/footer/footer.component.ts","ng://@soushians/layout/lib/dumb-components/title/title.component.ts","ng://@soushians/layout/lib/dumb-components/main/main.component.ts","ng://@soushians/layout/lib/layout.effects.ts","ng://@soushians/layout/lib/dumb-components/toolbar-menu-theme-b/toolbar-menu-theme-b.ts","ng://@soushians/layout/lib/layout.module.ts","ng://@soushians/layout/lib/models/layout-outlets.enum.ts"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__decorate","decorators","target","key","desc","d","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","metadataKey","metadataValue","metadata","__read","o","m","Symbol","iterator","e","ar","next","done","push","value","error","OPEN_SIDENAV","CLOSE_SIDENAV","UPDATE_LAYOUT_CONFIG","DO_SIGNOUT","TITLE_CHANGED","CHANGE_LAYOUT","CHANGE_MAIN_SIDENAVE_MODE","OPEN_SECOND_SIDEBAR","CLOSE_SECOND_SIDEBAR","CHANGE_SECOND_SIDENAV_MODE","FULLSCREEN","EXIT_FULLSCREEN","TOGGLE_FULLSCREEN","UpdateLayoutConfigAction","payload","LayoutActionTypes","OpenSidenavAction","CloseSidenavAction","ChangeLayout","name","ChangeSideNavMode","mode","ChangeSecondSidenavMode","DoSignoutAction","TitleChangedAction","title","OpenSecondSidenavAction","CloseSecondSidenavAction","FullscreenAction","ExitFullscreenAction","ToggleFullscreenAction","initialState","showMainSidenav","showSecondSideNav","secondSideNavMode","mainSideNavMode","showLeftNavBar","stickyLeftNavBar","layoutMode","menuItems","signoutAction","fullscreen","Reducer","state","action","type","layout.LayoutActionTypes","_state_1","keys","forEach","k","layout.CLOSE_SIDENAV","layout.OPEN_SIDENAV","ChangeToolbatToComfortableModeAction","ToolbarActionTypes","ChangeToolbatToCompactModeAction","ChangeToolbatToSummaryModeAction","EnableComfortableModeAction","DisableComfortableModeAction","VisibleToolbarAction","InvisibleToolbarAction","enableComfortableMode","comfortableModeHaveBeenDone","visibility","Reducer$1","initialState$1","LayoutReducers","layout","layout.Reducer","toolbar","fromToolbar.Reducer","selectLayoutState","createFeatureSelector","getLayout","createSelector","getTitle","getShowMainSidenav","getMainSideNavMode","getLayoutMode","getShowSecondSidebarStatus","getSecondSidebarMode","getFullscreenMode","getLayoutToolbar","getLayoutToolbarMode","MODULE_DEFAULT_CONFIG","theme","menu_item_authorization_operator","_a","_b","routes","user","Roles","filter","route","some","userRole","roles","indexOf","MODULE_CONFIG_TOKEN","InjectionToken","LayoutConfigurationService","configFile","store","_this","BehaviorSubject","_config","config$","select","getConfigs","map","configs","find","config","Name","subscribe","dispatch","Config","Injectable","args","providedIn","Inject","Store","MainMenuComponent","signinService","configurationService","EventEmitter","user$","getAccountInfo","_observe_on_layout_config_and_filter_routes","routes$","pipe","combineLatest","getValue","Component","selector","template","styles","animations","trigger","style","height","opacity","transition","animate","SigninService","Output","Input","ViewChild","SearchBoxComponent","ngOnInit","LogoContainerComponent","sdf","ToolbarMenuComponent","document","_location","lastScroll","body","scrollTop","showSecondSidenav","fromLayout.getShowMainSidenav","fromLayout.getLayoutToolbarMode","setTimeout","menuAnimationState","logoAnimationState","titleAnimationState","toolbarAnimationState","fromEvent","scrolledAmount","scrollToTop","scrollHeight","onWindowScroll","signout","goback","back","toggleSecondSidebar","toggleMainSidebar","menuItems$","width","top","right","transform","bottom","margin-right","font-size","font-weight","position","padding","backgroundColor","color","boxShadow","DOCUMENT","Location","HostListener","FooterComponent","TitleComponent","router","mapper","title$","events","event","NavigationEnd","res","Router","NgsLayoutMainComponent","configService","translateService","userFacadeService","_set_i18n_resource","theme_A","theme_B","data","displayName$","getDisplayName","mainSidenavMode","isFullscreen$","mode$","secondSidenavMode","urlAfterRedirects","showSidebarMenu","onSecondSidebarClosedStart","onSidebarClosedStart","setTranslation","__signin","__signup","__account_mangement","__signout","TranslateService","UserFacadeService","HostBinding","LayoutEffects","actions$","ofType","withLatestFrom","Actions","Effect","ToolbarMenuThemeBComponent","offsetHeight","NgsLayoutModule","forRoot","ngModule","RootNgsLayoutModule","providers","provide","LOCALE_ID","useValue","NgModule","imports","CommonModule","BrowserModule","RouterModule","FormsModule","HttpClientModule","FlexLayoutModule","MatIconModule","MatButtonModule","MatCardModule","MatSnackBarModule","MatSidenavModule","MatExpansionModule","MatSelectModule","MatFormFieldModule","MatListModule","MatMenuModule","MatRadioModule","MatInputModule","MatToolbarModule","MatDatepickerModule","MatProgressBarModule","TranslateModule","NgsConfigModule","RuleModule","declarations","exports","StoreModule","forFeature","EffectsModule","ngs_layout_toolbar_menu","ngs_layout_after_toolbar_menu","ngs_layout_before_toolbar_menu","footer_B","footer_A"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Action } from \"@ngrx/store\";\r\nimport { LayoutModuleConfigModel } from \"../layout.config\";\r\n\r\nexport const OPEN_SIDENAV = \"[Layout] Open Sidenav\";\r\nexport const CLOSE_SIDENAV = \"[Layout] Close Sidenav\";\r\n\r\nexport enum LayoutActionTypes {\r\n\tUPDATE_LAYOUT_CONFIG = \"[Layout] UPDATE_LAYOUT_CONFIG\",\r\n\tDO_SIGNOUT = \"[Layout] do signout\",\r\n\tTITLE_CHANGED = \"[LAYOUT] TITLE_CHANGED\",\r\n\tCHANGE_LAYOUT = \"[Layout] Change Layout\",\r\n\tCHANGE_MAIN_SIDENAVE_MODE = \"[Layout] Change main sidenav mode\",\r\n\tOPEN_SECOND_SIDEBAR = \"[Layout] Open Second Sidebar\",\r\n\tCLOSE_SECOND_SIDEBAR = \"[Layout] Close Second Sidebar\",\r\n\tCHANGE_SECOND_SIDENAV_MODE = \"[Layout] Change second sidenav mode\",\r\n\tFULLSCREEN = \"[Layout] FULLSCREEN\",\r\n\tEXIT_FULLSCREEN = \"[Layout] EXIT_FULLSCREEN\",\r\n\tTOGGLE_FULLSCREEN = \"[Layout] TOGGLE_FULLSCREEN\"\r\n}\r\n\r\nexport class UpdateLayoutConfigAction implements Action {\r\n\treadonly type = LayoutActionTypes.UPDATE_LAYOUT_CONFIG;\r\n\tconstructor(public payload: Partial<LayoutModuleConfigModel>) {}\r\n}\r\nexport class OpenSidenavAction implements Action {\r\n\treadonly type = OPEN_SIDENAV;\r\n}\r\n\r\nexport class CloseSidenavAction implements Action {\r\n\treadonly type = CLOSE_SIDENAV;\r\n}\r\n\r\nexport class ChangeLayout implements Action {\r\n\treadonly type = LayoutActionTypes.CHANGE_LAYOUT;\r\n\tconstructor(public name: \"with-margin\" | \"without-margin\" | \"default\") {}\r\n}\r\n\r\nexport class ChangeSideNavMode implements Action {\r\n\treadonly type = LayoutActionTypes.CHANGE_MAIN_SIDENAVE_MODE;\r\n\tconstructor(public mode: \"over\" | \"push\" | \"side\") {}\r\n}\r\nexport class ChangeSecondSidenavMode implements Action {\r\n\treadonly type = LayoutActionTypes.CHANGE_SECOND_SIDENAV_MODE;\r\n\tconstructor(public mode: \"over\" | \"push\" | \"side\") {}\r\n}\r\nexport class DoSignoutAction implements Action {\r\n\treadonly type = LayoutActionTypes.DO_SIGNOUT;\r\n}\r\n\r\nexport class TitleChangedAction implements Action {\r\n\treadonly type = LayoutActionTypes.TITLE_CHANGED;\r\n\tconstructor(public title: string) {}\r\n}\r\nexport class OpenSecondSidenavAction implements Action {\r\n\treadonly type = LayoutActionTypes.OPEN_SECOND_SIDEBAR;\r\n}\r\n\r\nexport class CloseSecondSidenavAction implements Action {\r\n\treadonly type = LayoutActionTypes.CLOSE_SECOND_SIDEBAR;\r\n}\r\nexport class FullscreenAction implements Action {\r\n\treadonly type = LayoutActionTypes.FULLSCREEN;\r\n}\r\nexport class ExitFullscreenAction implements Action {\r\n\treadonly type = LayoutActionTypes.EXIT_FULLSCREEN;\r\n}\r\nexport class ToggleFullscreenAction implements Action {\r\n\treadonly type = LayoutActionTypes.TOGGLE_FULLSCREEN;\r\n}\r\nexport type Actions =\r\n\t| UpdateLayoutConfigAction\r\n\t| OpenSidenavAction\r\n\t| CloseSidenavAction\r\n\t| ChangeSideNavMode\r\n\t| ChangeLayout\r\n\t| DoSignoutAction\r\n\t| TitleChangedAction\r\n\t| OpenSecondSidenavAction\r\n\t| CloseSecondSidenavAction\r\n\t| FullscreenAction\r\n\t| ExitFullscreenAction\r\n\t| ChangeSecondSidenavMode\r\n\t| ToggleFullscreenAction;\r\n","import * as layout from \"../actions/layout\";\r\nimport { Action } from \"@ngrx/store\";\r\n\r\nexport interface State {\r\n\tshowMainSidenav?: boolean;\r\n\tshowSecondSideNav?: boolean;\r\n\tsecondSideNavMode?: \"over\" | \"push\" | \"side\";\r\n\tmainSideNavMode?: \"over\" | \"push\" | \"side\";\r\n\tmenuItems?: {\r\n\t\troute: string;\r\n\t\ticon: string;\r\n\t\troles: string[];\r\n\t\ttitle: string;\r\n\t}[];\r\n\tshowLeftNavBar?: boolean;\r\n\tstickyLeftNavBar?: boolean;\r\n\tlayoutMode?: \"with-margin\" | \"without-margin\" | \"default\";\r\n\ttitle?: string;\r\n\tsignoutAction: Action;\r\n\tfullscreen: boolean;\r\n}\r\n\r\nconst initialState: State = {\r\n\tshowMainSidenav: false,\r\n\tshowSecondSideNav: false,\r\n\tsecondSideNavMode: \"over\",\r\n\tmainSideNavMode: \"over\",\r\n\tshowLeftNavBar: false,\r\n\tstickyLeftNavBar: false,\r\n\tlayoutMode: \"default\",\r\n\ttitle: \"\",\r\n\tmenuItems: [],\r\n\tsignoutAction: {} as Action,\r\n\tfullscreen: false\r\n};\r\n\r\nexport function Reducer(state = initialState, action: layout.Actions): State {\r\n\tswitch (action.type) {\r\n\t\tcase layout.LayoutActionTypes.UPDATE_LAYOUT_CONFIG:\r\n\t\t\tconst _state = {};\r\n\t\t\tObject.keys(action.payload).forEach(k => {\r\n\t\t\t\tif (k in state) _state[k] = action.payload[k];\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t..._state\r\n\t\t\t};\r\n\t\tcase layout.CLOSE_SIDENAV:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshowMainSidenav: false\r\n\t\t\t};\r\n\r\n\t\tcase layout.OPEN_SIDENAV:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshowMainSidenav: true\r\n\t\t\t};\r\n\r\n\t\tcase layout.LayoutActionTypes.TITLE_CHANGED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttitle: action.title\r\n\t\t\t};\r\n\t\tcase layout.LayoutActionTypes.CHANGE_LAYOUT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlayoutMode: action.name\r\n\t\t\t};\r\n\r\n\t\tcase layout.LayoutActionTypes.CHANGE_MAIN_SIDENAVE_MODE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmainSideNavMode: action.mode\r\n\t\t\t};\r\n\r\n\t\tcase layout.LayoutActionTypes.CLOSE_SECOND_SIDEBAR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshowSecondSideNav: false\r\n\t\t\t};\r\n\r\n\t\tcase layout.LayoutActionTypes.OPEN_SECOND_SIDEBAR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshowSecondSideNav: true\r\n\t\t\t};\r\n\t\tcase layout.LayoutActionTypes.CHANGE_SECOND_SIDENAV_MODE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsecondSideNavMode: action.mode\r\n\t\t\t};\r\n\t\tcase layout.LayoutActionTypes.FULLSCREEN:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfullscreen: true\r\n\t\t\t};\r\n\t\tcase layout.LayoutActionTypes.EXIT_FULLSCREEN:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfullscreen: false\r\n\t\t\t};\r\n\t\t// case layout.LayoutActionTypes.TOGGLE_FULLSCREEN:\r\n\t\t// \treturn {\r\n\t\t// \t\t...state,\r\n\t\t// \t\tfullscreen: state.fullscreen === true ? false : true\r\n\t\t// \t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const getShowSidenav = (state: State) => state.showMainSidenav;\r\nexport const getTitle = (state: State) => state.title;\r\nexport const getShowMainSidenav = (state: State) => state.showMainSidenav;\r\nexport const getMainSideNavMode = (state: State) => state.mainSideNavMode;\r\nexport const getLayoutMode = (state: State) => state.layoutMode;\r\nexport const getShowSecondSidebarStatus = (state: State) => state.showSecondSideNav;\r\nexport const getSecondSidebarMode = (state: State) => state.secondSideNavMode;\r\nexport const getFullscreenMode = (state: State) => state.fullscreen;\r\n","import { Action } from \"@ngrx/store\";\r\n\r\nexport enum ToolbarActionTypes {\r\n\tCOMPORTABLE = \"[Layout][TOOLBAR] COMPORTABLE\",\r\n\tCOMPACT = \"[Layout][TOOLBAR] COMPACT\",\r\n\tSUMMARY = \"[Layout][TOOLBAR] SUMMARY\",\r\n\tENABLE_COMFORTABLE_MODE = \"[Layout][TOOLBAR] ENABLE_COMFORTABLE_MODE\",\r\n\tDISBALE_COMFORTABLE_MODE = \"[Layout][TOOLBAR] DISBALE_COMFORTABLE_MODE\",\r\n\tVISIBLE = \"[Layout][TOOLBAR] VISIBLE\",\r\n\tINVISIBLE = \"[Layout][TOOLBAR] INVISIBLE\"\r\n}\r\n\r\nexport class ChangeToolbatToComfortableModeAction implements Action {\r\n\treadonly type = ToolbarActionTypes.COMPORTABLE;\r\n}\r\nexport class ChangeToolbatToCompactModeAction implements Action {\r\n\treadonly type = ToolbarActionTypes.COMPACT;\r\n}\r\nexport class ChangeToolbatToSummaryModeAction implements Action {\r\n\treadonly type = ToolbarActionTypes.SUMMARY;\r\n}\r\nexport class EnableComfortableModeAction implements Action {\r\n\treadonly type = ToolbarActionTypes.ENABLE_COMFORTABLE_MODE;\r\n}\r\nexport class DisableComfortableModeAction implements Action {\r\n\treadonly type = ToolbarActionTypes.DISBALE_COMFORTABLE_MODE;\r\n}\r\nexport class VisibleToolbarAction implements Action {\r\n\treadonly type = ToolbarActionTypes.VISIBLE;\r\n}\r\nexport class InvisibleToolbarAction implements Action {\r\n\treadonly type = ToolbarActionTypes.INVISIBLE;\r\n}\r\nexport type ToolbarActions =\r\n\t| ChangeToolbatToComfortableModeAction\r\n\t| ChangeToolbatToCompactModeAction\r\n\t| ChangeToolbatToSummaryModeAction\r\n\t| EnableComfortableModeAction\r\n\t| DisableComfortableModeAction\r\n\t| VisibleToolbarAction\r\n\t| InvisibleToolbarAction;\r\n","import { ToolbarActionTypes, ToolbarActions } from \"../actions\";\r\n\r\nexport interface State {\r\n\tmode: \"comfortable\" | \"compact\" | \"summary\" | \"hide\";\r\n\tenableComfortableMode: boolean;\r\n\tcomfortableModeHaveBeenDone: boolean;\r\n\tvisibility: boolean;\r\n}\r\n\r\nconst initialState: State = {\r\n\tmode: \"compact\",\r\n\tenableComfortableMode: false,\r\n\tcomfortableModeHaveBeenDone: false,\r\n\tvisibility: true\r\n};\r\n\r\nexport function Reducer(state = initialState, action: ToolbarActions): State {\r\n\tswitch (action.type) {\r\n\t\tcase ToolbarActionTypes.COMPACT:\r\n\t\t\tif (!state.visibility)\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tmode: \"hide\"\r\n\t\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmode: \"compact\"\r\n\t\t\t};\r\n\t\tcase ToolbarActionTypes.COMPORTABLE:\r\n\t\t\tif (!state.visibility)\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tmode: \"hide\"\r\n\t\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmode: state.enableComfortableMode ? \"comfortable\" : \"compact\"\r\n\t\t\t};\r\n\t\tcase ToolbarActionTypes.SUMMARY:\r\n\t\t\tif (!state.visibility)\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tmode: \"hide\"\r\n\t\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmode: \"summary\"\r\n\t\t\t};\r\n\t\tcase ToolbarActionTypes.ENABLE_COMFORTABLE_MODE:\r\n\t\t\tif (!state.visibility)\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tmode: \"hide\"\r\n\t\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tenableComfortableMode: true\r\n\t\t\t};\r\n\t\tcase ToolbarActionTypes.DISBALE_COMFORTABLE_MODE:\r\n\t\t\tif (!state.visibility)\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tmode: \"hide\"\r\n\t\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmode: \"compact\",\r\n\t\t\t\tenableComfortableMode: false\r\n\t\t\t};\r\n\t\tcase ToolbarActionTypes.VISIBLE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmode: \"compact\",\r\n\t\t\t\tvisibility: true\r\n\t\t\t};\r\n\t\tcase ToolbarActionTypes.INVISIBLE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmode: \"hide\",\r\n\t\t\t\tvisibility: false\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const getToolbarMode = (state: State) => state.mode;\r\n","import { createSelector, createFeatureSelector, MemoizedSelector } from \"@ngrx/store\";\r\n\r\nimport * as layout from \"./layout.reducer\";\r\nimport * as fromToolbar from \"./toolbar.reducer\";\r\n\r\nexport interface LayoutState {\r\n\tlayout: layout.State;\r\n\ttoolbar: fromToolbar.State;\r\n}\r\n\r\nexport const LayoutReducers = {\r\n\tlayout: layout.Reducer,\r\n\ttoolbar: fromToolbar.Reducer\r\n};\r\nexport interface FeatureState {\r\n\tlayout: LayoutState;\r\n\ttoolbar: fromToolbar.State;\r\n}\r\n\r\n//#region selectors\r\n\r\nexport const selectLayoutState = createFeatureSelector<LayoutState>(\"layout\");\r\n\r\n//#endregion\r\n\r\nexport const getLayout = createSelector(selectLayoutState, (state: LayoutState) => state.layout);\r\n\r\nexport const getTitle = createSelector(getLayout, layout.getTitle);\r\n\r\nexport const getShowMainSidenav = createSelector(getLayout, layout.getShowMainSidenav);\r\n\r\nexport const getMainSideNavMode = createSelector(getLayout, layout.getMainSideNavMode);\r\n\r\nexport const getLayoutMode = createSelector(getLayout, layout.getLayoutMode);\r\n\r\nexport const getShowSecondSidebarStatus = createSelector(getLayout, layout.getShowSecondSidebarStatus);\r\nexport const getSecondSidebarMode = createSelector(getLayout, layout.getSecondSidebarMode);\r\nexport const getFullscreenMode = createSelector(getLayout, layout.getFullscreenMode);\r\n\r\n//#region toolbar\r\n\r\nexport const getLayoutToolbar = createSelector(selectLayoutState, (state: LayoutState) => state.toolbar);\r\nexport const getLayoutToolbarMode = createSelector(getLayoutToolbar, fromToolbar.getToolbarMode);\r\n\r\n//#endregion\r\n","import { InjectionToken } from \"@angular/core\";\r\n\r\nimport { Action } from \"@ngrx/store\";\r\n\r\nexport interface LayoutModuleConfigModel {\r\n\tshowMainSidenav?: boolean;\r\n\tshowSecondSideNav?: boolean;\r\n\tsecondSideNavMode?: \"over\" | \"push\" | \"side\";\r\n\tmainSideNavMode?: \"over\" | \"push\" | \"side\";\r\n\tmenuItems?: {\r\n\t\troute: string;\r\n\t\ticon: string;\r\n\t\troles: string[];\r\n\t\ttitle: string;\r\n\t}[];\r\n\tshowLeftNavBar?: boolean;\r\n\tstickyLeftNavBar?: boolean;\r\n\tlayoutMode?: \"with-margin\" | \"without-margin\" | \"default\";\r\n\ttitle?: string;\r\n\tsignoutAction?: Action;\r\n\tmenu_item_authorization_operator?: ([routes, user]: [any, any]) => any[];\r\n\ttheme?: string; // \"theme_A\" | \"theme_B\";\r\n}\r\n\r\nconst menu_item_authorization_operator = function ([routes, user]) {\r\n\tif (!user.Roles) return [];\r\n\tif (user.Roles.length == 0) {\r\n\t\treturn [];\r\n\t} else {\r\n\t\treturn routes.filter(route => user.Roles.some(userRole => route.roles.indexOf(userRole) > -1));\r\n\t}\r\n};\r\nexport const MODULE_DEFAULT_CONFIG: LayoutModuleConfigModel = {\r\n\ttheme: \"theme_B\",\r\n\tshowMainSidenav: false,\r\n\tshowSecondSideNav: true,\r\n\tsecondSideNavMode: \"over\", // | \"push\" | \"side\",\r\n\tmainSideNavMode: \"over\", // | \"push\" | \"side\",\r\n\tshowLeftNavBar: false,\r\n\tstickyLeftNavBar: false,\r\n\tlayoutMode: \"with-margin\", // | \"without-margin\" | \"default\",\r\n\ttitle: \"\",\r\n\tmenuItems: [\r\n\t],\r\n\tsignoutAction: {} as Action,\r\n\tmenu_item_authorization_operator\r\n};\r\n\r\nexport const MODULE_CONFIG_TOKEN = new InjectionToken<LayoutModuleConfigModel>(\"LayoutModuleConfigModel\");\r\n","import { Injectable, Inject } from \"@angular/core\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\n\r\nimport { getConfigs } from \"@soushians/config\";\r\n\r\nimport { MODULE_CONFIG_TOKEN, MODULE_DEFAULT_CONFIG } from \"../layout.config\";\r\nimport { UpdateLayoutConfigAction } from \"../actions\";\r\nimport { LayoutModuleConfigModel } from \"../layout.config\";\r\nimport { FeatureState } from \"../reducers\";\r\n\r\n@Injectable({\r\n\tprovidedIn: \"root\"\r\n})\r\nexport class LayoutConfigurationService {\r\n\t// private _config: LayoutConfigModel;\r\n\tprivate _config: LayoutModuleConfigModel;\r\n\tget config() {\r\n\t\treturn this._config;\r\n\t}\r\n\tconfig$ = new BehaviorSubject<LayoutModuleConfigModel>(this._config);\r\n\r\n\tconstructor(@Inject(MODULE_CONFIG_TOKEN) configFile, private store: Store<FeatureState>) {\r\n\t\tthis._config = Object.assign({}, MODULE_DEFAULT_CONFIG, configFile);\r\n\t\tthis.config$.next(this._config);\r\n\t\tthis.store\r\n\t\t\t.select(getConfigs)\r\n\t\t\t.map(configs => configs.find(config => config.Name == \"layout_config\"))\r\n\t\t\t.subscribe(config => {\r\n\t\t\t\tif (!config) return;\r\n\t\t\t\tthis.store.dispatch(new UpdateLayoutConfigAction(config.Config));\r\n\t\t\t\tthis._config = Object.assign({}, this._config, config.Config);\r\n\t\t\t\tthis.config$.next(this._config);\r\n\t\t\t});\r\n\t}\r\n}\r\n","import { Component, Output, EventEmitter, Input, ViewChild, ElementRef } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { trigger, state, style, transition, animate } from \"@angular/animations\";\r\n\r\nimport { responseStatusTypes } from \"@soushians/shared\";\r\nimport { SigninService } from \"@soushians/authentication\";\r\n\r\nimport { FeatureState } from \"../../reducers\";\r\nimport { LayoutConfigurationService } from \"../../services/layout-configuration.service\";\r\nimport { map, combineLatest } from \"rxjs/operators\";\r\nimport { getAccountInfo, UserModel } from \"@soushians/user\";\r\n\r\n@Component({\r\n\tselector: \"ngs-layout-main-menu\",\r\n\ttemplate: `<mat-list class=\"main-menu-container\">\r\n  <div *ngIf=\"authenticated | async\">\r\n    <a *ngFor=\"let item of routes$ | async\" (click)=\"closeSidebar.emit()\" routerLinkActive=\"active\" mat-list-item [routerLink]=\"[item.route]\">\r\n      <mat-icon mat-list-icon>{{item.icon}}</mat-icon>\r\n      <span mdLine>{{item.title}}</span>\r\n    </a>\r\n  </div>\r\n</mat-list>`,\r\n\tstyles: [`.active{background:rgba(0,0,0,.15)}.mat-list-item.active mat-icon{color:#0072ae}a.mat-list-item.child{margin-right:20px}#clearUserMenuItem{position:absolute;left:13px;top:13px}`],\r\n\tanimations: [\r\n\t\ttrigger(\"childMenu\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"inactive\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t// transform: 'scale(1)',\r\n\t\t\t\t\theight: \"0px\",\r\n\t\t\t\t\topacity: \"0\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"active\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t// transform: 'scale(1.1)',\r\n\t\t\t\t\theight: \"48px\",\r\n\t\t\t\t\topacity: \"1\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"inactive => active\", animate(\"100ms ease-in\")),\r\n\t\t\ttransition(\"active => inactive\", animate(\"100ms ease-out\"))\r\n\t\t]),\r\n\t\ttrigger(\"menuItem\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"inactive\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\theight: \"48px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"active\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\theight: \"100px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"inactive => active\", animate(\"100ms ease-in\")),\r\n\t\t\ttransition(\"active => inactive\", animate(\"100ms ease-out\"))\r\n\t\t])\r\n\t]\r\n})\r\nexport class MainMenuComponent {\r\n\t@Output() closeSidebar = new EventEmitter();\r\n\t@Input() authenticated: Observable<boolean>;\r\n\tuser$: Observable<UserModel>;\r\n\tcustomerStatus$: Observable<responseStatusTypes>;\r\n\troutes$: Observable<any>;\r\n\r\n\t@ViewChild(\"customerMobileInput\") customerMobileInput: ElementRef;\r\n\tconstructor(\r\n\t\tprivate store: Store<FeatureState>,\r\n\t\tpublic signinService: SigninService,\r\n\t\tpublic configurationService: LayoutConfigurationService\r\n\t) {\r\n\t\tthis.user$ = this.store.select(getAccountInfo);\r\n\t\tthis._observe_on_layout_config_and_filter_routes();\r\n\t}\r\n\t_observe_on_layout_config_and_filter_routes() {\r\n\t\tthis.routes$ = this.configurationService.config$.pipe(\r\n\t\t\tmap(config => config.menuItems),\r\n\t\t\tcombineLatest(this.user$),\r\n\t\t\tmap(this.configurationService.config$.getValue().menu_item_authorization_operator)\r\n\t\t);\r\n\t}\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n        selector: 'app-search-box',\r\n        template: `<div class=\"search-box\">\r\n  <!--<td-search-box class=\"search-box-container\" backIcon=\"arrow_back\" placeholder=\"\" [showUnderline]=\"false\" [debounce]=\"500\" [alwaysVisible]=\"false\"\r\n                 (searchDebounce)=\"searchInputTerm = $event\" (search)=\"searchInputTerm = $event\" (clear)=\"searchInputTerm = ''\">\r\n  </td-search-box>-->\r\n</div>`,\r\n        styles: [``]\r\n})\r\nexport class SearchBoxComponent implements OnInit {\r\n\r\n        constructor() { }\r\n\r\n        ngOnInit() {\r\n        }\r\n\r\n}","import { Component, ViewChild, AfterViewInit, ElementRef } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { LayoutConfigurationService } from \"../../services/layout-configuration.service\";\r\n\r\n@Component({\r\n\tselector: \"app-logo-container\",\r\n\ttemplate: `\r\n<!--<img class=\"logoTypeAnimation\" src='../../../assets/images/logo-type.png' />-->`,\r\n\tstyles: [`.logoAnimation{height:36px;cursor:pointer;z-index:2}#background{position:absolute;top:0;right:0;width:300px;height:70px}`]\r\n})\r\nexport class LogoContainerComponent {\r\n\ttoolbarAnimationState: string;\r\n\r\n\tconstructor(private sdf: LayoutConfigurationService) {}\r\n}\r\n","import { Component, Input, HostListener, Inject } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { Location } from \"@angular/common\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { from } from \"rxjs/observable/from\";\r\nimport { DOCUMENT } from \"@angular/platform-browser\";\r\nimport { fromEvent } from \"rxjs/observable/fromEvent\";\r\nimport { of } from \"rxjs/observable/of\";\r\nimport { trigger, state, transition, style, animate } from \"@angular/animations\";\r\n\r\nimport { UserModel, getAccountInfo } from \"@soushians/user\";\r\n\r\nimport * as fromLayout from \"../../reducers\";\r\nimport {\r\n\tDoSignoutAction,\r\n\tOpenSecondSidenavAction,\r\n\tCloseSecondSidenavAction,\r\n\tCloseSidenavAction,\r\n\tOpenSidenavAction,\r\n\tChangeToolbatToComfortableModeAction,\r\n\tChangeToolbatToCompactModeAction,\r\n\tChangeToolbatToSummaryModeAction\r\n} from \"../../actions\";\r\nimport { FeatureState, getShowSecondSidebarStatus, getLayoutToolbar } from \"../../reducers\";\r\n\r\nimport { LayoutConfigurationService } from \"../../services/layout-configuration.service\";\r\nimport { State as toolbarState } from \"../../reducers/toolbar.reducer\";\r\nimport { map, combineLatest } from \"rxjs/operators\";\r\n\r\n@Component({\r\n\tselector: \"layout-toolbar\",\r\n\ttemplate: `<mat-toolbar [@toolbarAnimation]=\"toolbarAnimationState\">\r\n  <mat-toolbar-row id=\"firstToolbar\">\r\n    <!-- <div id=\"background\"></div> -->\r\n    <img [@logoAnimation]=\"logoAnimationState\" id=\"logo\" routerLink='/' src='assets/images/shatel-logo.png' />\r\n\r\n    <button type=\"button\" *ngIf='showSidebarMenu && false' (click)=\"toggleMainSidebar()\" mat-icon-button fxFlex=\"nogrow\" fxLayoutAlign=\"center center\">\r\n      <mat-icon>menu</mat-icon>\r\n    </button>\r\n    <span [@titleAnimation]=\"titleAnimationState\" id='app-name'>\r\n      {{app_config?.Config.AppTitle}}\r\n    </span>\r\n    <app-title fxFlex fxLayoutAlign=\"start center\"></app-title>\r\n    <app-search-box fxFlex fxLayoutAlign=\"end center\"></app-search-box>\r\n\r\n\r\n    <button *ngIf=\"!displayName\" mat-button routerLink=\"auth/signin\">\r\n      \r\n    </button>\r\n    <button *ngIf=\"!displayName\" mat-button routerLink=\"auth/signup\">\r\n       \r\n    </button>\r\n    <button *ngIf=\"displayName\" mat-icon-button [matMenuTriggerFor]=\"toolbarMenu1\">\r\n      <mat-icon>account_circle</mat-icon>\r\n    </button>\r\n    <mat-menu #toolbarMenu1 class=\"rtl-dir\">\r\n      <div id=\"acccountName\">\r\n        {{displayName}}\r\n      </div>\r\n      <button routerLink='/user/panel' mat-menu-item class=\"rtl-dir\">\r\n        <mat-icon>fingerprint</mat-icon>\r\n        <span>\r\n           \r\n        </span>\r\n      </button>\r\n      <button (click)='signout()' mat-menu-item class=\"rtl-dir\">\r\n        <mat-icon>exit_to_app</mat-icon>\r\n        <span></span>\r\n      </button>\r\n    </mat-menu>\r\n    <button mat-icon-button type=\"button\" (click)=\"toggleSecondSidebar()\" fxFlex=\"nogrow\" fxLayoutAlign=\"center center\">\r\n      <mat-icon>notifications</mat-icon>\r\n    </button>\r\n    <button mat-icon-button (click)='goback()'>\r\n      <mat-icon>arrow_back</mat-icon>\r\n    </button>\r\n\r\n  </mat-toolbar-row>\r\n  <mat-toolbar-row>\r\n    <div id=\"secondToolbar\" [@menuAnimation]=\"menuAnimationState\">\r\n      <router-outlet name=\"ngs-layout-before-toolbar-menu\"></router-outlet>\r\n      <button mat-button *ngFor=\"let menu of menuItems$ | async\" routerLinkActive=\"active\" [routerLink]=\"[menu.route]\">\r\n        <!-- <mat-icon mat-list-icon>{{menu.icon}}</mat-icon> -->\r\n        <span>{{menu.title}}</span>\r\n      </button>\r\n      <router-outlet name=\"ngs-layout-after-toolbar-menu\"></router-outlet>\r\n    </div>\r\n  </mat-toolbar-row>\r\n</mat-toolbar>`,\r\n\tstyles: [`mat-toolbar{background-color:#fff!important;top:0;box-shadow:rgba(0,0,0,.5) 1px 1px 3px!important}#secondToolbar{transition:none;position:absolute}#secondToolbar button{opacity:.6;font-family:iran-sans-bold,sans-serif!important;font-size:.65em!important}#secondToolbar.active{opacity:1}#logo{transition:none;position:absolute}#app-name{padding-right:8px;font-family:iran-sans-bold,sans-serif!important}button.rtl-dir{direction:rtl!important}#acccountName{display:block;text-align:right;padding-right:20px;font-size:14px;font-weight:bolder}`],\r\n\tanimations: [\r\n\t\ttrigger(\"logoAnimation\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"comfortable\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\twidth: \"90px\",\r\n\t\t\t\t\theight: \"90px\",\r\n\t\t\t\t\ttop: \"50px\",\r\n\t\t\t\t\tright: \"calc(50% - 50px)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"compact\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\twidth: \"36px\",\r\n\t\t\t\t\theight: \"36px\",\r\n\t\t\t\t\ttop: \"13px\",\r\n\t\t\t\t\tright: \"13px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"summary\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\twidth: \"36px\",\r\n\t\t\t\t\theight: \"36px\",\r\n\t\t\t\t\ttop: \"76px\",\r\n\t\t\t\t\tright: \"10px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"hide\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\twidth: \"0\",\r\n\t\t\t\t\theight: \"0\",\r\n\t\t\t\t\ttop: \"76px\",\r\n\t\t\t\t\tright: \"10px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"comfortable => compact\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"comfortable => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => comfortable\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"compact => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => compact\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => summary\", animate(\"800ms ease-in\")),\r\n\t\t\t// transition(\"comfortable => summary\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => compact\", animate(\"400ms ease-out\")),\r\n\t\t\ttransition(\"summary => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => summary\", animate(\"400ms ease-out\"))\r\n\t\t]),\r\n\t\ttrigger(\"menuAnimation\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"comfortable\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tright: \"50%\",\r\n\t\t\t\t\ttransform: \"translateX(50%)\",\r\n\t\t\t\t\tbottom: \"25px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"compact\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tright: \"45px\",\r\n\t\t\t\t\ttransform: \"translateX(0)\",\r\n\t\t\t\t\tbottom: \"13px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"summary\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tright: \"75px\",\r\n\t\t\t\t\ttransform: \"translateX(0)\",\r\n\t\t\t\t\tbottom: \"14px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"hide\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tright: \"75px\",\r\n\t\t\t\t\ttransform: \"translateX(0)\",\r\n\t\t\t\t\tbottom: \"14px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"comfortable => compact\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"comfortable => hide\", animate(\"400ms ease-in\")),\r\n\t\t\ttransition(\"hide => comfortable\", animate(\"600ms ease-in\")),\r\n\t\t\ttransition(\"compact => hide\", animate(\"400ms ease-in\")),\r\n\t\t\ttransition(\"hide => compact\", animate(\"600ms ease-in\")),\r\n\t\t\ttransition(\"summary => hide\", animate(\"400ms ease-in\")),\r\n\t\t\ttransition(\"hide => summary\", animate(\"600ms ease-in\")),\r\n\t\t\t// transition(\"comfortable => summary\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => compact\", animate(\"400ms ease-out\")),\r\n\t\t\ttransition(\"summary => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => summary\", animate(\"400ms ease-in\"))\r\n\t\t]),\r\n\t\ttrigger(\"titleAnimation\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"comfortable\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t\"margin-right\": \"0px\",\r\n\t\t\t\t\t\"font-size\": \"larger\",\r\n\t\t\t\t\t\"font-weight\": \"bolder\",\r\n\t\t\t\t\ttransform: \"translateX(50%)\",\r\n\t\t\t\t\tright: \"calc(50%)\",\r\n\t\t\t\t\tbottom: \"75px\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tpadding: 0\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"compact\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t\"margin-right\": \"0px\",\r\n\t\t\t\t\t\"font-size\": \"16px\",\r\n\t\t\t\t\t\"font-weight\": \"bolder\",\r\n\t\t\t\t\ttransform: \"translateX(0)\",\r\n\t\t\t\t\tright: \"60px\",\r\n\t\t\t\t\tbottom: \"79px\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tpadding: 0\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"summary\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t\"margin-right\": \"0px\",\r\n\t\t\t\t\t\"font-size\": \"16px\",\r\n\t\t\t\t\t\"font-weight\": \"bolder\",\r\n\t\t\t\t\ttransform: \"translateX(0)\",\r\n\t\t\t\t\tright: \"60px\",\r\n\t\t\t\t\tbottom: \"79px\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tpadding: 0\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"hide\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t\"margin-right\": \"0px\",\r\n\t\t\t\t\t\"font-size\": \"1px\",\r\n\t\t\t\t\t\"font-weight\": \"bolder\",\r\n\t\t\t\t\ttransform: \"translateX(0)\",\r\n\t\t\t\t\tright: \"60px\",\r\n\t\t\t\t\tbottom: \"79px\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tpadding: 0\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"comfortable => compact\", animate(\"850ms ease-out\")),\r\n\t\t\ttransition(\"comfortable => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => comfortable\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"compact => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => compact\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => summary\", animate(\"800ms ease-in\")),\r\n\t\t\t// transition(\"comfortable => summary\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => compact\", animate(\"400ms ease-out\")),\r\n\t\t\ttransition(\"summary => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => summary\", animate(\"400ms ease-in\"))\r\n\t\t]),\r\n\t\ttrigger(\"toolbarAnimation\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"comfortable\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t// backgroundColor: \"rgba(119,181,63,1)\",\r\n\t\t\t\t\tbackgroundColor: \"rgba(256,256,256,1)\",\r\n\t\t\t\t\tcolor: \"rgba(30,30,30,1)\",\r\n\t\t\t\t\theight: \"33vh\",\r\n\t\t\t\t\ttop: \"0\",\r\n\t\t\t\t\tboxShadow: \"1px 1px 3px rgba(0,0,0,0)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"compact\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tbackgroundColor: \"rgba(256,256,256,1)\",\r\n\t\t\t\t\theight: \"128px\",\r\n\t\t\t\t\ttop: \"0\",\r\n\t\t\t\t\tboxShadow: \"1px 1px 3px rgba(0,0,0,0.5)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"summary\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tbackgroundColor: \"rgba(256,256,256,1)\",\r\n\t\t\t\t\theight: \"128px\",\r\n\t\t\t\t\ttop: \"-64px\",\r\n\t\t\t\t\tboxShadow: \"1px 1px 3px rgba(0,0,0,0.5)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"hide\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tbackgroundColor: \"rgba(256,256,256,1)\",\r\n\t\t\t\t\theight: \"128px\",\r\n\t\t\t\t\ttop: \"-128px\",\r\n\t\t\t\t\tboxShadow: \"1px 1px 3px rgba(0,0,0,0.5)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"comfortable => compact\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"comfortable => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => comfortable\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"compact => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => compact\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => summary\", animate(\"800ms ease-in\")),\r\n\t\t\t// transition(\"comfortable => summary\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => compact\", animate(\"400ms ease-out\")),\r\n\t\t\ttransition(\"summary => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => summary\", animate(\"400ms ease-in\"))\r\n\t\t])\r\n\t]\r\n})\r\nexport class ToolbarMenuComponent {\r\n\tshowSecondSidenav: Observable<boolean>;\r\n\t@Input() showSidebarMenu;\r\n\t@Input(\"app-config\") app_config;\r\n\t@Input() user: UserModel;\r\n\t@Input() displayName: string;\r\n\tuser$: Observable<UserModel>;\r\n\tshowMainSidenav: Observable<boolean>;\r\n\ttoolbarAnimationState: \"comfortable\" | \"compact\" | \"summary\" | \"hide\" = \"compact\";\r\n\tmenuAnimationState: \"comfortable\" | \"compact\" | \"summary\" | \"hide\" = \"compact\";\r\n\tlogoAnimationState: \"comfortable\" | \"compact\" | \"summary\" | \"hide\" = \"compact\";\r\n\ttitleAnimationState: \"comfortable\" | \"compact\" | \"summary\" | \"hide\" = \"compact\";\r\n\tmenuItems$: Observable<any[]>;\r\n\tlastScroll: number;\r\n\tconfig: toolbarState;\r\n\tconfig$: Observable<toolbarState>;\r\n\tanchorsMode = false;\r\n\tconstructor(\r\n\t\t@Inject(DOCUMENT) private document: any,\r\n\t\tprivate _location: Location,\r\n\t\tprivate store: Store<FeatureState>,\r\n\t\tpublic configurationService: LayoutConfigurationService\r\n\t) {\r\n\t\tthis.user$ = this.store.select(getAccountInfo);\r\n\t\tthis.store.dispatch(new ChangeToolbatToComfortableModeAction());\r\n\t\tthis.config$ = this.store.select(getLayoutToolbar);\r\n\t\tthis.config$.subscribe(config => (this.config = config));\r\n\t\tthis.lastScroll = this.document.body.scrollTop;\r\n\t\tthis.showSecondSidenav = this.store.select(getShowSecondSidebarStatus);\r\n\t\tthis.showMainSidenav = this.store.select(fromLayout.getShowMainSidenav);\r\n\t\tthis.store.select(fromLayout.getLayoutToolbarMode).subscribe(state => {\r\n\t\t\tsetTimeout(() => (this.menuAnimationState = state), 1);\r\n\t\t\tsetTimeout(() => (this.logoAnimationState = state), 1);\r\n\t\t\tsetTimeout(() => (this.titleAnimationState = state), 1);\r\n\t\t\tsetTimeout(() => (this.toolbarAnimationState = state), 1);\r\n\t\t});\r\n\t\tthis._observe_on_layout_config_and_filter_routes();\r\n\r\n\t\tfromEvent(this.document.body, \"scroll\").subscribe(() => {\r\n\t\t\tconst scrolledAmount = this.document.body.scrollTop;\r\n\t\t\tconst scrollToTop =\r\n\t\t\t\tscrolledAmount - this.lastScroll < 0 && this.document.body.scrollHeight - scrolledAmount < 300;\r\n\t\t\t// let scrollToTop = scrolledAmount - this.lastScroll < 0;\r\n\t\t\tthis.lastScroll = this.document.body.scrollTop;\r\n\t\t\tif (!this.config.visibility) return;\r\n\t\t\tif (scrolledAmount == 0) {\r\n\t\t\t\tif (this.config.mode == \"comfortable\") return;\r\n\t\t\t\tthis.store.dispatch(new ChangeToolbatToComfortableModeAction());\r\n\t\t\t} else if (scrolledAmount < 200 || scrollToTop) {\r\n\t\t\t\tif (this.config.mode == \"compact\") return;\r\n\t\t\t\tthis.store.dispatch(new ChangeToolbatToCompactModeAction());\r\n\t\t\t} else {\r\n\t\t\t\tif (this.config.mode == \"summary\") return;\r\n\t\t\t\tthis.store.dispatch(new ChangeToolbatToSummaryModeAction());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@HostListener(\"body:scroll\", [])\r\n\tonWindowScroll() {\r\n\t\t// of(1)\r\n\t}\r\n\tsignout() {\r\n\t\tthis.store.dispatch(new DoSignoutAction());\r\n\t}\r\n\tgoback() {\r\n\t\tthis._location.back();\r\n\t}\r\n\ttoggleSecondSidebar() {\r\n\t\tlet action;\r\n\t\tthis.showSecondSidenav.subscribe(state => {\r\n\t\t\taction = state ? new CloseSecondSidenavAction() : new OpenSecondSidenavAction();\r\n\t\t});\r\n\t\tthis.store.dispatch(action);\r\n\t}\r\n\ttoggleMainSidebar() {\r\n\t\tlet action;\r\n\t\tthis.showMainSidenav.subscribe(state => {\r\n\t\t\taction = state ? new CloseSidenavAction() : new OpenSidenavAction();\r\n\t\t});\r\n\t\tthis.store.dispatch(action);\r\n\t}\r\n\t_observe_on_layout_config_and_filter_routes() {\r\n\t\tthis.menuItems$ = this.configurationService.config$.pipe(\r\n\t\t\tmap(config => config.menuItems),\r\n\t\t\tcombineLatest(this.user$),\r\n\t\t\tmap(this.configurationService.config$.getValue().menu_item_authorization_operator)\r\n\t\t);\r\n\t}\r\n}\r\n","import { Component, OnInit, Input } from \"@angular/core\";\r\n\r\n@Component({\r\n\tselector: \"app-footer\",\r\n\ttemplate: `<div fxLayoutAlign=\"center center\" class=\"footer-text\">\r\n    {{app_config?.Config.FooterCopyright}}\r\n</div>`,\r\n\tstyles: [`:host{border-top:1px solid #e5e5e5;padding:8px;overflow:hidden}.footer-text{position:relative;top:12px}`]\r\n})\r\nexport class FooterComponent implements OnInit {\r\n\t@Input(\"app-config\") app_config;\r\n\r\n\tconstructor() {}\r\n\r\n\tngOnInit() {}\r\n}\r\n","import { Component } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { Location } from \"@angular/common\";\r\n\r\nimport { TitleChangedAction } from \"../../actions\";\r\nimport { FeatureState, getTitle } from \"../../reducers\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Route, Router, NavigationEnd } from \"@angular/router\";\r\n\r\n@Component({\r\n\tselector: \"app-title\",\r\n\ttemplate: `<div id=\"title\">\r\n    {{title$ | async}}\r\n</div>`,\r\n\tstyles: [`#title{margin-right:-30px;font-weight:bolder;font-size:13px;padding:18px 40px}`]\r\n})\r\nexport class TitleComponent {\r\n\ttitle$: Observable<string>;\r\n\tmapper: { (val: NavigationEnd): string }[];\r\n\r\n\tconstructor(private store: Store<FeatureState>, private router: Router) {\r\n\t\tthis.mapper = [];\r\n\t\t// this.mapper.push((event: NavigationEnd) => {\r\n\t\t//     return (event.url.endsWith('profile-edit')) ? '  ' : null;\r\n\t\t// });\r\n\t\t// this.mapper.push((event: NavigationEnd) => {\r\n\t\t//     return (event.url.endsWith('success-payment-report')) ? '   ' : null;\r\n\t\t// });\r\n\t\t// this.mapper.push((event: NavigationEnd) => {\r\n\t\t//     return (event.url.endsWith('failed-login-report')) ? ' ' : null;\r\n\t\t// });\r\n\t\t// this.mapper.push((event: NavigationEnd) => {\r\n\t\t//     return (event.url.endsWith('active-session-info')) ? '  ' : null;\r\n\t\t// });\r\n\t\t// this.mapper.push((event: NavigationEnd) => {\r\n\t\t//     return (event.url.endsWith('session-detail-report')) ? ' ' : null;\r\n\t\t// });\r\n\t\t// this.mapper.push((event: NavigationEnd) => {\r\n\t\t//     return (event.url.endsWith('daily-session-report')) ? '  ' : null;\r\n\t\t// });\r\n\t\t// this.mapper.push((event: NavigationEnd) => {\r\n\t\t//     return (event.url.endsWith('monthly-session-report')) ? '  ' : null;\r\n\t\t// });\r\n\t\t// this.mapper.push((event: NavigationEnd) => {\r\n\t\t//     return (event.url.startsWith('/packages/user-packages')) ? '  ' : null;\r\n\t\t// });\r\n\t\t// this.mapper.push((event: NavigationEnd) => {\r\n\t\t//     return (event.url.endsWith('/change-password')) ? '  ' : null;\r\n\t\t// });\r\n\r\n\t\tthis.title$ = this.store.select(getTitle);\r\n\r\n\t\tthis.router.events.subscribe(event => {\r\n\t\t\tif (event instanceof NavigationEnd) {\r\n\t\t\t\tvar title = \"\";\r\n\t\t\t\tthis.mapper.forEach(mapper => {\r\n\t\t\t\t\tlet res = mapper(event);\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\ttitle = res;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.store.dispatch(new TitleChangedAction(\"/ \" + title || \"\"));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","import { Component, ElementRef, ViewChild, AfterViewInit, OnDestroy, Input, HostBinding } from \"@angular/core\";\r\nimport { Router, NavigationEnd } from \"@angular/router\";\r\nimport { Observable } from \"rxjs/Observable\";\r\n// import { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { SwPush } from \"@angular/service-worker\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { MatSidenav, MatSidenavContainer } from \"@angular/material\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { trigger, state, transition, animate, style } from \"@angular/animations\";\r\n\r\nimport { ConfigModel } from \"@soushians/config\";\r\nimport { UserFacadeService, UserModel } from \"@soushians/user\";\r\n\r\nimport {\r\n\tFeatureState,\r\n\tgetShowMainSidenav,\r\n\tgetMainSideNavMode,\r\n\tgetShowSecondSidebarStatus,\r\n\tgetSecondSidebarMode,\r\n\tgetLayoutMode,\r\n\tgetLayoutToolbarMode,\r\n\tgetFullscreenMode\r\n} from \"../../reducers/index\";\r\n\r\nimport { LayoutConfigurationService } from \"../../services/layout-configuration.service\";\r\nimport {\r\n\tChangeSideNavMode,\r\n\tChangeSecondSidenavMode,\r\n\tCloseSecondSidenavAction,\r\n\tCloseSidenavAction\r\n} from \"../../actions/layout\";\r\n\r\n@Component({\r\n\tselector: \"layout-main\",\r\n\ttemplate: `<div #mainSideNav [ngClass]=\"toolbarAnimationState | async\" [class.fullscreen]=\"isFullscreen$ | async\">\r\n  <!-- <mat-progress-bar *ngIf='progressStatus$ | async' color=\"primary\" mode=\"query\"></mat-progress-bar> -->\r\n  <layout-toolbar  *ngIf=\"theme == 'theme_A'\" [user]=\"user$ | async\" [displayName]=\"displayName$ | async\" [showSidebarMenu]='showSidebarMenu | async' [app-config]=\"app_config\"></layout-toolbar>\r\n  <layout-toolbar-b *ngIf=\"theme == 'theme_B'\" [user]=\"user$ | async\" [displayName]=\"displayName$ | async\" [showSidebarMenu]='showSidebarMenu | async' [app-config]=\"app_config\"></layout-toolbar-b>\r\n  \r\n  <mat-sidenav-container id=\"layout-sidnav\" [className]=\"layoutMode | async\">\r\n    <mat-sidenav [mode]=\"mainSidenavMode | async\" [opened]='showMainSidenav | async' #sidebar (closedStart)=\"onSidebarClosedStart()\">\r\n      <mat-nav-list>\r\n        <ngs-layout-main-menu [authenticated]='showSidebarMenu' (closeSidebar)=\"sidebar.close()\" (click)=\"onSecondSidebarClosedStart()\"></ngs-layout-main-menu>\r\n      </mat-nav-list>\r\n    </mat-sidenav>\r\n    <!-- <mat-sidenav [mode]=\"secondSidenavMode | async\" [opened]='showSecondSidenav | async' (closedStart)=\"onSecondSidebarClosedStart()\"\r\n      position=\"end\" #second_sidebar class=\"second_sidebar\">\r\n      <mat-nav-list fxLayout='column'>\r\n      </mat-nav-list>\r\n    </mat-sidenav> -->\r\n    <div fxFlexLayout='column' id=\"app-main-container\" fxLayoutAlign='center center'>\r\n      <div fxFlex='0 0 100'>\r\n        <router-outlet></router-outlet>\r\n        <footer [@mode]=\"mode$ | async\" ruleAnchor=\"layout_footer\">\r\n          <router-outlet name=\"footer_A\"></router-outlet>\r\n          <router-outlet name=\"footer_B\"></router-outlet>\r\n          <app-footer [app-config]=\"app_config\"></app-footer>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  </mat-sidenav-container>\r\n</div>`,\r\n\tstyles: [`#purchase-fab-button{position:fixed;bottom:23px;left:31px}md-progress-bar{position:absolute!important}.with-margin #app-main-container{margin-top:25px;padding-right:25px;padding-left:25px}.second_sidebar{width:380px}.more-detail{margin:8px;box-sizing:border-box;padding:10px;text-align:center;width:96%;border:1px solid #dedede;outline:0;cursor:pointer;transition:.3s}.more-detail:hover{background:#eee}footer{border-top:1px solid #e5e5e5;margin-top:25px;background-color:#f1f1f1}`],\r\n\tanimations: [\r\n\t\ttrigger(\"mode\", [\r\n\t\t\tstate(\"visible\", style({ transform: \"scaleY(1) translateY(0)\" })),\r\n\t\t\tstate(\"invisible\", style({ height: \"0\", transform: \"scaleY(0) translateY(100%)\" })),\r\n\t\t\ttransition(\"visible => invisible\", [ animate(\"1000ms\") ]),\r\n\t\t\ttransition(\"invisible => visible\", [ animate(\"1000ms\") ])\r\n\t\t])\r\n\t]\r\n})\r\nexport class NgsLayoutMainComponent {\r\n\t@Input(\"app-config\") app_config: ConfigModel<any>;\r\n\tmode$: Observable<\"visible\" | \"invisible\">;\r\n\ttheme: string;\r\n\tuser$: Observable<UserModel>;\r\n\tdisplayName$: Observable<string>;\r\n\tisFullscreen$: Observable<boolean>;\r\n\tprogressStatus$: Observable<boolean>;\r\n\tshowSidebarMenu = new BehaviorSubject(true);\r\n\t// user$: Observable<UserModel>;\r\n\tshowMainSidenav: Observable<boolean>;\r\n\tmainSidenavMode: Observable<\"side\" | \"over\" | \"push\">;\r\n\tlayoutMode: Observable<\"with-margin\" | \"without-margin\" | \"default\">;\r\n\twidth = 100;\r\n\tshowSecondSidenav: Observable<boolean>;\r\n\tsecondSidenavMode: Observable<\"side\" | \"over\" | \"push\">;\r\n\ttoolbarAnimationState: Observable<string>;\r\n\t@ViewChild(\"mainSideNav\") mainSideNav: ElementRef;\r\n\t@HostBinding(\"class.theme_A\") theme_A: boolean;\r\n\t@HostBinding(\"class.theme_B\") theme_B: boolean;\r\n\tconstructor(\r\n\t\tprivate store: Store<FeatureState>,\r\n\t\tprivate router: Router,\r\n\t\tprivate configService: LayoutConfigurationService,\r\n\t\tprivate translateService: TranslateService,\r\n\t\tprivate userFacadeService: UserFacadeService\r\n\t) {\r\n\t\tthis._set_i18n_resource();\r\n\t\tthis.configService.config$.subscribe(config => {\r\n\t\t\tthis.theme = config.theme;\r\n\t\t\tthis.theme_A = config.theme == \"theme_A\";\r\n\t\t\tthis.theme_B = config.theme == \"theme_B\";\r\n\t\t});\r\n\t\tthis.store.dispatch(new ChangeSideNavMode(\"push\"));\r\n\t\tthis.user$ = this.store.select(s => (s as any).user.user.data);\r\n\t\tthis.displayName$ = this.userFacadeService.getDisplayName();\r\n\t\tthis.showMainSidenav = this.store.select(getShowMainSidenav);\r\n\t\tthis.mainSidenavMode = this.store.select(getMainSideNavMode);\r\n\t\tthis.toolbarAnimationState = this.store.select(getLayoutToolbarMode);\r\n\r\n\t\tthis.isFullscreen$ = this.store.select(getFullscreenMode);\r\n\t\tthis.mode$ = this.isFullscreen$.map(mode => (mode ? \"invisible\" : \"visible\"));\r\n\r\n\t\t//#region manage second sidebar\r\n\t\tthis.store.dispatch(new ChangeSecondSidenavMode(\"push\"));\r\n\t\tthis.showSecondSidenav = this.store.select(getShowSecondSidebarStatus);\r\n\t\tthis.secondSidenavMode = this.store.select(getSecondSidebarMode);\r\n\t\t//#endregion manage second sidebar\r\n\r\n\t\tthis.layoutMode = this.store.select(getLayoutMode);\r\n\r\n\t\tthis.router.events.filter(data => data instanceof NavigationEnd).subscribe(event => {\r\n\t\t\tconst hideSituations = [\r\n\t\t\t\t(event as NavigationEnd).urlAfterRedirects == \"/auth/signin\",\r\n\t\t\t\t(event as NavigationEnd).urlAfterRedirects == \"/auth/signup/register\",\r\n\t\t\t\t(event as NavigationEnd).urlAfterRedirects == \"/auth/signup/verification\",\r\n\t\t\t\t(event as NavigationEnd).urlAfterRedirects == \"/user/password/reset\"\r\n\t\t\t];\r\n\t\t\tif (hideSituations.some(i => i)) this.showSidebarMenu.next(false);\r\n\t\t\telse this.showSidebarMenu.next(true);\r\n\t\t});\r\n\t}\r\n\r\n\t// ngAfterViewInit() {\r\n\t// \tthis.store.dispatch(new ChangeLayout(\"with-margin\"));\r\n\t// }\r\n\r\n\tonSecondSidebarClosedStart() {\r\n\t\tthis.store.dispatch(new CloseSecondSidenavAction());\r\n\t}\r\n\r\n\tonSidebarClosedStart() {\r\n\t\tthis.store.dispatch(new CloseSidenavAction());\r\n\t}\r\n\r\n\t/**\r\n\t * private methods\r\n\t */\r\n\t_set_i18n_resource() {\r\n\t\tthis.translateService.setTranslation(\"en\", {\r\n\t\t\t__signin: \"Signin\",\r\n\t\t\t__signup: \"Signup\",\r\n\t\t\t__account_mangement: \"Account\",\r\n\t\t\t__signout: \"Signout\"\r\n\t\t});\r\n\t\tthis.translateService.setTranslation(\"fa\", {\r\n\t\t\t__signin: \"\",\r\n\t\t\t__signup: \" \",\r\n\t\t\t__account_mangement: \" \",\r\n\t\t\t__signout: \"\"\r\n\t\t});\r\n\t}\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/map\";\r\nimport \"rxjs/add/operator/mergeMap\";\r\nimport \"rxjs/add/operator/do\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport \"rxjs/add/observable/empty\";\r\nimport { Action, Store } from \"@ngrx/store\";\r\nimport { Actions, Effect } from \"@ngrx/effects\";\r\nimport { RouterAction } from \"@ngrx/router-store\";\r\nimport { switchMap, map, catchError, tap, withLatestFrom } from \"rxjs/operators\";\r\n\r\nimport { DoSignoutAction } from \"@soushians/authentication\";\r\n\r\nimport {\r\n\tLayoutActionTypes,\r\n\tInvisibleToolbarAction,\r\n\tVisibleToolbarAction,\r\n\tExitFullscreenAction,\r\n\tFullscreenAction\r\n} from \"./actions\";\r\nimport { FeatureState, getFullscreenMode } from \"./reducers\";\r\n\r\n@Injectable()\r\nexport class LayoutEffects {\r\n\tconstructor(private actions$: Actions, private router: Router, private store: Store<FeatureState>) {}\r\n\r\n\t@Effect() DoSignout$ = this.actions$.ofType(LayoutActionTypes.DO_SIGNOUT).pipe(map(() => new DoSignoutAction()));\r\n\r\n\t@Effect()\r\n\tfullscreen$ = this.actions$.ofType(LayoutActionTypes.FULLSCREEN).pipe(map(() => new InvisibleToolbarAction()));\r\n\r\n\t@Effect()\r\n\texit_fullscreen$ = this.actions$\r\n\t\t.ofType(LayoutActionTypes.EXIT_FULLSCREEN)\r\n\t\t.pipe(map(() => new VisibleToolbarAction()));\r\n\r\n\t@Effect()\r\n\tfullscren_toolbar$ = this.actions$.ofType(LayoutActionTypes.TOGGLE_FULLSCREEN).pipe(\r\n\t\twithLatestFrom(this.store.select(getFullscreenMode)),\r\n\t\tmap(([ action, toolbarMode ]) => {\r\n\t\t\tif (toolbarMode) return new ExitFullscreenAction();\r\n\t\t\telse return new FullscreenAction();\r\n\t\t})\r\n\t);\r\n}\r\n","import { Component, Input, HostListener, Inject } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { Location } from \"@angular/common\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { from } from \"rxjs/observable/from\";\r\nimport { DOCUMENT } from \"@angular/platform-browser\";\r\nimport { fromEvent } from \"rxjs/observable/fromEvent\";\r\nimport { of } from \"rxjs/observable/of\";\r\nimport { trigger, state, transition, style, animate } from \"@angular/animations\";\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n\r\nimport { UserModel, getAccountInfo } from \"@soushians/user\";\r\n\r\nimport * as fromLayout from \"../../reducers\";\r\nimport {\r\n\tDoSignoutAction,\r\n\tOpenSecondSidenavAction,\r\n\tCloseSecondSidenavAction,\r\n\tCloseSidenavAction,\r\n\tOpenSidenavAction,\r\n\tChangeToolbatToComfortableModeAction,\r\n\tChangeToolbatToCompactModeAction,\r\n\tChangeToolbatToSummaryModeAction\r\n} from \"../../actions\";\r\nimport { FeatureState, getShowSecondSidebarStatus, getLayoutToolbar } from \"../../reducers\";\r\n\r\nimport { LayoutConfigurationService } from \"../../services/layout-configuration.service\";\r\nimport { State as toolbarState } from \"../../reducers/toolbar.reducer\";\r\nimport { map, combineLatest } from \"rxjs/operators\";\r\n\r\n@Component({\r\n\tselector: \"layout-toolbar-b\",\r\n\ttemplate: `<mat-toolbar dir=\"rtl\" color=\"primary\" [@toolbarAnimation]=\"toolbarAnimationState\">\r\n  <mat-toolbar-row dir=\"rtl\" id=\"firstToolbar\">\r\n    <!-- <div id=\"background\"></div> -->\r\n    <img [@logoAnimation]=\"logoAnimationState\" id=\"logo\" routerLink='/' src='assets/logos/logo-type.png' />\r\n\r\n    <button type=\"button\" *ngIf='showSidebarMenu && false' (click)=\"toggleMainSidebar()\" mat-icon-button fxFlex=\"nogrow\"\r\n      fxLayoutAlign=\"center center\">\r\n      <mat-icon>menu</mat-icon>\r\n    </button>\r\n    <span [@titleAnimation]=\"titleAnimationState\" id='app-name'>\r\n      {{app_config?.Config.AppTitle}}\r\n    </span>\r\n    <app-title fxFlex fxLayoutAlign=\"start center\"></app-title>\r\n    <app-search-box fxFlex fxLayoutAlign=\"end center\"></app-search-box>\r\n\r\n\r\n    <button *ngIf=\"!displayName\" mat-button routerLink=\"auth/signin\">\r\n      <span [translate]=\"'__signin'\"></span>\r\n    </button>\r\n    <button translate *ngIf=\"!displayName\" mat-button routerLink=\"auth/signup\">\r\n      {{'__signup' | translate}}\r\n    </button>\r\n    <button *ngIf=\"displayName\" mat-icon-button [matMenuTriggerFor]=\"toolbarMenu1\">\r\n      <mat-icon>account_circle</mat-icon>\r\n    </button>\r\n    <mat-menu #toolbarMenu1 class=\"rtl-dir\">\r\n      <div id=\"acccountName\">\r\n        {{displayName}}\r\n      </div>\r\n      <button routerLink='/user/panel' mat-menu-item class=\"rtl-dir\">\r\n        <mat-icon>fingerprint</mat-icon>\r\n        <span translate=\"__account_mangement\">\r\n        </span>\r\n      </button>\r\n      <button (click)='signout()' mat-menu-item class=\"rtl-dir\">\r\n        <mat-icon>exit_to_app</mat-icon>\r\n        <span translate>__signout</span>\r\n      </button>\r\n    </mat-menu>\r\n    <button mat-icon-button type=\"button\" (click)=\"toggleSecondSidebar()\" fxFlex=\"nogrow\" fxLayoutAlign=\"center center\">\r\n      <mat-icon>notifications</mat-icon>\r\n    </button>\r\n    <button mat-icon-button (click)='goback()'>\r\n      <mat-icon>arrow_back</mat-icon>\r\n    </button>\r\n\r\n  </mat-toolbar-row>\r\n  <mat-toolbar-row>\r\n    <div id=\"secondToolbar\" [@menuAnimation]=\"menuAnimationState\">\r\n      <router-outlet name=\"ngs-layout-before-toolbar-menu\"></router-outlet>\r\n      <button mat-button *ngFor=\"let menu of menuItems$ | async\" routerLinkActive=\"active\" [routerLink]=\"[menu.route]\">\r\n        <!-- <mat-icon mat-list-icon>{{menu.icon}}</mat-icon> -->\r\n        <span>{{menu.title}}</span>\r\n      </button>\r\n      <router-outlet name=\"ngs-layout-after-toolbar-menu\"></router-outlet>\r\n    </div>\r\n  </mat-toolbar-row>\r\n</mat-toolbar>`,\r\n\tstyles: [`#secondToolbar{transition:none;position:absolute}#secondToolbar button{opacity:.6;font-family:iran-sans-bold,sans-serif!important;font-size:.65em!important;height:50px!important;border-radius:0!important}#secondToolbar button.active{border-bottom:2px solid #ff7400;opacity:1}#logo{transition:none;position:absolute}#app-name{padding-right:8px;font-family:iran-sans-bold,sans-serif!important}button.rtl-dir{direction:rtl!important}#acccountName{display:block;text-align:right;padding-right:20px;font-size:14px;font-weight:bolder}`],\r\n\tanimations: [\r\n\t\ttrigger(\"logoAnimation\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"comfortable\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\theight: \"48px\",\r\n\t\t\t\t\ttop: \"50px\",\r\n\t\t\t\t\tright: \"calc(50% - 50px)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"compact\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\theight: \"36px\",\r\n\t\t\t\t\ttop: \"13px\",\r\n\t\t\t\t\tright: \"13px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"summary\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\theight: \"36px\",\r\n\t\t\t\t\ttop: \"57px\",\r\n\t\t\t\t\tright: \"10px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"hide\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\twidth: \"0\",\r\n\t\t\t\t\theight: \"0\",\r\n\t\t\t\t\ttop: \"57px\",\r\n\t\t\t\t\tright: \"10px\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"comfortable => compact\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"comfortable => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => comfortable\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"compact => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => compact\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => summary\", animate(\"800ms ease-in\")),\r\n\t\t\t// transition(\"comfortable => summary\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => compact\", animate(\"400ms ease-out\")),\r\n\t\t\ttransition(\"summary => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => summary\", animate(\"400ms ease-out\"))\r\n\t\t]),\r\n\t\ttrigger(\"menuAnimation\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"comfortable\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tright: \"50%\",\r\n\t\t\t\t\ttransform: \"translateX(50%)\",\r\n\t\t\t\t\tbottom: \"0\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"compact\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tright: \"50%\",\r\n\t\t\t\t\ttransform: \"translateX(50%)\",\r\n\t\t\t\t\tbottom: \"0\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"summary\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tright: \"165px\",\r\n\t\t\t\t\ttransform: \"translateX(0)\",\r\n\t\t\t\t\tbottom: \"0\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"hide\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\tright: \"165px\",\r\n\t\t\t\t\ttransform: \"translateX(0)\",\r\n\t\t\t\t\tbottom: \"0\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"comfortable => compact\", animate(\"800ms ease-in-out\")),\r\n\t\t\ttransition(\"comfortable => hide\", animate(\"400ms ease-in-out\")),\r\n\t\t\ttransition(\"hide => comfortable\", animate(\"600ms ease-in-out\")),\r\n\t\t\ttransition(\"compact => hide\", animate(\"400ms ease-in-out\")),\r\n\t\t\ttransition(\"hide => compact\", animate(\"600ms ease-in-out\")),\r\n\t\t\ttransition(\"summary => hide\", animate(\"400ms ease-in-out\")),\r\n\t\t\ttransition(\"hide => summary\", animate(\"600ms ease-in-out\")),\r\n\t\t\t// transition(\"comfortable => summary\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => compact\", animate(\"400ms ease-out\")),\r\n\t\t\ttransition(\"summary => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => summary\", animate(\"400ms ease-in-out\"))\r\n\t\t]),\r\n\t\ttrigger(\"titleAnimation\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"comfortable\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t\"margin-right\": \"0px\",\r\n\t\t\t\t\t\"font-size\": \"larger\",\r\n\t\t\t\t\t\"font-weight\": \"bolder\",\r\n\t\t\t\t\ttransform: \"translateX(50%)\",\r\n\t\t\t\t\tright: \"calc(50%)\",\r\n\t\t\t\t\tbottom: \"165px\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tpadding: 0\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"compact\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t\"margin-right\": \"0px\",\r\n\t\t\t\t\t\"font-size\": \"16px\",\r\n\t\t\t\t\t\"font-weight\": \"bolder\",\r\n\t\t\t\t\tright: \"50%\",\r\n\t\t\t\t\ttransform: \"translateX(50%)\",\r\n\t\t\t\t\tbottom: \"51px\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tpadding: 0\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"summary\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t\"margin-right\": \"0px\",\r\n\t\t\t\t\t\"font-size\": \"16px\",\r\n\t\t\t\t\t\"font-weight\": \"bolder\",\r\n\t\t\t\t\ttransform: \"translateX(50%)\",\r\n\t\t\t\t\tright: \"50%\",\r\n\t\t\t\t\tbottom: \"79px\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tpadding: 0\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"hide\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t\"margin-right\": \"0px\",\r\n\t\t\t\t\t\"font-size\": \"1px\",\r\n\t\t\t\t\t\"font-weight\": \"bolder\",\r\n\t\t\t\t\t// transform: \"translateX(0)\",\r\n\t\t\t\t\t// right: \"60px\",\r\n\t\t\t\t\tbottom: \"79px\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tpadding: 0\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"comfortable => compact\", animate(\"850ms ease-out\")),\r\n\t\t\ttransition(\"comfortable => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => comfortable\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"compact => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => compact\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => summary\", animate(\"800ms ease-in\")),\r\n\t\t\t// transition(\"comfortable => summary\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => compact\", animate(\"400ms ease-out\")),\r\n\t\t\ttransition(\"summary => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => summary\", animate(\"400ms ease-in\"))\r\n\t\t]),\r\n\t\ttrigger(\"toolbarAnimation\", [\r\n\t\t\tstate(\r\n\t\t\t\t\"comfortable\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t// backgroundColor: \"rgba(119,181,63,1)\",\r\n\t\t\t\t\tbackgroundColor: \"rgba(256,256,256,1)\",\r\n\t\t\t\t\tcolor: \"rgba(30,30,30,1)\",\r\n\t\t\t\t\theight: \"33vh\",\r\n\t\t\t\t\ttop: \"0\",\r\n\t\t\t\t\t// boxShadow: \"0px 1px 3px rgba(0,0,0,0)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"compact\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t// backgroundColor: \"rgba(256,256,256,1)\",\r\n\t\t\t\t\theight: \"100px\",\r\n\t\t\t\t\ttop: \"0\",\r\n\t\t\t\t\t// boxShadow: \"1px 1px 3px rgba(0,0,0,0.5)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"summary\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t// backgroundColor: \"rgba(256,256,256,1)\",\r\n\t\t\t\t\theight: \"100px\",\r\n\t\t\t\t\ttop: \"-50px\",\r\n\t\t\t\t\t// boxShadow: \"1px 1px 3px rgba(0,0,0,0.5)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\tstate(\r\n\t\t\t\t\"hide\",\r\n\t\t\t\tstyle({\r\n\t\t\t\t\t// backgroundColor: \"rgba(256,256,256,1)\",\r\n\t\t\t\t\theight: \"100px\",\r\n\t\t\t\t\ttop: \"-100px\",\r\n\t\t\t\t\t// boxShadow: \"1px 1px 3px rgba(0,0,0,0.5)\"\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t\ttransition(\"comfortable => compact\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"comfortable => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => comfortable\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"compact => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => compact\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => hide\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"hide => summary\", animate(\"800ms ease-in\")),\r\n\t\t\t// transition(\"comfortable => summary\", animate(\"800ms ease-in\")),\r\n\t\t\ttransition(\"summary => compact\", animate(\"400ms ease-out\")),\r\n\t\t\ttransition(\"summary => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => comfortable\", animate(\"800ms ease-out\")),\r\n\t\t\ttransition(\"compact => summary\", animate(\"400ms ease-in\"))\r\n\t\t])\r\n\t]\r\n})\r\nexport class ToolbarMenuThemeBComponent {\r\n\tshowSecondSidenav: Observable<boolean>;\r\n\t@Input() showSidebarMenu;\r\n\t@Input(\"app-config\") app_config;\r\n\t@Input() user: UserModel;\r\n\t@Input() displayName: string;\r\n\tuser$: Observable<UserModel>;\r\n\tshowMainSidenav: Observable<boolean>;\r\n\ttoolbarAnimationState: \"comfortable\" | \"compact\" | \"summary\" | \"hide\" = \"compact\";\r\n\tmenuAnimationState: \"comfortable\" | \"compact\" | \"summary\" | \"hide\" = \"compact\";\r\n\tlogoAnimationState: \"comfortable\" | \"compact\" | \"summary\" | \"hide\" = \"compact\";\r\n\ttitleAnimationState: \"comfortable\" | \"compact\" | \"summary\" | \"hide\" = \"compact\";\r\n\tmenuItems$: Observable<any[]>;\r\n\tlastScroll: number;\r\n\tconfig: toolbarState;\r\n\tconfig$: Observable<toolbarState>;\r\n\tanchorsMode: boolean = false;\r\n\tconstructor(\r\n\t\t@Inject(DOCUMENT) private document: any,\r\n\t\tprivate _location: Location,\r\n\t\tprivate store: Store<FeatureState>,\r\n\t\tprivate translateService: TranslateService,\r\n\t\tpublic configurationService: LayoutConfigurationService\r\n\t) {\r\n\t\tthis.user$ = this.store.select(getAccountInfo);\r\n\t\tthis.store.dispatch(new ChangeToolbatToComfortableModeAction());\r\n\t\tthis.config$ = this.store.select(getLayoutToolbar);\r\n\t\tthis.config$.subscribe(config => (this.config = config));\r\n\t\tthis.lastScroll = this.document.body.scrollTop;\r\n\t\tthis.showSecondSidenav = this.store.select(getShowSecondSidebarStatus);\r\n\t\tthis.showMainSidenav = this.store.select(fromLayout.getShowMainSidenav);\r\n\t\tthis.store.select(fromLayout.getLayoutToolbarMode).subscribe(state => {\r\n\t\t\tsetTimeout(() => (this.menuAnimationState = state), 1);\r\n\t\t\tsetTimeout(() => (this.logoAnimationState = state), 1);\r\n\t\t\tsetTimeout(() => (this.titleAnimationState = state), 1);\r\n\t\t\tsetTimeout(() => (this.toolbarAnimationState = state), 1);\r\n\t\t});\r\n\t\tthis._observe_on_layout_config_and_filter_routes();\r\n\r\n\t\tfromEvent(this.document.body, \"scroll\").subscribe(() => {\r\n\t\t\tlet scrolledAmount = this.document.body.scrollTop;\r\n\t\t\tlet scrollToTop =\r\n\t\t\t\tscrolledAmount - this.lastScroll < 0 &&\r\n\t\t\t\tthis.document.body.scrollHeight - document.body.offsetHeight - scrolledAmount > 300;\r\n\t\t\t// let scrollToTop = scrolledAmount - this.lastScroll < 0;\r\n\t\t\tthis.lastScroll = scrolledAmount;\r\n\t\t\tif (!this.config.visibility) return;\r\n\t\t\tif (scrolledAmount == 0) {\r\n\t\t\t\tif (this.config.mode == \"comfortable\") return;\r\n\t\t\t\tthis.store.dispatch(new ChangeToolbatToComfortableModeAction());\r\n\t\t\t} else if (scrolledAmount < 150 || scrollToTop) {\r\n\t\t\t\tif (this.config.mode == \"compact\") return;\r\n\t\t\t\tthis.store.dispatch(new ChangeToolbatToCompactModeAction());\r\n\t\t\t} else {\r\n\t\t\t\tif (this.config.mode == \"summary\") return;\r\n\t\t\t\tthis.store.dispatch(new ChangeToolbatToSummaryModeAction());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@HostListener(\"body:scroll\", [])\r\n\tonWindowScroll() {\r\n\t\t// of(1)\r\n\t}\r\n\tsignout() {\r\n\t\tthis.store.dispatch(new DoSignoutAction());\r\n\t}\r\n\tgoback() {\r\n\t\tthis._location.back();\r\n\t}\r\n\ttoggleSecondSidebar() {\r\n\t\tlet action;\r\n\t\tthis.showSecondSidenav.subscribe(state => {\r\n\t\t\taction = state ? new CloseSecondSidenavAction() : new OpenSecondSidenavAction();\r\n\t\t});\r\n\t\tthis.store.dispatch(action);\r\n\t}\r\n\ttoggleMainSidebar() {\r\n\t\tlet action;\r\n\t\tthis.showMainSidenav.subscribe(state => {\r\n\t\t\taction = state ? new CloseSidenavAction() : new OpenSidenavAction();\r\n\t\t});\r\n\t\tthis.store.dispatch(action);\r\n\t}\r\n\t_observe_on_layout_config_and_filter_routes() {\r\n\t\tthis.menuItems$ = this.configurationService.config$.pipe(\r\n\t\t\tmap(config => config.menuItems),\r\n\t\t\tcombineLatest(this.user$),\r\n\t\t\tmap(this.configurationService.config$.getValue().menu_item_authorization_operator)\r\n\t\t);\r\n\t}\r\n}\r\n","import { NgModule, ModuleWithProviders, LOCALE_ID } from \"@angular/core\";\r\nimport { BrowserModule } from \"@angular/platform-browser\";\r\nimport { StoreModule } from \"@ngrx/store\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\r\nimport { EffectsModule } from \"@ngrx/effects\";\r\nimport {\r\n\tMatIconModule,\r\n\tMatButtonModule,\r\n\tMatCardModule,\r\n\tMatSnackBarModule,\r\n\tMatSidenavModule,\r\n\tMatExpansionModule,\r\n\tMatSelectModule,\r\n\tMatFormFieldModule,\r\n\tMatListModule,\r\n\tMatMenuModule,\r\n\tMatRadioModule,\r\n\tMatInputModule,\r\n\tMatToolbarModule,\r\n\tMatDatepickerModule,\r\n\tMatProgressBarModule\r\n} from \"@angular/material\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\nimport { NgsConfigModule } from \"@soushians/config\";\r\n\r\nimport { LayoutReducers } from \"./reducers/index\";\r\n\r\nimport { MODULE_CONFIG_TOKEN, LayoutModuleConfigModel } from \"./layout.config\";\r\nimport { MainMenuComponent } from \"./dumb-components/main-menu/main-menu.component\";\r\nimport { SearchBoxComponent } from \"./dumb-components/search-box/search-box.component\";\r\nimport { LogoContainerComponent } from \"./dumb-components/logo-container/logo-container.component\";\r\nimport { ToolbarMenuComponent } from \"./dumb-components/toolbar-menu/toolbar-menu.component\";\r\nimport { FooterComponent } from \"./dumb-components/footer/footer.component\";\r\nimport { TitleComponent } from \"./dumb-components/title/title.component\";\r\nimport { NgsLayoutMainComponent } from \"./dumb-components/main/main.component\";\r\nimport { LayoutEffects } from \"./layout.effects\";\r\nimport { RuleModule } from \"@soushians/rule\";\r\nimport { ToolbarMenuThemeBComponent } from \"./dumb-components/toolbar-menu-theme-b/toolbar-menu-theme-b\";\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tBrowserModule,\r\n\t\tRouterModule,\r\n\t\tFormsModule,\r\n\t\tHttpClientModule,\r\n\t\tFlexLayoutModule,\r\n\t\tMatIconModule,\r\n\t\tMatButtonModule,\r\n\t\tMatCardModule,\r\n\t\tMatSnackBarModule,\r\n\t\tMatSidenavModule,\r\n\t\tMatExpansionModule,\r\n\t\tMatSelectModule,\r\n\t\tMatFormFieldModule,\r\n\t\tMatListModule,\r\n\t\tMatMenuModule,\r\n\t\tMatRadioModule,\r\n\t\tMatInputModule,\r\n\t\tMatToolbarModule,\r\n\t\tMatDatepickerModule,\r\n\t\tMatProgressBarModule,\r\n\t\tRouterModule,\r\n\t\tTranslateModule,\r\n\t\tNgsConfigModule,\r\n\t\tRuleModule\r\n\t],\r\n\tdeclarations: [\r\n\t\tMainMenuComponent,\r\n\t\tSearchBoxComponent,\r\n\t\tLogoContainerComponent,\r\n\t\tToolbarMenuComponent,\r\n\t\tToolbarMenuThemeBComponent,\r\n\t\tFooterComponent,\r\n\t\tTitleComponent,\r\n\t\tNgsLayoutMainComponent\r\n\t],\r\n\texports: [\r\n\t\tMainMenuComponent,\r\n\t\tSearchBoxComponent,\r\n\t\tLogoContainerComponent,\r\n\t\tToolbarMenuComponent,\r\n\t\tToolbarMenuThemeBComponent,\r\n\t\tFooterComponent,\r\n\t\tTitleComponent,\r\n\t\tNgsLayoutMainComponent\r\n\t]\r\n})\r\nexport class NgsLayoutModule {\r\n\tstatic forRoot(config?: LayoutModuleConfigModel): ModuleWithProviders {\r\n\t\treturn {\r\n\t\t\tngModule: RootNgsLayoutModule,\r\n\t\t\tproviders: [\r\n\t\t\t\t{ provide: LOCALE_ID, useValue: \"en en-US\" },\r\n\t\t\t\t{ provide: MODULE_CONFIG_TOKEN, useValue: config }\r\n\t\t\t]\r\n\t\t};\r\n\t}\r\n}\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tNgsLayoutModule,\r\n\t\tStoreModule.forFeature(\"layout\", LayoutReducers),\r\n\t\tEffectsModule.forFeature([ LayoutEffects ])\r\n\t],\r\n\texports: [ NgsLayoutModule ]\r\n})\r\nexport class RootNgsLayoutModule {}\r\n","export enum LayoutOutlets {\r\n\t// TODO: remove in next major version : 6.0.45\r\n\tngs_layout_toolbar_menu = \"ngs-layout-after-toolbar-menu\",\r\n\tngs_layout_after_toolbar_menu = \"ngs-layout-after-toolbar-menu\",\r\n\tngs_layout_before_toolbar_menu = \"ngs-layout-before-toolbar-menu\",\r\n\tfooter_B = \"footer_B\",\r\n\tfooter_A = \"footer_A\"\r\n}\r\n"]}