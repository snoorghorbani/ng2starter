{
  "version": 3,
  "file": "main.component.js",
  "sources": [
    "ng://@soushians/layout/projects/soushians/layout/src/lib/dumb-components/main/main.component.ts"
  ],
  "sourcesContent": [
    "import { Component, ElementRef, ViewChild, AfterViewInit, OnDestroy, Input } from \"@angular/core\";\r\nimport { Router, NavigationEnd } from \"@angular/router\";\r\nimport { Observable } from \"rxjs/Observable\";\r\n// import { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { SwPush } from \"@angular/service-worker\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { MatSidenav, MatSidenavContainer } from \"@angular/material\";\r\n\r\nimport { ConfigModel, getAppConfig } from \"@soushians/config\";\r\nimport { UserModel, getUserInfo } from \"@soushians/user\";\r\n\r\nimport {\r\n\tFeatureState,\r\n\tgetShowMainSidenav,\r\n\tgetMainSideNavMode,\r\n\tgetShowSecondSidebarStatus,\r\n\tgetSecondSidebarMode,\r\n\tgetLayoutMode,\r\n\tgetLayoutToolbarMode\r\n} from \"../../reducers\";\r\n\r\nimport {\r\n\tCloseSecondSidenavAction,\r\n\tChangeSecondSidenavMode,\r\n\tOpenSecondSidenavAction,\r\n\tChangeSideNavMode,\r\n\tCloseSidenavAction,\r\n\tOpenSidenavAction,\r\n\tChangeLayout,\r\n\tChangeToolbatToComfortableModeAction\r\n} from \"../../actions\";\r\n\r\n@Component({\r\n\tselector: \"layout-main\",\r\n\ttemplate: `<div #mainSideNav [className]=\"toolbarAnimationState | async\">\r\n  <!-- <mat-progress-bar *ngIf='progressStatus$ | async' color=\"primary\" mode=\"query\"></mat-progress-bar> -->\r\n  <layout-toolbar [user]=\"user$ | async\" [showSidebarMenu]='showSidebarMenu | async' [app-config]=\"app_config\"></layout-toolbar>\r\n  \r\n  <mat-sidenav-container id=\"layout-sidnav\">\r\n    <mat-sidenav [mode]=\"mainSidenavMode | async\" [opened]='showMainSidenav | async' #sidebar (closedStart)=\"onSidebarClosedStart()\">\r\n      <mat-nav-list>\r\n        <ngs-layout-main-menu [authenticated]='showSidebarMenu' (closeSidebar)=\"sidebar.close()\" (click)=\"onSecondSidebarClosedStart()\"></ngs-layout-main-menu>\r\n      </mat-nav-list>\r\n    </mat-sidenav>\r\n    <!-- <mat-sidenav [mode]=\"secondSidenavMode | async\" [opened]='showSecondSidenav | async' (closedStart)=\"onSecondSidebarClosedStart()\"\r\n      position=\"end\" #second_sidebar class=\"second_sidebar\">\r\n      <mat-nav-list fxLayout='column'>\r\n      </mat-nav-list>\r\n    </mat-sidenav> -->\r\n    <div fxFlexLayout='column' id=\"app-main-container\" fxLayoutAlign='center center'>\r\n      <div fxFlex='0 0 100'>\r\n        <router-outlet></router-outlet>\r\n        <router-outlet name=\"footer_A\"></router-outlet>\r\n        <router-outlet name=\"footer_B\"></router-outlet>\r\n        <footer>\r\n          <app-footer [app-config]=\"app_config\"></app-footer>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  </mat-sidenav-container>\r\n</div>`,\r\n\tstyles: [`#purchase-fab-button{position:fixed;bottom:23px;left:31px}md-progress-bar{position:absolute!important}.with-margin #app-main-container{margin-top:25px;padding-right:25px;padding-left:25px}.second_sidebar{width:380px}.more-detail{margin:8px;box-sizing:border-box;padding:10px;text-align:center;width:96%;border:1px solid #dedede;outline:0;cursor:pointer;transition:all .3s ease}.more-detail:hover{background:#eee}`]\r\n})\r\nexport class MainComponent {\r\n\tuser$: Observable<UserModel>;\r\n\tprogressStatus$: Observable<boolean>;\r\n\tshowSidebarMenu = new BehaviorSubject(true);\r\n\t//user$: Observable<UserModel>;\r\n\tshowMainSidenav: Observable<boolean>;\r\n\tmainSidenavMode: Observable<\"side\" | \"over\" | \"push\">;\r\n\tlayoutMode: Observable<\"with-margin\" | \"without-margin\" | \"default\">;\r\n\t@Input(\"app-config\") app_config: ConfigModel<any>;\r\n\twidth = 100;\r\n\tshowSecondSidenav: Observable<boolean>;\r\n\tsecondSidenavMode: Observable<\"side\" | \"over\" | \"push\">;\r\n\ttoolbarAnimationState: Observable<string>;\r\n\t@ViewChild(\"mainSideNav\") mainSideNav: ElementRef;\r\n\r\n\tconstructor(private store: Store<FeatureState>, private router: Router) {\r\n\t\tthis.store.dispatch(new ChangeSideNavMode(\"push\"));\r\n\t\tthis.user$ = this.store.select((s) => (s as any).user.user.data);\r\n\t\tthis.user$.subscribe((data) => {\r\n\t\t\tdebugger;\r\n\t\t});\r\n\t\tthis.showMainSidenav = this.store.select(getShowMainSidenav);\r\n\t\tthis.mainSidenavMode = this.store.select(getMainSideNavMode);\r\n\t\tthis.toolbarAnimationState = this.store.select(getLayoutToolbarMode);\r\n\r\n\t\t//#region manage second sidebar\r\n\t\tthis.store.dispatch(new ChangeSecondSidenavMode(\"push\"));\r\n\t\tthis.showSecondSidenav = this.store.select(getShowSecondSidebarStatus);\r\n\t\tthis.secondSidenavMode = this.store.select(getSecondSidebarMode);\r\n\t\t//#endregion manage second sidebar\r\n\r\n\t\tthis.layoutMode = this.store.select(getLayoutMode);\r\n\r\n\t\tthis.router.events.filter((data) => data instanceof NavigationEnd).subscribe((event) => {\r\n\t\t\tvar hideSituations = [\r\n\t\t\t\t(event as NavigationEnd).urlAfterRedirects == \"/auth/signin\",\r\n\t\t\t\t(event as NavigationEnd).urlAfterRedirects == \"/auth/signup/register\",\r\n\t\t\t\t(event as NavigationEnd).urlAfterRedirects == \"/auth/signup/verification\",\r\n\t\t\t\t(event as NavigationEnd).urlAfterRedirects == \"/user/password/reset\"\r\n\t\t\t];\r\n\t\t\tif (hideSituations.some((i) => i)) this.showSidebarMenu.next(false);\r\n\t\t\telse this.showSidebarMenu.next(true);\r\n\t\t});\r\n\r\n\t\tthis.layoutMode.subscribe((mode) => {\r\n\t\t\tif (!this.mainSideNav) return;\r\n\t\t\t(this.mainSideNav.nativeElement as HTMLDivElement).className = \"\";\r\n\t\t\t(this.mainSideNav.nativeElement as HTMLDivElement).classList.add(mode);\r\n\t\t});\r\n\t}\r\n\r\n\t// ngAfterViewInit() {\r\n\t// \tthis.store.dispatch(new ChangeLayout(\"with-margin\"));\r\n\t// }\r\n\r\n\tonSecondSidebarClosedStart() {\r\n\t\tthis.store.dispatch(new CloseSecondSidenavAction());\r\n\t}\r\n\r\n\tonSidebarClosedStart() {\r\n\t\tthis.store.dispatch(new CloseSidenavAction());\r\n\t}\r\n}\r\n"
  ],
  "names": [],
  "mappings": ";;;;AAAA,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAA4B,KAAK,EAAE,MAAM,eAAe,CAAC;AAClG,OAAO,EAAE,MAAM,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAGxD,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,OAAO,EAAE,eAAe,EAAE,MAAM,MAAM,CAAC;AAGvC,OAAO,EAAE,WAAW,EAAgB,MAAM,mBAAmB,CAAC;AAG9D,OAAO,EAEN,kBAAkB,EAClB,kBAAkB,EAClB,0BAA0B,EAC1B,oBAAoB,EACpB,aAAa,EACb,oBAAoB,EACpB,MAAM,gBAAgB,CAAC;AAExB,OAAO,EACN,wBAAwB,EACxB,uBAAuB,EAEvB,iBAAiB,EACjB,kBAAkB,EAIlB,MAAM,eAAe,CAAC;AAiCvB,MAAM;;;;;IAeL,YAAoB,KAA0B,EAAU,MAAc;QAAlD,UAAK,GAAL,KAAK,CAAqB;QAAU,WAAM,GAAN,MAAM,CAAQ;+BAZpD,IAAI,eAAe,CAAC,IAAI,CAAC;qBAMnC,GAAG;QAOV,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,mBAAC,CAAQ,EAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC7B,QAAQ,CAAC;SACT,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;QAC7D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;QAC7D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;;QAGrE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,uBAAuB,CAAC,MAAM,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC;QACvE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;;QAGjE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QAEnD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,YAAY,aAAa,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YACtF,qBAAI,cAAc,GAAG;gBACpB,mBAAC,KAAsB,EAAC,CAAC,iBAAiB,IAAI,cAAc;gBAC5D,mBAAC,KAAsB,EAAC,CAAC,iBAAiB,IAAI,uBAAuB;gBACrE,mBAAC,KAAsB,EAAC,CAAC,iBAAiB,IAAI,2BAA2B;gBACzE,mBAAC,KAAsB,EAAC,CAAC,iBAAiB,IAAI,sBAAsB;aACpE,CAAC;YACF,EAAE,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;gBAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACpE,IAAI;gBAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACrC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAClC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;gBAAC,MAAM,CAAC;YAC9B,mBAAC,IAAI,CAAC,WAAW,CAAC,aAA+B,EAAC,CAAC,SAAS,GAAG,EAAE,CAAC;YAClE,mBAAC,IAAI,CAAC,WAAW,CAAC,aAA+B,EAAC,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACvE,CAAC,CAAC;KACH;;;;IAMD,0BAA0B;QACzB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,wBAAwB,EAAE,CAAC,CAAC;KACpD;;;;IAED,oBAAoB;QACnB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,kBAAkB,EAAE,CAAC,CAAC;KAC9C;;;YA5FD,SAAS,SAAC;gBACV,QAAQ,EAAE,aAAa;gBACvB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;OA0BJ;gBACN,MAAM,EAAE,CAAC,8ZAA8Z,CAAC;aACxa;;;;YA3DQ,KAAK;YAHL,MAAM;;;yBAuEb,KAAK,SAAC,YAAY;0BAKlB,SAAS,SAAC,aAAa"
}
