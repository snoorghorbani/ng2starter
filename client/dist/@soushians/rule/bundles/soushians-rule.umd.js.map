{"version":3,"file":"soushians-rule.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@soushians/rule/lib/rule.config.ts","ng://@soushians/rule/lib/rule.component.ts","ng://@soushians/rule/lib/rule-routing.module.ts","ng://@soushians/rule/lib/rule-anchor/rule-anchor.actions.ts","ng://@soushians/rule/lib/rule-anchor/rule-anchor.reducer.ts","ng://@soushians/rule/lib/db/rule-db.actions.ts","ng://@soushians/rule/lib/db/rule-db.reducer.ts","ng://@soushians/rule/lib/db/scenario-db.actions.ts","ng://@soushians/rule/lib/db/scenario-db.reducer.ts","ng://@soushians/rule/lib/rule.reducers.ts","ng://@soushians/rule/lib/services/rule-configuration.service.ts","ng://@soushians/rule/lib/models/gwt-scenario.model.ts","ng://@soushians/rule/lib/step-loader/step-loader.directive.ts","ng://@soushians/rule/lib/services/scenario.service.ts","ng://@soushians/rule/lib/gwt-view/gwt-view.component.ts","ng://@soushians/rule/lib/models/gwt-step-types.enum.ts","ng://@soushians/rule/lib/rule-anchor/rule-anchor.directive.ts","ng://@soushians/rule/lib/db/scenario-db.effects.ts","ng://@soushians/rule/lib/db/rule-db.effects.ts","ng://@soushians/rule/lib/mode-button/mode-button.component.ts","ng://@soushians/rule/lib/services/rule.service.ts","ng://@soushians/rule/lib/rule.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { InjectionToken, Type } from \"@angular/core\";\r\n\r\nimport { GwtStep } from \"./models/gwt-step.model\";\r\n\r\nexport interface RuleModuleConfig {\r\n\tendpoints?: {\r\n\t\tupsert?: string;\r\n\t\tget?: string;\r\n\t};\r\n\tstepClasses?: Type<GwtStep>[];\r\n\tsteps?: GwtStep[];\r\n\tenv?: {\r\n\t\tproduction: boolean;\r\n\t\tfrontend_server: string;\r\n\t};\r\n}\r\nexport const MODULE_DEFAULT_CONFIG: RuleModuleConfig = {\r\n\tendpoints: {\r\n\t\tupsert: \"/api/gwt/scenario\",\r\n\t\tget: \"/api/gwt/anchor/${model.anchorId}/scenarios\"\r\n\t},\r\n\tstepClasses: [],\r\n\tenv: {\r\n\t\tproduction: false,\r\n\t\tfrontend_server: \"frontend_server/did/not/set\"\r\n\t}\r\n};\r\nexport const MODULE_CONFIG_TOKEN = new InjectionToken<RuleModuleConfig>(\"RuleModuleConfig\");\r\n","import { Component, OnInit } from \"@angular/core\";\n\n@Component({\n\tselector: \"app-rule\",\n\ttemplateUrl: \"./rule.component.html\"\n})\nexport class RuleComponent implements OnInit {\n\tconstructor() {}\n\n\tngOnInit() {}\n}\n","import { ModuleWithProviders } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\n\r\nimport { RuleComponent } from \"./rule.component\";\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: \"rule\",\r\n\t\tcomponent: RuleComponent\r\n\t\t// children: [ {} ]\r\n\t}\r\n];\r\n\r\nexport const RoutingModule: ModuleWithProviders = RouterModule.forChild(routes);\r\n","import { Action } from \"@ngrx/store\";\r\n\r\nexport enum RuleAnchorsActionTypes {\r\n\tSHOW_ANCHORS = \"[RULE][ANCHORS] SHOW_ANCHORS\",\r\n\tHIDE_ANCHORS = \"[RULE][ANCHORS] HIDE_ANCHORS\"\r\n}\r\n\r\nexport class ShowAnchorsAction implements Action {\r\n\treadonly type = RuleAnchorsActionTypes.SHOW_ANCHORS;\r\n}\r\n\r\nexport class HideAnchorsAction implements Action {\r\n\treadonly type = RuleAnchorsActionTypes.HIDE_ANCHORS;\r\n}\r\n\r\nexport type RuleAnchorsAction = ShowAnchorsAction | HideAnchorsAction;\r\n","import { RuleAnchorsAction, RuleAnchorsActionTypes } from \"./rule-anchor.actions\";\r\n\r\nexport interface State {\r\n\tactive: boolean;\r\n}\r\n\r\nexport const initialState: State = {\r\n\tactive: false\r\n};\r\n\r\nexport function Reducer(state = initialState, action: RuleAnchorsAction): State {\r\n\tswitch (action.type) {\r\n\t\tcase RuleAnchorsActionTypes.SHOW_ANCHORS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactive: true\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase RuleAnchorsActionTypes.HIDE_ANCHORS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactive: false\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//#region  selectors\r\nexport const getAnchorsActivityState = (state: State) => state.active;\r\n//#endregion\r\n","import { Action } from \"@ngrx/store\";\r\n\r\nimport { RuleModel } from \"../models/rule.model\";\r\n\r\nexport enum RulesListActionTypes {\r\n\tRULES_LIST = \"[RULE][DB] RULES_LIST\",\r\n\tRULES_LIST_START = \"[RULE][DB] RULES_LIST_START\",\r\n\tRULES_LIST_SUCCEED = \"[RULE][DB] RULES_LIST_SUCCEED\",\r\n\tRULES_LIST_FAILED = \"[RULE][DB] RULES_LIST_FAILED\",\r\n\tRULE_UPSERT = \"[RULE][DB] RULE_UPSERT\",\r\n\tGET_RULE = \"[RULE][DB] GET_RULE\",\r\n\tRULE_FETCHED = \"[RULE][DB] RULE_FETCHED\"\r\n}\r\n\r\nexport class RulesListAction implements Action {\r\n\treadonly type = RulesListActionTypes.RULES_LIST;\r\n}\r\nexport class RulesListStartAction implements Action {\r\n\treadonly type = RulesListActionTypes.RULES_LIST_START;\r\n}\r\nexport class RulesListSucceedAction implements Action {\r\n\treadonly type = RulesListActionTypes.RULES_LIST_SUCCEED;\r\n\tconstructor(public payload: RuleModel[]) {}\r\n}\r\nexport class RulesListFailedAction implements Action {\r\n\treadonly type = RulesListActionTypes.RULES_LIST_FAILED;\r\n}\r\nexport class UpsertRuleAction implements Action {\r\n\treadonly type = RulesListActionTypes.RULE_UPSERT;\r\n\tconstructor(public payload: RuleModel) {}\r\n}\r\nexport class GetRuleAction implements Action {\r\n\treadonly type = RulesListActionTypes.GET_RULE;\r\n\tconstructor(public payload: string) {}\r\n}\r\nexport class RuleFechedAction implements Action {\r\n\treadonly type = RulesListActionTypes.RULE_FETCHED;\r\n\tconstructor(public payload: RuleModel) {}\r\n}\r\n\r\nexport type RulesListActions =\r\n\t| RulesListAction\r\n\t| RulesListStartAction\r\n\t| RulesListSucceedAction\r\n\t| RulesListFailedAction\r\n\t| UpsertRuleAction\r\n\t| GetRuleAction\r\n\t| RuleFechedAction;\r\n","import { responseStatusTypes } from \"@soushians/shared\";\r\n\r\nimport { RuleModel } from \"../models/rule.model\";\r\nimport { RulesListActionTypes, RulesListActions } from \"./rule-db.actions\";\r\n\r\nexport interface State {\r\n\tstatus: responseStatusTypes;\r\n\tdata: RuleModel[];\r\n}\r\nexport const initialState: State = {\r\n\tstatus: \"pristine\",\r\n\tdata: []\r\n};\r\nexport function reducer(state = initialState, action: RulesListActions): State {\r\n\tswitch (action.type) {\r\n\t\tcase RulesListActionTypes.RULES_LIST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"dirty\"\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase RulesListActionTypes.RULES_LIST_START: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"pending\"\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase RulesListActionTypes.RULES_LIST_SUCCEED: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: action.payload,\r\n\t\t\t\tstatus: \"succeed\"\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase RulesListActionTypes.RULES_LIST_FAILED: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"failed\"\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase RulesListActionTypes.RULE_UPSERT: {\r\n\t\t\tconst data = state.data.concat();\r\n\t\t\tvar entityIdx = state.data.findIndex(form => form._id == action.payload._id);\r\n\t\t\tif (entityIdx > -1) {\r\n\t\t\t\tdata[entityIdx] = Object.assign({}, data[entityIdx], action.payload);\r\n\t\t\t} else {\r\n\t\t\t\tdata.push(action.payload);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: data\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase RulesListActionTypes.RULE_FETCHED: {\r\n\t\t\tconst data = state.data.concat();\r\n\t\t\tvar entityIdx = state.data.findIndex(form => form._id == action.payload._id);\r\n\t\t\tif (entityIdx > -1) {\r\n\t\t\t\tdata[entityIdx] = Object.assign({}, data[entityIdx], action.payload);\r\n\t\t\t} else {\r\n\t\t\t\tdata.push(action.payload);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: data\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport var getStatus = (state: State) => state.status;\r\n","import { Action } from \"@ngrx/store\";\r\n\r\nimport { GwtScenarioModel } from \"../models/gwt-scenario.model\";\r\n\r\nexport enum ScenariosListActionTypes {\r\n\tSCENARIOS_LIST = \"[GWT][SCENARIO][DB][LIST] SCENARIOS_LIST\",\r\n\tSCENARIOS_LIST_START = \"[SCENARIO][DB] SCENARIOS_LIST_START\",\r\n\tSCENARIOS_LIST_SUCCEED = \"[SCENARIO][DB] SCENARIOS_LIST_SUCCEED\",\r\n\tSCENARIOS_LIST_FAILED = \"[SCENARIO][DB] SCENARIOS_LIST_FAILED\",\r\n\tUPSERT = \"[GWT][SCENARIO][DB][UPSERT] SCENARIO_UPSERT\",\r\n\tGET_SCENARIO = \"[SCENARIO][DB] GET_SCENARIO\",\r\n\tSCENARIO_FETCHED = \"[SCENARIO][DB] SCENARIO_FETCHED\",\r\n\t/// new vision\r\n\tUPDATE_DB = \"[GWT][SCENARIO][DB] UPDATE_DB\"\r\n}\r\n\r\nexport class ScenariosListAction implements Action {\r\n\treadonly type = ScenariosListActionTypes.SCENARIOS_LIST;\r\n}\r\nexport class ScenariosListStartAction implements Action {\r\n\treadonly type = ScenariosListActionTypes.SCENARIOS_LIST_START;\r\n}\r\nexport class ScenariosListSucceedAction implements Action {\r\n\treadonly type = ScenariosListActionTypes.SCENARIOS_LIST_SUCCEED;\r\n\tconstructor(public payload: GwtScenarioModel[]) {}\r\n}\r\nexport class ScenariosListFailedAction implements Action {\r\n\treadonly type = ScenariosListActionTypes.SCENARIOS_LIST_FAILED;\r\n}\r\nexport class UpsertScenarioAction implements Action {\r\n\treadonly type = ScenariosListActionTypes.UPSERT;\r\n\tconstructor(public payload: GwtScenarioModel) {}\r\n}\r\nexport class GetScenarioAction implements Action {\r\n\treadonly type = ScenariosListActionTypes.GET_SCENARIO;\r\n\tconstructor(public payload: string) {}\r\n}\r\nexport class ScenarioFechedAction implements Action {\r\n\treadonly type = ScenariosListActionTypes.SCENARIO_FETCHED;\r\n\tconstructor(public payload: GwtScenarioModel) {}\r\n}\r\nexport class UpdateDbAction implements Action {\r\n\treadonly type = ScenariosListActionTypes.UPDATE_DB;\r\n\tconstructor(public payload: GwtScenarioModel[]) {}\r\n}\r\n\r\nexport type ScenariosListActions =\r\n\t| ScenariosListAction\r\n\t| ScenariosListStartAction\r\n\t| ScenariosListSucceedAction\r\n\t| ScenariosListFailedAction\r\n\t| UpsertScenarioAction\r\n\t| GetScenarioAction\r\n\t| ScenarioFechedAction\r\n\t| UpdateDbAction;\r\n","import { responseStatusTypes } from \"@soushians/shared\";\r\n\r\nimport { GwtScenarioModel } from \"../models/gwt-scenario.model\";\r\nimport { ScenariosListActionTypes, ScenariosListActions } from \"./scenario-db.actions\";\r\n\r\nexport interface State {\r\n\tstatus: responseStatusTypes;\r\n\tdata: GwtScenarioModel[];\r\n}\r\nexport const initialState: State = {\r\n\tstatus: \"pristine\",\r\n\tdata: []\r\n};\r\nexport function reducer(state = initialState, action: ScenariosListActions): State {\r\n\tswitch (action.type) {\r\n\t\tcase ScenariosListActionTypes.SCENARIOS_LIST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"dirty\"\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase ScenariosListActionTypes.SCENARIOS_LIST_START: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"pending\"\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase ScenariosListActionTypes.SCENARIOS_LIST_SUCCEED: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: action.payload,\r\n\t\t\t\tstatus: \"succeed\"\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase ScenariosListActionTypes.SCENARIOS_LIST_FAILED: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"failed\"\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase ScenariosListActionTypes.UPSERT: {\r\n\t\t\tconst data = state.data.concat();\r\n\t\t\tvar entityIdx = state.data.findIndex(form => form._id == action.payload._id);\r\n\t\t\tif (entityIdx > -1) {\r\n\t\t\t\tdata[entityIdx] = Object.assign({}, data[entityIdx], action.payload);\r\n\t\t\t} else {\r\n\t\t\t\tdata.push(action.payload);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: data\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase ScenariosListActionTypes.SCENARIO_FETCHED: {\r\n\t\t\tconst data = state.data.concat();\r\n\t\t\tvar entityIdx = state.data.findIndex(form => form._id == action.payload._id);\r\n\t\t\tif (entityIdx > -1) {\r\n\t\t\t\tdata[entityIdx] = Object.assign({}, data[entityIdx], action.payload);\r\n\t\t\t} else {\r\n\t\t\t\tdata.push(action.payload);\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: data\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase ScenariosListActionTypes.UPDATE_DB: {\r\n\t\t\tconst data = state.data.concat();\r\n\t\t\tconst scenarios = action.payload;\r\n\t\t\tscenarios.forEach(scenario => {\r\n\t\t\t\tvar entityIdx = state.data.findIndex(form => form._id == scenario._id);\r\n\t\t\t\tif (entityIdx > -1) {\r\n\t\t\t\t\tdata[entityIdx] = Object.assign({}, data[entityIdx], scenario);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata.push(scenario);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: data\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport var getStatus = (state: State) => state.status;\r\n","import * as fromRuleAnchor from \"./rule-anchor/rule-anchor.reducer\";\r\nimport * as fromRuleDbAnchor from \"./db/rule-db.reducer\";\r\nimport * as fromScenarioDbAnchor from \"./db/scenario-db.reducer\";\r\n\r\nexport interface RuleState {\r\n\truleAnchors: fromRuleAnchor.State;\r\n\trules: fromRuleDbAnchor.State;\r\n\tscenarios: fromScenarioDbAnchor.State;\r\n}\r\n\r\nexport const RuleReducers = {\r\n\truleAnchors: fromRuleAnchor.Reducer,\r\n\trules: fromRuleDbAnchor.reducer,\r\n\tscenarios: fromScenarioDbAnchor.reducer\r\n};\r\n\r\nexport interface AppState {\r\n\t\"rule\": RuleState;\r\n}\r\n","import { Injectable, Inject, Injector } from \"@angular/core\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\n\r\n// import { getRuleModuleConfig } from \"@soushians/config\";\r\nimport { RuleModuleConfig } from \"../rule.config\";\r\nimport { MODULE_CONFIG_TOKEN, MODULE_DEFAULT_CONFIG } from \"../rule.config\";\r\nimport { RuleState } from \"../rule.reducers\";\r\n\r\n@Injectable()\r\nexport class RuleConfigurationService {\r\n\tprivate _config: RuleModuleConfig;\r\n\tget config() {\r\n\t\treturn this._config;\r\n\t}\r\n\tconfig$ = new BehaviorSubject(MODULE_DEFAULT_CONFIG);\r\n\r\n\tconstructor(\r\n\t\t@Inject(MODULE_CONFIG_TOKEN) configFile: RuleModuleConfig,\r\n\t\tprivate store: Store<RuleState>,\r\n\t\tprivate injector: Injector\r\n\t) {\r\n\t\t// instantiate steps and used them\r\n\t\tconfigFile.steps = configFile.stepClasses.map(step => new step(this.injector));\r\n\r\n\t\tthis._config = Object.assign({}, MODULE_DEFAULT_CONFIG, configFile);\r\n\r\n\t\tthis.config$.next(this._config);\r\n\r\n\t\t// this.store.select(getRuleModuleConfig).subscribe(userConfig => {\r\n\t\t// \tif (!userConfig) return;\r\n\t\t// \tthis._config = Object.assign({}, this._config, userConfig.Config);\r\n\t\t// \tthis.config$.next(this._config);\r\n\t\t// });\r\n\t}\r\n}\r\n","import { GwtStep } from \"./gwt-step.model\";\r\n\r\nexport class GwtScenarioModel {\r\n\t_id: string;\r\n\tname: string;\r\n\tanchorId: string;\r\n\tfeatureId: string;\r\n\tsteps: GwtStep[];\r\n\tconstructor(\r\n\t\t{\r\n\t\t\t_id,\r\n\t\t\tanchorId,\r\n\t\t\tsteps,\r\n\t\t\tname,\r\n\t\t\tfeatureId\r\n\t\t}: { _id?: string; anchorId?: string; steps?: GwtStep[]; name?: string; featureId?: string } = {}\r\n\t) {\r\n\t\tthis._id = _id || \"\";\r\n\t\tthis.name = name || \"\";\r\n\t\tthis.featureId = featureId || \"\";\r\n\t\tthis._id = _id || \"\";\r\n\t\tthis.anchorId = anchorId || \"\";\r\n\t\tthis.steps = steps || [];\r\n\t}\r\n\tgetRequsetBody() {\r\n\t\treturn {\r\n\t\t\t_id: this._id,\r\n\t\t\tanchorId: this.anchorId,\r\n\t\t\tname: this.name,\r\n\t\t\tfeatureId: this.featureId,\r\n\t\t\tsteps: this.steps.map((step) => ({\r\n\t\t\t\tid: step.id,\r\n\t\t\t\topposite: step.opposite,\r\n\t\t\t\tparams: step.params\r\n\t\t\t}))\r\n\t\t};\r\n\t}\r\n}\r\n","import {\r\n\tComponent,\r\n\tOnInit,\r\n\tInput,\r\n\tViewContainerRef,\r\n\tComponentFactoryResolver,\r\n\tComponentRef,\r\n\tViewChild,\r\n\tDirective,\r\n\tOnChanges\r\n} from \"@angular/core\";\r\n\r\nimport { GwtStep } from \"../models/gwt-step.model\";\r\n\r\n@Directive({\r\n\tselector: \"[rule-step-loader]\"\r\n\t// templateUrl: \"./step-loader.component.html\",\r\n\t// styleUrls: [ \"./step-loader.component.css\" ]\r\n})\r\nexport class StepLoaderDirective implements OnChanges, OnInit {\r\n\t@Input() step: GwtStep<any>;\r\n\t@ViewChild(\"container\", { read: ViewContainerRef, static: false })\r\n\t// TODO: fix generic type\r\n\tcomponent: ComponentRef<any>;\r\n\tget params() {\r\n\t\treturn this.component.instance.params || {};\r\n\t}\r\n\tconstructor(private resolver: ComponentFactoryResolver, private container: ViewContainerRef) { }\r\n\r\n\tngOnChanges() {\r\n\t\tif (this.component) {\r\n\t\t\t// this.component.instance.config = this.config;\r\n\t\t\t// this.component.instance.group = this.group;\r\n\t\t}\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tif (!this.step.stepComponent) {\r\n\t\t\tdebugger;\r\n\t\t\tthrow new Error(\r\n\t\t\t\t`Trying to use an unsupported type ().\r\n\t\t  Supported types: `\r\n\t\t\t);\r\n\t\t}\r\n\t\t// TODO: fix generic type\r\n\t\tconst component = this.resolver.resolveComponentFactory<any>(this.step.stepComponent);\r\n\t\tthis.component = this.container.createComponent(component);\r\n\t\tdebugger;\r\n\t\tthis.component.instance.params = this.step.params;\r\n\t}\r\n}\r\n","import { filter, map, startWith, share, tap } from \"rxjs/operators\";\r\nimport { Observable, BehaviorSubject } from \"rxjs/Rx\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Store } from \"@ngrx/store\";\r\n\r\nimport { stringTemplate } from \"@soushians/shared\";\r\n\r\nimport { RuleConfigurationService } from \"./rule-configuration.service\";\r\nimport { GwtScenarioModel } from \"../models/gwt-scenario.model\";\r\nimport { RuleModuleConfig } from \"../rule.config\";\r\nimport { AppState } from \"../rule.reducers\";\r\nimport { of } from \"rxjs\";\r\n\r\n@Injectable()\r\nexport class ScenarioService {\r\n\tconfig$: Observable<RuleModuleConfig>;\r\n\tconfig: RuleModuleConfig;\r\n\tscenarios = {};\r\n\tconstructor(\r\n\t\tprivate http: HttpClient,\r\n\t\tprivate store: Store<AppState>,\r\n\t\tprivate configService: RuleConfigurationService\r\n\t) {\r\n\t\tthis.config$ = this.configService.config$;\r\n\t\tthis.config$.subscribe(config => (this.config = config));\r\n\t}\r\n\r\n\tupsert(scenario: GwtScenarioModel): Observable<GwtScenarioModel> {\r\n\t\tconst model = new GwtScenarioModel(scenario);\r\n\t\treturn this.http\r\n\t\t\t.post(this.config.env.frontend_server + this.config.endpoints.upsert, model.getRequsetBody())\r\n\t\t\t.pipe(map(response => response as GwtScenarioModel), share());\r\n\t}\r\n\r\n\tgetAnchorScenarios(anchorId: string): Observable<GwtScenarioModel[]> {\r\n\t\tif (!this.scenarios[anchorId]) {\r\n\t\t\tthis.scenarios[anchorId] = new BehaviorSubject<GwtScenarioModel[]>([]);\r\n\r\n\t\t\tthis.http\r\n\t\t\t\t.get<any>(this.config.env.frontend_server + stringTemplate(this.config.endpoints.get, { anchorId }))\r\n\t\t\t\t.pipe(map(response => response.Result as GwtScenarioModel[]))\r\n\t\t\t\t.subscribe(scenarios => this.scenarios[anchorId].next(scenarios));\r\n\t\t}\r\n\r\n\t\treturn this.scenarios[anchorId];\r\n\t}\r\n\r\n\tselectScenarioById(_id: string): Observable<GwtScenarioModel> {\r\n\t\tconst subject = new BehaviorSubject<GwtScenarioModel>(undefined);\r\n\t\tthis.store\r\n\t\t\t.select(state => state.rule.scenarios.data)\r\n\t\t\t.pipe(\r\n\t\t\t\tfilter(scenarios => scenarios != null),\r\n\t\t\t\tmap(scenarios => {\r\n\t\t\t\t\treturn scenarios.find(scenario => scenario._id == _id);\r\n\t\t\t\t}),\r\n\t\t\t\tfilter(scenario => scenario != undefined)\r\n\t\t\t)\r\n\t\t\t.subscribe(scenario => {\r\n\t\t\t\tsubject.next(scenario);\r\n\t\t\t});\r\n\t\treturn subject.asObservable();\r\n\t}\r\n\r\n\tselectAnchorScenarios(anchorId: string): Observable<GwtScenarioModel[]> {\r\n\t\tconst subject = new BehaviorSubject<GwtScenarioModel[]>(undefined);\r\n\t\tthis.store\r\n\t\t\t.select(state => state.rule.scenarios.data)\r\n\t\t\t.pipe(\r\n\t\t\t\tstartWith([]),\r\n\t\t\t\tfilter(scenarios => scenarios != null),\r\n\t\t\t\tmap(scenarios => {\r\n\t\t\t\t\treturn scenarios.filter(scenario => scenario._id == anchorId);\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe(scenarios => {\r\n\t\t\t\tsubject.next(scenarios);\r\n\t\t\t});\r\n\t\treturn subject.asObservable();\r\n\t}\r\n}\r\n","import { Component, OnInit, Inject, Type, Injector, ViewChildren, OnDestroy } from \"@angular/core\";\r\nimport { map, filter, withLatestFrom, takeUntil } from \"rxjs/operators\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { Observable, BehaviorSubject, Subject } from \"rxjs\";\r\nimport { MAT_BOTTOM_SHEET_DATA } from \"@angular/material\";\r\n\r\nimport { FormGroup } from \"@angular/forms\";\r\nimport { FormControl } from \"@angular/forms\";\r\n\r\nimport { RuleConfigurationService } from \"../services/rule-configuration.service\";\r\nimport { GwtStep } from \"../models/gwt-step.model\";\r\nimport { GwtScenarioModel } from \"../models/gwt-scenario.model\";\r\nimport { AppState } from \"../rule.reducers\";\r\nimport { UpsertScenarioAction } from \"../db/scenario-db.actions\";\r\nimport { StepLoaderDirective } from \"../step-loader/step-loader.directive\";\r\nimport { ScenarioService } from \"../services/scenario.service\";\r\n\r\n@Component({\r\n\tselector: \"app-gwt-view\",\r\n\ttemplateUrl: \"./gwt-view.component.html\",\r\n\tstyleUrls: [\"./gwt-view.component.css\"]\r\n})\r\nexport class GwtViewComponent implements OnInit, OnDestroy {\r\n\tunsubscribe = new Subject<void>();\r\n\tsteps$: Observable<GwtStep[]>;\r\n\tsteps: GwtStep[];\r\n\tscenario$ = new BehaviorSubject<GwtScenarioModel>(new GwtScenarioModel());\r\n\tscenarios$ = new BehaviorSubject<GwtScenarioModel[]>([]);\r\n\tscenarioFormGroup: FormGroup;\r\n\tfeatures$: string[];\r\n\t@ViewChildren(StepLoaderDirective) stepLoaders: StepLoaderDirective[];\r\n\tconstructor(\r\n\t\tprivate store: Store<AppState>,\r\n\t\tprivate configService: RuleConfigurationService,\r\n\t\tprivate scenarioService: ScenarioService,\r\n\t\tprivate injector: Injector,\r\n\t\t@Inject(MAT_BOTTOM_SHEET_DATA) private data: any\r\n\t) {\r\n\t\tthis._create_scenario_form_group();\r\n\t\tthis._init_features_list();\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.steps$ = this.configService.config$.pipe(map(config => config.steps), takeUntil(this.unsubscribe));\r\n\t\tthis.steps$.subscribe(steps => (this.steps = steps));\r\n\t\tthis._load_scenario_and_map_scenario_step_to_steps_class();\r\n\t\tthis.scenario$.subscribe(s => {\r\n\t\t\tdebugger;\r\n\t\t});\r\n\t}\r\n\tngOnDestroy() {\r\n\t\tthis.unsubscribe.next();\r\n\t\tthis.unsubscribe.complete();\r\n\t}\r\n\tsave() {\r\n\t\tconst scenario = this.scenario$.getValue();\r\n\t\tthis.stepLoaders.forEach(stepLoader => {\r\n\t\t\tscenario.steps.find(step => step.name === stepLoader.step.name).params = stepLoader.params;\r\n\t\t});\r\n\t\tscenario.featureId = this.scenarioFormGroup.value.featureId;\r\n\t\tscenario.name = this.scenarioFormGroup.value.name;\r\n\t\tthis.store.dispatch(new UpsertScenarioAction(scenario));\r\n\t}\r\n\taddStepToScenario(step: GwtStep) {\r\n\t\tconst scenario = this.scenario$.getValue();\r\n\t\tscenario.steps.push(step);\r\n\t\tthis.scenario$.next(scenario);\r\n\t}\r\n\tdeleteStepFromScenario(step: GwtStep) {\r\n\t\tconst scenario = this.scenario$.getValue();\r\n\t\tscenario.steps.splice(scenario.steps.findIndex(item => item.name === step.name), 1);\r\n\t\tthis.scenario$.next(scenario);\r\n\t}\r\n\tdecScenarioStepPriority(step: GwtStep) { }\r\n\tincScenarioStepPriority(step: GwtStep) { }\r\n\taddNewScenario() {\r\n\t\tconst scenarios = this.scenarios$.getValue();\r\n\t\tscenarios.push(\r\n\t\t\tnew GwtScenarioModel({\r\n\t\t\t\tanchorId: this.data.anchorId\r\n\t\t\t})\r\n\t\t);\r\n\t\tthis.scenarios$.next(scenarios);\r\n\t}\r\n\tactiveScenario(scenario: GwtScenarioModel) {\r\n\t\tdebugger;\r\n\t\tscenario.steps = scenario.steps.map(scenarioStep => {\r\n\t\t\tconst _step = this.steps.find(step => step.id === scenarioStep.id);\r\n\t\t\tconst step = Object.create(_step);\r\n\t\t\tstep.params = scenarioStep.params;\r\n\t\t\treturn step;\r\n\t\t});\r\n\t\tthis.scenarioFormGroup.patchValue(scenario);\r\n\t\tscenario.anchorId = this.data.anchorId;\r\n\t\tthis.scenario$.next(scenario);\r\n\t}\r\n\r\n\t_load_scenario_and_map_scenario_step_to_steps_class() {\r\n\t\tthis.scenarioService\r\n\t\t\t.getAnchorScenarios(this.data.anchorId)\r\n\t\t\t.pipe(takeUntil(this.unsubscribe))\r\n\t\t\t.subscribe(scenarios => {\r\n\t\t\t\tthis.scenarios$.next(scenarios);\r\n\t\t\t\tthis.activeScenario(scenarios[0] || new GwtScenarioModel());\r\n\t\t\t});\r\n\t}\r\n\t_create_scenario_form_group() {\r\n\t\tthis.scenarioFormGroup = new FormGroup({\r\n\t\t\tfeatureId: new FormControl(),\r\n\t\t\tname: new FormControl()\r\n\t\t});\r\n\t}\r\n\t_reset_scenario_form_group_and_patch_with_active_scenario() {\r\n\t\tthis.scenarioFormGroup.reset();\r\n\t\tthis.scenarioFormGroup.patchValue(this.scenario$.getValue());\r\n\t}\r\n\t_init_features_list() {\r\n\t\tthis.features$ = [\"ÙØ¯ÛØ±ÛØª ÙÙØ§ÛØ´ Ø¨Ø±Ø§Ø³Ø§Ø³ Ø¯Ø³ØªØ±Ø³Û ÙØ§Û Ú©Ø§Ø±Ø¨Ø±\"];\r\n\t}\r\n}\r\n","export enum GwtStepTypes {\r\n\t\"Given\" = \"Given\",\r\n\t\"When\" = \"When\",\r\n\t\"Then\" = \"Then\",\r\n\t\"And\" = \"And\",\r\n\t\"But\" = \"But\"\r\n}\r\n","import { Directive, HostListener, ElementRef, Renderer2, OnInit, Input, OnDestroy } from \"@angular/core\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { Observable, of, zip, Subject, combineLatest } from \"rxjs\";\r\nimport { filter, map, switchMap, takeUntil } from \"rxjs/operators\";\r\nimport { MatBottomSheet } from \"@angular/material\";\r\n\r\nimport { GwtViewComponent } from \"../gwt-view/gwt-view.component\";\r\nimport { AppState } from \"../rule.reducers\";\r\nimport { GwtScenarioModel } from \"../models/gwt-scenario.model\";\r\nimport { ScenarioService } from \"../services/scenario.service\";\r\nimport { GwtStepTypes } from \"../models/gwt-step-types.enum\";\r\nimport { GwtStep } from \"../models/gwt-step.model\";\r\nimport { RuleConfigurationService } from \"../services/rule-configuration.service\";\r\n\r\n@Directive({\r\n\tselector: \"[ruleAnchor]\"\r\n})\r\nexport class RuleAnchorDirective implements OnInit, OnDestroy {\r\n\tunsubscribe = new Subject<void>();\r\n\t@Input(\"ruleAnchor\") anchorId;\r\n\tsteps: GwtStep[];\r\n\tactive$: Observable<boolean>;\r\n\tactive: boolean;\r\n\tbutton: HTMLButtonElement;\r\n\tanchorScenarios$: Observable<GwtScenarioModel[]>;\r\n\tconstructor(\r\n\t\tprivate scenarioService: ScenarioService,\r\n\t\tprivate configService: RuleConfigurationService,\r\n\t\tprivate store: Store<AppState>,\r\n\t\tprivate el: ElementRef,\r\n\t\tprivate renderer: Renderer2,\r\n\t\tprivate bottomSheet: MatBottomSheet\r\n\t) {\r\n\t\tthis.active$ = this.store.select(s => s.rule.ruleAnchors.active).pipe(takeUntil(this.unsubscribe));\r\n\t\tthis.active$.subscribe(active => (this.active = active));\r\n\t\tthis.el.nativeElement.classList.add(\"ngs-rule-anchor\");\r\n\t\tthis.steps = this.configService.config$.getValue().steps;\r\n\t}\r\n\r\n\t@HostListener(\"mouseenter\")\r\n\tonMouseEnter() {\r\n\t\tdebugger;\r\n\t\tthis.el;\r\n\t\tif (!this.active) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.showAnchor();\r\n\t}\r\n\r\n\t@HostListener(\"mouseleave\")\r\n\tonMouseLeave() {\r\n\t\tif (!this.active) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.hideAnchor();\r\n\t\t}, 999);\r\n\t}\r\n\r\n\tprivate showAnchor() {\r\n\t\tthis.el.nativeElement.classList.add(\"show-anchor\");\r\n\t}\r\n\tprivate hideAnchor() {\r\n\t\tthis.el.nativeElement.classList.remove(\"show-anchor\");\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\t// TODO: remove\r\n\t\t// this.store.dispatch(new ShowAnchorsAction());\r\n\r\n\t\tthis.anchorScenarios$ = this.scenarioService\r\n\t\t\t.getAnchorScenarios(this.anchorId) // TODO: replace service call with ngrx action\r\n\t\t\t.pipe(takeUntil(this.unsubscribe), filter(scenario => scenario !== undefined));\r\n\t\tthis.active$.subscribe(active => {\r\n\t\t\tif (active) {\r\n\t\t\t\tthis._activate_anchor();\r\n\t\t\t} else {\r\n\t\t\t\tthis._deactivate_anchor();\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.anchorScenarios$.subscribe(scenarios => {\r\n\t\t\tscenarios.forEach(scenario => {\r\n\t\t\t\tscenario.steps = scenario.steps.map(scenarioStep => {\r\n\t\t\t\t\tconst step = this.steps.find(step => step.id === scenarioStep.id);\r\n\t\t\t\t\tconst _step = Object.create(step);\r\n\t\t\t\t\t_step.params = scenarioStep.params;\r\n\t\t\t\t\treturn _step;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis._do_scenario(scenario);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\tngOnDestroy() {\r\n\t\tthis.unsubscribe.next();\r\n\t\tthis.unsubscribe.complete();\r\n\t}\r\n\t_activate_anchor() {\r\n\t\tthis._create_anchor();\r\n\t\tthis._set_active_class_to_host();\r\n\t}\r\n\t_deactivate_anchor() {\r\n\t\tthis._remove_anchor();\r\n\t\tthis._remove_active_class_to_host();\r\n\t}\r\n\t_set_active_class_to_host() {\r\n\t\tthis.el.nativeElement.classList.add(\"anchor-active\");\r\n\t}\r\n\t_remove_active_class_to_host() {\r\n\t\tthis.el.nativeElement.classList.remove(\"anchor-active\");\r\n\t}\r\n\t_create_anchor() {\r\n\t\tthis.button = this.renderer.createElement(\"button\");\r\n\t\tthis.button.classList.add(\"ngs-rule-anchor-button\", \"mat-icon-button\");\r\n\t\tthis.button.setAttribute(\"mat-icon-button\", \"\");\r\n\t\tthis.button.addEventListener(\"click\", e => {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t\tthis.bottomSheet.open(GwtViewComponent, {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tanchorId: this.anchorId\r\n\t\t\t\t},\r\n\t\t\t\tpanelClass: \"magenta-theme\"\r\n\t\t\t});\r\n\t\t});\r\n\t\tconst maticon = this.renderer.createElement(\"mat-icon\");\r\n\t\tmaticon.classList.add(\"mat-icon\", \"material-icons\");\r\n\t\tconst icon = this.renderer.createText(\"settings\");\r\n\t\tthis.renderer.appendChild(maticon, icon);\r\n\t\tthis.renderer.appendChild(this.button, maticon);\r\n\t\tthis.renderer.appendChild(this.el.nativeElement, this.button);\r\n\t}\r\n\t_remove_anchor() {\r\n\t\tif (!this.button) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.button.parentNode.removeChild(this.button);\r\n\t}\r\n\t_do_scenario(_scenario: GwtScenarioModel) {\r\n\t\tdebugger;\r\n\t\tconst scenario = _scenario;\r\n\t\tconst givenStepInterpretors = scenario.steps\r\n\t\t\t.filter(step => step.type === GwtStepTypes.Given)\r\n\t\t\t.map(step => step.interperator(step.params));\r\n\t\tdebugger;\r\n\t\tcombineLatest(givenStepInterpretors)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe),\r\n\t\t\t\tmap((values: boolean[]) => values.every(value => value === true)),\r\n\t\t\t\tswitchMap(givenResult => {\r\n\t\t\t\t\tdebugger;\r\n\t\t\t\t\tif (givenResult) {\r\n\t\t\t\t\t\tconst thenStepInterpretors = scenario.steps\r\n\t\t\t\t\t\t\t.filter(step => step.type === GwtStepTypes.Then)\r\n\t\t\t\t\t\t\t.map(step => step.interperator(step.params, this.el));\r\n\t\t\t\t\t\treturn combineLatest\r\n\t\t\t\t\t\t\t.apply(null, thenStepInterpretors)\r\n\t\t\t\t\t\t\t.pipe(map((values: boolean[]) => values.every(value => value === true)));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn of(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe(() => {});\r\n\t}\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Actions, Effect, ofType } from \"@ngrx/effects\";\r\nimport { map, switchMap } from \"rxjs/operators\";\r\nimport { Observable } from \"rxjs\";\r\n\r\nimport { ScenariosListActionTypes, ScenariosListStartAction, ScenarioFechedAction } from \"./scenario-db.actions\";\r\nimport { ScenarioService } from \"../services/scenario.service\";\r\n\r\n@Injectable()\r\nexport class ScenariosDbEffects {\r\n\tconstructor(private actions$: Actions<any>, private service: ScenarioService) {}\r\n\r\n\t@Effect()\r\n\tEditProfileRequest$ = this.actions$.pipe(\r\n\t\tofType(ScenariosListActionTypes.SCENARIOS_LIST),\r\n\t\tmap(() => new ScenariosListStartAction())\r\n\t);\r\n\r\n\t@Effect()\r\n\tUpsertScenario$ = this.actions$.pipe(\r\n\t\tofType<any>(ScenariosListActionTypes.UPSERT),\r\n\t\tmap(action => action.payload),\r\n\t\tswitchMap(scenario => this.service.upsert(scenario)),\r\n\t\tmap(scenario => new ScenarioFechedAction(scenario))\r\n\t);\r\n\r\n\t// @Effect()\r\n\t// GetScenario$ = this.actions$\r\n\t// \t.ofType(ScenariosListActionTypes.GET_SCENARIO)\r\n\t// \t.pipe(\r\n\t// \t\tmap(action => action.payload),\r\n\t// \t\tswitchMap(id => this.service.get(id)),\r\n\t// \t\tmap(rule => new ScenarioFechedAction(rule))\r\n\t// \t);\r\n\r\n\t// @Effect()\r\n\t// get_rules_list$ = this.actions$\r\n\t// \t.ofType(ScenariosListActionTypes.SCENARIOS_LIST_START)\r\n\t// \t.pipe(\r\n\t// \t\tswitchMap((data: any) => this.service.getList()),\r\n\t// \t\tmap(res => new ScenariosListSucceedAction(res)),\r\n\t// \t\tcatchError(() => of(new ScenariosListFailedAction()))\r\n\t// \t);\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Actions, Effect, ofType } from \"@ngrx/effects\";\r\nimport { Observable } from \"rxjs\";\r\n\r\nimport { RulesListActionTypes, RulesListStartAction } from \"./rule-db.actions\";\r\nimport { map } from \"rxjs/operators\";\r\n\r\n@Injectable()\r\nexport class RulesListEffects {\r\n\tconstructor(private actions$: Actions<any>) {}\r\n\r\n\t@Effect()\r\n\tEditProfileRequest$ = this.actions$.pipe(\r\n\t\tofType(RulesListActionTypes.RULES_LIST),\r\n\t\tmap(() => new RulesListStartAction())\r\n\t);\r\n\r\n\t// @Effect()\r\n\t// GetRule$ = this.actions$\r\n\t// \t.ofType(RulesListActionTypes.GET_RULE)\r\n\t// \t.pipe(\r\n\t// \t\tmap(action => action.payload),\r\n\t// \t\tswitchMap(id => this.service.get(id)),\r\n\t// \t\tmap(rule => new RuleFechedAction(rule))\r\n\t// \t);\r\n\r\n\t// @Effect()\r\n\t// get_rules_list$ = this.actions$\r\n\t// \t.ofType(RulesListActionTypes.RULES_LIST_START)\r\n\t// \t.pipe(\r\n\t// \t\tswitchMap((data: any) => this.service.getList()),\r\n\t// \t\tmap(res => new RulesListSucceedAction(res)),\r\n\t// \t\tcatchError(() => of(new RulesListFailedAction()))\r\n\t// \t);\r\n}\r\n","import { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { Store } from \"@ngrx/store\";\nimport { Subject, Observable } from \"rxjs\";\n\nimport { getFrontendAuthenticationState } from \"@soushians/frontend-authentication\";\n\nimport { ShowAnchorsAction, HideAnchorsAction } from \"../rule-anchor/rule-anchor.actions\";\n\n@Component({\n\tselector: \"gwt-mode-button\",\n\ttemplateUrl: \"./mode-button.component.html\",\n\tstyleUrls: [ \"./mode-button.component.css\" ]\n})\nexport class GwtModeButtonComponent {\n\tanchorsMode: boolean;\n\thavePermission$: Observable<boolean>;\n\tconstructor(private store: Store<any>) {\n\t\tthis.anchorsMode = false;\n\t\tthis.havePermission$ = this.store.select(getFrontendAuthenticationState);\n\t}\n\n\ttoggleAnchors() {\n\t\tif (this.anchorsMode === false) {\n\t\t\tthis.store.dispatch(new ShowAnchorsAction());\n\t\t\tthis.anchorsMode = true;\n\t\t} else {\n\t\t\tthis.store.dispatch(new HideAnchorsAction());\n\t\t\tthis.anchorsMode = false;\n\t\t}\n\t}\n}\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs/Rx\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { of } from \"rxjs/internal/observable/of\";\r\n\r\nimport { RuleConfigurationService } from \"./rule-configuration.service\";\r\n\r\nimport { AppState } from \"../rule.reducers\";\r\n\r\n@Injectable()\r\nexport class RuleService {\r\n\tconstructor(\r\n\t\tprivate http: HttpClient,\r\n\t\tprivate store: Store<AppState>,\r\n\t\tprivate configurationService: RuleConfigurationService\r\n\t) {}\r\n\r\n\t// add(): Observable<TestModel> {\r\n\t// \t// const model = new AddRuleApiModel.Request(data);\r\n\t// \t// return this.configurationService.config$\r\n\t// \t// \t.filter(config => config.endpoints.addRule != \"\")\r\n\t// \t// \t.take(1)\r\n\t// \t// \t.switchMap(config => this.http.post(config.endpoints.addRule, model.getRequestBody()))\r\n\t// \t// \t.map((response: AddRuleApiModel.Response) => response.Result);\r\n\t// }\r\n}\r\n","import { NgModule, ModuleWithProviders } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\nimport {\r\n\tMatExpansionModule,\r\n\tMatSnackBarModule,\r\n\tMatIconModule,\r\n\tMatButtonModule,\r\n\tMatCardModule,\r\n\tMatSelectModule,\r\n\tMatInputModule,\r\n\tMatFormFieldModule,\r\n\tMatTabsModule,\r\n\tMatRadioModule,\r\n\tMatSlideToggleModule,\r\n\tMatDividerModule,\r\n\tMatCheckboxModule,\r\n\tMatTableModule\r\n} from \"@angular/material\";\r\nimport { StoreModule } from \"@ngrx/store\";\r\nimport { EffectsModule } from \"@ngrx/effects\";\r\n\r\nimport { RuleModuleConfig, MODULE_CONFIG_TOKEN } from \"./rule.config\";\r\nimport { RoutingModule } from \"./rule-routing.module\";\r\nimport { RuleReducers } from \"./rule.reducers\";\r\nimport { RuleComponent } from \"./rule.component\";\r\nimport { RuleAnchorDirective } from \"./rule-anchor/rule-anchor.directive\";\r\nimport { GwtViewComponent } from \"./gwt-view/gwt-view.component\";\r\nimport { StepLoaderDirective } from \"./step-loader/step-loader.directive\";\r\nimport { ScenariosDbEffects } from \"./db/scenario-db.effects\";\r\nimport { RulesListEffects } from \"./db/rule-db.effects\";\r\nimport { GwtModeButtonComponent } from \"./mode-button/mode-button.component\";\r\nimport { RuleService } from \"./services/rule.service\";\r\nimport { RuleConfigurationService } from \"./services/rule-configuration.service\";\r\nimport { ScenarioService } from \"./services/scenario.service\";\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tHttpClientModule,\r\n\t\tFormsModule,\r\n\t\tRouterModule,\r\n\t\tCommonModule,\r\n\t\tMatExpansionModule,\r\n\t\tMatSnackBarModule,\r\n\t\tMatIconModule,\r\n\t\tMatButtonModule,\r\n\t\tMatCardModule,\r\n\t\tMatCheckboxModule,\r\n\t\tMatTableModule,\r\n\t\tMatSelectModule,\r\n\t\tMatInputModule,\r\n\t\tMatFormFieldModule,\r\n\t\tMatTabsModule,\r\n\t\tMatDividerModule,\r\n\t\tFlexLayoutModule,\r\n\t\tMatRadioModule,\r\n\t\tMatSlideToggleModule,\r\n\t\tReactiveFormsModule,\r\n\t\tBrowserAnimationsModule\r\n\t],\r\n\tdeclarations: [RuleComponent, RuleAnchorDirective, GwtViewComponent, StepLoaderDirective, GwtModeButtonComponent],\r\n\tentryComponents: [GwtViewComponent],\r\n\texports: [RuleAnchorDirective, GwtModeButtonComponent]\r\n})\r\nexport class RuleModule {\r\n\tstatic forRoot(config?: RuleModuleConfig): ModuleWithProviders {\r\n\t\treturn {\r\n\t\t\tngModule: RootRuleModule,\r\n\t\t\tproviders: [\r\n\t\t\t\t{ provide: MODULE_CONFIG_TOKEN, useValue: config || {} },\r\n\t\t\t\tRuleService,\r\n\t\t\t\tRuleConfigurationService,\r\n\t\t\t\tScenarioService\r\n\t\t\t]\r\n\t\t};\r\n\t}\r\n}\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tRuleModule,\r\n\t\tStoreModule.forFeature(\"rule\", RuleReducers),\r\n\t\tEffectsModule.forFeature([RulesListEffects, ScenariosDbEffects]),\r\n\t\tRoutingModule\r\n\t],\r\n\texports: [RuleModule]\r\n})\r\nexport class RootRuleModule {\r\n\tconstructor() {\r\n\t\t(<any>window).___starter = (<any>window).___starter || {};\r\n\t\t(<any>window).___starter.rule = \"8.0.10\";\r\n\t}\r\n}\r\n"],"names":["InjectionToken","Component","RouterModule","State","initialState","reducer","getStatus","fromRuleAnchor.Reducer","fromRuleDbAnchor.reducer","fromScenarioDbAnchor.reducer","BehaviorSubject","Injectable","Inject","Store","Injector","Directive","ComponentFactoryResolver","ViewContainerRef","Input","ViewChild","map","share","stringTemplate","filter","startWith","HttpClient","Subject","takeUntil","FormGroup","FormControl","MAT_BOTTOM_SHEET_DATA","ViewChildren","combineLatest","switchMap","of","ElementRef","Renderer2","MatBottomSheet","HostListener","ofType","Actions","tslib_1.__decorate","Effect","getFrontendAuthenticationState","NgModule","HttpClientModule","FormsModule","CommonModule","MatExpansionModule","MatSnackBarModule","MatIconModule","MatButtonModule","MatCardModule","MatCheckboxModule","MatTableModule","MatSelectModule","MatInputModule","MatFormFieldModule","MatTabsModule","MatDividerModule","FlexLayoutModule","MatRadioModule","MatSlideToggleModule","ReactiveFormsModule","BrowserAnimationsModule","StoreModule","EffectsModule"],"mappings":"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"}