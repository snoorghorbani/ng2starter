!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@ngrx/store"),require("rxjs/operators"),require("@soushians/user"),require("@soushians/rule"),require("rxjs"),require("@angular/common"),require("@angular/router"),require("@angular/common/http"),require("@angular/flex-layout"),require("@angular/platform-browser/animations"),require("@angular/material")):"function"==typeof define&&define.amd?define("@soushians/gwt-steps",["exports","@angular/core","@angular/forms","@ngrx/store","rxjs/operators","@soushians/user","@soushians/rule","rxjs","@angular/common","@angular/router","@angular/common/http","@angular/flex-layout","@angular/platform-browser/animations","@angular/material"],t):t((e.soushians=e.soushians||{},e.soushians["gwt-steps"]={}),e.ng.core,e.ng.forms,null,e.rxjs.operators,null,null,e.rxjs,e.ng.common,e.ng.router,e.ng.common.http,e.ng["flex-layout"],e.ng.platformBrowser.animations,e.ng.material)}(this,function(e,t,r,o,n,a,i,s,u,l,p,c,f,m){"use strict";var d=function(){function e(){this.formGroup=new r.FormGroup({role:new r.FormControl("")})}return Object.defineProperty(e.prototype,"params",{get:function(){return this.formGroup.value},set:function(e){this.formGroup.patchValue(e)},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Component,args:[{template:'<mat-card class="step" fxLayout="row" fxLayoutGap="25px" fxLayoutAlign="center end">\n  <div class="step-text" fxFlex="nogrow">\n    <span class="given">\n        هنگامی که\n    </span>\n    کاربر احراز هویت کرده است\n    </div>\n</mat-card>',styles:[":host{width:100%}"]}]}],e.ctorParameters=function(){return[]},e}(),h=function(){function e(e){this.injector=e,this.stepComponent=d,this.id="if_user_is_authenticated",this.name="if user is authenticated",this.description="هنگامی که کاربر احراز هویت کرده است",this.type=i.GwtStepTypes.Given,this.store=this.injector.get(o.Store),this.userFacadeService=this.injector.get(a.UserFacadeService)}return e.prototype.interperator=function(e,t){return this.userFacadeService.getDisplayName().pipe(n.map(function(e){return!!e}))},e}(),g=function(){function e(){this.formGroup=new r.FormGroup({role:new r.FormControl("")})}return Object.defineProperty(e.prototype,"params",{get:function(){return this.formGroup.value},set:function(e){this.formGroup.patchValue(e)},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Component,args:[{template:'<mat-card class="step" fxLayout="row" fxLayoutGap="25px" fxLayoutAlign="center end">\n  <div class="step-text" fxFlex="nogrow">\n    <span class="given">\n        هنگامی که\n    </span>\n    کاربر نقش\n    </div>\n  <div fxFlex [formGroup]="formGroup">\n    <mat-form-field>\n      <input matInput placeholder="دسترسی" formControlName="role">\n    </mat-form-field>\n  </div>\n  <div class="step-text" fxFlex="nogrow">دارد</div>\n</mat-card>',styles:[":host{width:100%}"]}]}],e.ctorParameters=function(){return[]},e}(),x=function(){function e(e){this.injector=e,this.stepComponent=g,this.id="if_user_have_role_given_step",this.name="if user have role given step",this.description="هنگامی که کاربر نقش .. را ندارد",this.type=i.GwtStepTypes.Given,this.store=this.injector.get(o.Store)}return e.prototype.interperator=function(t,e){return this.store.select(a.getAccountInfo).pipe(n.filter(function(e){return!!e.Roles}),n.filter(function(e){return 0<e.Roles.length})).pipe(n.map(function(e){return!e.Roles.map(function(e){return e.toLowerCase()}).includes(t.role.toLowerCase())}))},e}(),v=function(){function e(){var t=this;this.params$=new s.BehaviorSubject({}),this.formGroup=this._create_formGroup(),this.params$.subscribe(function(e){return t.formGroup.patchValue(e)})}return Object.defineProperty(e.prototype,"params",{get:function(){return Object.assign({},this.formGroup.value)},set:function(e){this.formGroup&&this.formGroup.patchValue(e),this.params$.next(e)},enumerable:!0,configurable:!0}),e.prototype._create_formGroup=function(){return new r.FormGroup({verb:new r.FormControl("hidden")})},e.decorators=[{type:t.Component,args:[{template:'<mat-card class="step" fxLayout="row" fxLayoutGap="5px" fxLayoutAlign="start end" [formGroup]="formGroup">\n  <div fxFlex="0 0 auto" class="step-text then">\n    آنگاه\n  </div>\n  <div fxFlex="0 0 auto" class="step-text">\n    این بخش قابل نمایش\n  </div>\n  <div fxFlex="nogrow">\n    <mat-form-field fxFlex="nogrow">\n      <mat-select formControlName="verb">\n        <mat-option value="visible">باشد</mat-option>\n        <mat-option value="hidden">نباشد</mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n</mat-card>',styles:[":host{width:100%}"]}]}],e.ctorParameters=function(){return[]},e}(),y=function(){function e(e){this.injector=e,this.stepComponent=v,this.id="authorize_and_show_block",this.name="authorize and show block",this.description="آنگاه این بخش قابل نمایش است",this.type=i.GwtStepTypes.Then,this.store=this.injector.get(o.Store)}return e.prototype.interperator=function(e,t){var r="visible"===e.verb?"block":"none";return t.nativeElement.style.display=r,s.of(!0)},e}(),M=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[p.HttpClientModule,r.FormsModule,l.RouterModule,u.CommonModule,m.MatExpansionModule,m.MatSnackBarModule,m.MatIconModule,m.MatButtonModule,m.MatCardModule,m.MatCheckboxModule,m.MatTableModule,m.MatSelectModule,m.MatAutocompleteModule,m.MatInputModule,m.MatFormFieldModule,m.MatTabsModule,m.MatDividerModule,c.FlexLayoutModule,m.MatRadioModule,m.MatSlideToggleModule,r.ReactiveFormsModule,f.BrowserAnimationsModule],declarations:[v,g,d],entryComponents:[v,g,d],exports:[]}]}],e}();e.IfUserIsAuthenticatedGwtGivenStep=h,e.IfUserHaveRoleGwtGivenStep=x,e.GwtThenAuthorizeStep=y,e.GwtStepsModule=M,e.ɵc=d,e.ɵb=g,e.ɵa=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=soushians-gwt-steps.umd.min.js.map