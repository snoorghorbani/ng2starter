!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs/operators"),require("@soushians/user"),require("@ngrx/store"),require("@soushians/rule"),require("rxjs"),require("@angular/core"),require("@angular/common"),require("@angular/router"),require("@angular/forms"),require("@angular/common/http"),require("@angular/flex-layout"),require("@angular/platform-browser/animations"),require("@angular/material")):"function"==typeof define&&define.amd?define("@soushians/gwt-steps",["exports","rxjs/operators","@soushians/user","@ngrx/store","@soushians/rule","rxjs","@angular/core","@angular/common","@angular/router","@angular/forms","@angular/common/http","@angular/flex-layout","@angular/platform-browser/animations","@angular/material"],t):t((e.soushians=e.soushians||{},e.soushians["gwt-steps"]={}),e.rxjs.operators,e.user,e.store,e.rule,e.rxjs,e.ng.core,e.ng.common,e.ng.router,e.ng.forms,e.ng.common.http,e.ng["flex-layout"],e.ng.platformBrowser.animations,e.ng.material)}(this,function(e,r,o,t,n,a,i,s,u,l,p,c,f,m){"use strict";var d=function(){function e(){this.formGroup=new l.FormGroup({role:new l.FormControl("")})}return Object.defineProperty(e.prototype,"params",{get:function(){return this.formGroup.value},set:function(e){this.formGroup.patchValue(e)},enumerable:!0,configurable:!0}),e.decorators=[{type:i.Component,args:[{template:'<mat-card class="step" fxLayout="row" fxLayoutGap="25px" fxLayoutAlign="center end">\r\n  <div class="step-text" fxFlex="nogrow">\r\n    <span class="given">\r\n        هنگامی که\r\n    </span>\r\n    کاربر احراز هویت کرده است\r\n    </div>\r\n</mat-card>',styles:[":host{width:100%}"]}]}],e.ctorParameters=function(){return[]},e}(),h=function(){function e(e){this.injector=e,this.stepComponent=d,this.id="if_user_is_authenticated",this.name="if user is authenticated",this.description="هنگامی که کاربر احراز هویت کرده است",this.type=n.GwtStepTypes.Given,this.store=this.injector.get(t.Store),this.userFacadeService=this.injector.get(o.UserFacadeService)}return e.prototype.interperator=function(e,t){return this.userFacadeService.getDisplayName().pipe(r.map(function(e){return!!e}))},e}(),g=function(){function e(){this.formGroup=new l.FormGroup({role:new l.FormControl("")})}return Object.defineProperty(e.prototype,"params",{get:function(){return this.formGroup.value},set:function(e){this.formGroup.patchValue(e)},enumerable:!0,configurable:!0}),e.decorators=[{type:i.Component,args:[{template:'<mat-card class="step" fxLayout="row" fxLayoutGap="25px" fxLayoutAlign="center end">\r\n  <div class="step-text" fxFlex="nogrow">\r\n    <span class="given">\r\n        هنگامی که\r\n    </span>\r\n    کاربر نقش\r\n    </div>\r\n  <div fxFlex [formGroup]="formGroup">\r\n    <mat-form-field>\r\n      <input matInput placeholder="دسترسی" formControlName="role">\r\n    </mat-form-field>\r\n  </div>\r\n  <div class="step-text" fxFlex="nogrow">دارد</div>\r\n</mat-card>',styles:[":host{width:100%}"]}]}],e.ctorParameters=function(){return[]},e}(),x=function(){function e(e){this.injector=e,this.stepComponent=g,this.id="if_user_have_role_given_step",this.name="if user have role given step",this.description="هنگامی که کاربر نقش .. را ندارد",this.type=n.GwtStepTypes.Given,this.store=this.injector.get(t.Store)}return e.prototype.interperator=function(t,e){return this.store.select(o.getAccountInfo).pipe(r.filter(function(e){return!!e.Roles}),r.filter(function(e){return 0<e.Roles.length})).pipe(r.map(function(e){return!e.Roles.map(function(e){return e.toLowerCase()}).includes(t.role.toLowerCase())}))},e}(),v=function(){function e(){var t=this;this.params$=new a.BehaviorSubject({}),this.formGroup=this._create_formGroup(),this.params$.subscribe(function(e){return t.formGroup.patchValue(e)})}return Object.defineProperty(e.prototype,"params",{get:function(){return Object.assign({},this.formGroup.value)},set:function(e){this.formGroup&&this.formGroup.patchValue(e),this.params$.next(e)},enumerable:!0,configurable:!0}),e.prototype._create_formGroup=function(){return new l.FormGroup({verb:new l.FormControl("hidden")})},e.decorators=[{type:i.Component,args:[{template:'<mat-card class="step" fxLayout="row" fxLayoutGap="5px" fxLayoutAlign="start end" [formGroup]="formGroup">\r\n  <div fxFlex="0 0 auto" class="step-text then">\r\n    آنگاه\r\n  </div>\r\n  <div fxFlex="0 0 auto" class="step-text">\r\n    این بخش قابل نمایش\r\n  </div>\r\n  <div fxFlex="nogrow">\r\n    <mat-form-field fxFlex="nogrow">\r\n      <mat-select formControlName="verb">\r\n        <mat-option value="visible">باشد</mat-option>\r\n        <mat-option value="hidden">نباشد</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n  </div>\r\n</mat-card>',styles:[":host{width:100%}"]}]}],e.ctorParameters=function(){return[]},e}(),y=function(){function e(e){this.injector=e,this.stepComponent=v,this.id="authorize_and_show_block",this.name="authorize and show block",this.description="آنگاه این بخش قابل نمایش است",this.type=n.GwtStepTypes.Then,this.store=this.injector.get(t.Store)}return e.prototype.interperator=function(e,t){var r="visible"===e.verb?"initial":"none";return t.nativeElement.style.display=r,a.of(!0)},e}(),M=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{imports:[p.HttpClientModule,l.FormsModule,u.RouterModule,s.CommonModule,m.MatExpansionModule,m.MatSnackBarModule,m.MatIconModule,m.MatButtonModule,m.MatCardModule,m.MatCheckboxModule,m.MatTableModule,m.MatSelectModule,m.MatAutocompleteModule,m.MatInputModule,m.MatFormFieldModule,m.MatTabsModule,m.MatDividerModule,c.FlexLayoutModule,m.MatRadioModule,m.MatSlideToggleModule,l.ReactiveFormsModule,f.BrowserAnimationsModule],declarations:[v,g,d],entryComponents:[v,g,d],exports:[]}]}],e}();e.IfUserIsAuthenticatedGwtGivenStep=h,e.IfUserHaveRoleGwtGivenStep=x,e.GwtThenAuthorizeStep=y,e.GwtStepsModule=M,e.ɵc=d,e.ɵb=g,e.ɵa=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=soushians-gwt-steps.umd.min.js.map