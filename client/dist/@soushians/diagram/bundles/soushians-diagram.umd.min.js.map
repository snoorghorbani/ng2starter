{"version":3,"sources":["ng://@soushians/diagram/lib/diagram.config.ts","null","ng://@soushians/diagram/lib/models/get-diagrams-api.model.ts","ng://@soushians/diagram/lib/models/add-diagram-api.model.ts","ng://@soushians/diagram/lib/models/edit-diagram-api.model.ts","ng://@soushians/diagram/lib/actions/diagrams.actions.ts","ng://@soushians/diagram/lib/actions/add-diagram.actions.ts","ng://@soushians/diagram/lib/actions/edit-diagram.actions.ts","ng://@soushians/diagram/lib/models/diagram.model.ts","ng://@soushians/diagram/lib/reducers/diagrams.reducer.ts","ng://@soushians/diagram/lib/reducers/edit-diagram.reducer.ts","ng://@soushians/diagram/lib/reducers/parent-guard.reducer.ts","ng://@soushians/diagram/lib/reducers/index.ts","ng://@soushians/diagram/lib/dumb-components/server-status-diagram/server-status-diagram.component.ts","ng://@soushians/diagram/lib/dumb-components/diagram-partial-config-edit/diagram-partial-config-edit.component.ts","ng://@soushians/diagram/lib/dumb-components/pie-diagram-partial-config/pie-diagram-partial-config.component.ts","ng://@soushians/diagram/lib/dumb-components/booleano-widget-partial-config/booleano-widget-partial-config.component.ts","ng://@soushians/diagram/lib/dumb-components/numeric-widget-partial-config/numeric-widget-partial-config.component.ts","ng://@soushians/diagram/lib/dumb-components/linear-diagram-partial-config/linear-diagram-partial-config.component.ts","ng://@soushians/diagram/lib/dumb-components/server-connecting-time-diagram/server-connecting-time-diagram.component.ts","ng://@soushians/diagram/lib/services/diagram-configuration.service.ts","ng://@soushians/diagram/lib/services/diagram.service.ts","ng://@soushians/diagram/lib/dumb-components/numeric-edit-diagram/numeric-edit-diagram.component.ts","ng://@soushians/diagram/lib/dumb-components/numeric-diagram/numeric-diagram.component.ts","ng://@soushians/diagram/lib/smart-components/diagram-module-container/diagram-module-container.component.ts","ng://@soushians/diagram/lib/smart-components/data-mapper/data-mapper.component.ts","ng://@soushians/diagram/lib/smart-components/add-diagram/add-diagram.component.ts","ng://@soushians/diagram/lib/smart-components/diagram-view/diagram-view.component.ts","ng://@soushians/diagram/lib/smart-components/diagrams/diagrams.component.ts","ng://@soushians/diagram/lib/smart-components/edit-diagram/edit-diagram.component.ts","ng://@soushians/diagram/lib/smart-components/diagram/diagram.component.ts","ng://@soushians/diagram/lib/smart-components/dynamic-component-selector/dynamic-component-selector.component.ts","ng://@soushians/diagram/lib/smart-components/dynamic-config-component-selector/dynamic-config-component-selector.component.ts","ng://@soushians/diagram/lib/effects/diagrams.effects.ts","ng://@soushians/diagram/lib/effects/add-diagram.effects.ts","ng://@soushians/diagram/lib/diagram-routing.module.ts","ng://@soushians/diagram/lib/diagram.module.ts"],"names":["MODULE_DEFAULT_CONFIG","endpoints","env","production","MODULE_CONFIG_TOKEN","InjectionToken","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","__decorate","decorators","target","key","desc","d","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","metadataKey","metadataValue","metadata","GetDiagramsApiModel","AddDiagramApiModel","EditDiagramApiModel","GetDiagramsStart","DiagramsActionTypes","GetDiagramsSucceed","payload","this","GetDiagramsFailed","AddDiagramAction","AddDiagramActionTypes","AddDiagramActionStart","AddDiagramActionSucceed","AddDiagramActionFailed","DiagramConfigChangedAction","HaveEndpointAction","DataLoadedAction","StructureDefinitionStartAction","StructureDefinitionFinishedAction","ColumnsMappingChangedAction","GenerateDiagramAction","EditDiagramAction","EditDiagramActionTypes","DiagramModel","Request","initValue","_this","keys","forEach","getRequestBody","Response","_id","Name","IsActive","Source","Type","Groups","Widget","booleano","Chart","data","type","columns","colors","Colors","types","Types","ColumnMappings","Flow","legend","show","Legend","subchart","Subchart","zoom","enabled","Zoom","tooltip","grouped","Tooltip","Box","Cols","Rows","TextColor","BackgroundColor","FormGroup","FormControl","Validators","required","Sync","Route","FormArray","donut","title","SuccessMessage","FailureMessage","params","getRequestQueryParams","initialState","loaded","diagram","status","route","result","DiagramReducers","diagrams","state","action","editDiagram","initialState$1","parentGuard","initialState$2","selectFeatureState","createFeatureSelector","ServerStatusDiagramComponent","createSelector","injector","BehaviorSubject","get","_data","dataLoaded","next","timeChange","e","ngOnInit","Component","args","selector","template","styles","Injector","Input","DiagramPartialConfigEditComponent","formGroup","diagramService","ngOnDestroy","configChanged","PieDiagramPartialConfigComponent","EventEmitter","donutFormGroup","controls","_dataLoaded","ConfigChanged","emit","Output","BooleanoWidgetPartialConfigComponent","booleanoFormGroup","NumericWidgetPartialConfigComponent","LinearDiagramPartialConfigComponent","ServerConnectingTimeDiagramComponent","setInterval","time","DiagramConfigurationService","config","_config","Injectable","providedIn","Inject","DiagramService","http","store","userConfigurationService","getDiagrams","map","response","catch","err","Observable","throw","getSources","Result","getGroups","getDiagram","id","addDiagram","model","post","updateDiagram","body","put","deleteDiagram","delete","getData","source","once","sourceId","getFloorTime","Interval","toString","res","Date","now","timer","switchMap","extract_columns_from_data","columnsMappings","item","ValueData","_","getValue","ValuePath","NamePath","push","split","pop","concat","NameData","is","array","get_data_report","report","get_last_node_of_data","filter","isLastNode","buildChartConfig","generateDiagram","sync","charts","c3","generate","bindto","subscribe","load","Data","precision","Math","floor","HttpClient","Store","NumericEditDiagramComponent","NumericDiagramComponent","counter","dataSubscribtion","unsubscribe","DiagramModuleContainerComponent","service","DataMapperComponent","dataReport","AddDiagramComponent","formBuilder","sources","groups","diagramId","patchValue","colorsControl","columnKey","addControl","typesControl","mapping","addColumn","dispatch","diagramPartialConfig","value","inputs","diagramTypes","statusChanges","dataSubscription","getDataStructure","observer","pathOptions","typeChanged","typesFormGroup","cb","setValue","group","routeEntered","event","removeColumn","removeAt","calculateColumns","create","obser","column","temp","NumberOfColumns","Order","diagramModel","empty","add","FormBuilder","ActivatedRoute","diagramViewComponent","diagramData$","DiagramsComponent","EditDiagramComponent","DiagramComponent","console","log","_model","modelIsCorrect","ngAfterViewInit","delay","chart","undefined","Time","flow","duration","DynamicComponentSelectorComponent","resolver","bar","pie","scatter","line","area","area-spline","numero","tempo","backgroundColor","raw","_component","typeMapToDiagram","inputProviders","inputName","provide","useValue","resolvedInputs","ReflectiveInjector","resolve","fromResolvedProviders","dynamicComponentContainer","parentInjector","component","resolveComponentFactory","insert","hostView","currentComponent","destroy","entryComponents","ComponentFactoryResolver","ViewChild","read","ViewContainerRef","DynamicConfigComponentSelectorComponent","DiagramEffects","actions$","router","ofType","pipe","catchError","of","Actions","Router","Effect","AddDiagramEffects","navigate","routes","path","children","RoutingModule","RouterModule","forChild","NgsDiagramModule","forRoot","ngModule","RootNgsDiagramModule","providers","NgModule","imports","HttpClientModule","FormsModule","CommonModule","MatExpansionModule","MatSnackBarModule","MatIconModule","MatButtonModule","MatCardModule","MatSelectModule","MatSliderModule","MatInputModule","MatCheckboxModule","MatFormFieldModule","MatTabsModule","FlexLayoutModule","MatRadioModule","MatTooltipModule","MatGridListModule","MatAutocompleteModule","ReactiveFormsModule","BrowserAnimationsModule","declarations","StoreModule","forFeature","EffectsModule","exports"],"mappings":"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","sourcesContent":["import { InjectionToken } from \"@angular/core\";\r\n\r\nexport interface DiagramModuleConfig {\r\n\tendpoints: {};\r\n\tenv?: {\r\n\t\tproduction: boolean;\r\n\t};\r\n}\r\n\r\nexport const MODULE_DEFAULT_CONFIG: DiagramModuleConfig = {\r\n\tendpoints: {},\r\n\tenv: {\r\n\t\tproduction: false\r\n\t}\r\n};\r\n\r\nexport const MODULE_CONFIG_TOKEN = new InjectionToken<DiagramModuleConfig>(\"DiagramModuleConfig\");\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { FormGroup, FormControl, Validators } from \"@angular/forms\";\r\n\r\nimport { HttpRequestBaseModel } from \"@soushians/shared\";\r\n\r\nimport { DiagramModel } from \"./diagram.model\";\r\n\r\nexport namespace GetDiagramsApiModel {\r\n\texport class Request implements HttpRequestBaseModel<Request> {\r\n\t\tdiagram: string;\r\n\r\n\t\tconstructor(initValue: GetDiagramsApiModel.Request = {} as GetDiagramsApiModel.Request) {\r\n\t\t\tObject.keys(initValue).forEach(key => (this[key] = initValue[key]));\r\n\t\t}\r\n\r\n\t\tgetRequestBody() {\r\n\t\t\treturn {};\r\n\t\t}\r\n\r\n\t\t//static get formGroup() {\r\n\t\t// return new FormGroup({\r\n\t\t//   diagram: new FormControl('', [Validators.minLength(8), Validators.required])\r\n\t\t// })\r\n\t\t//}\r\n\t}\r\n\r\n\texport class Response {\r\n\t\tResult: DiagramModel[];\r\n\t\tconstructor() {}\r\n\t}\r\n}\r\n","import { FormGroup, FormControl, Validators, FormArray } from \"@angular/forms\";\r\n\r\nimport { HttpRequestBaseModel } from \"@soushians/shared\";\r\n\r\nimport { DiagramModel } from \"./diagram.model\";\r\nimport { SourceModel } from \"./source.model\";\r\n\r\nexport namespace AddDiagramApiModel {\r\n\texport class Request implements HttpRequestBaseModel<Request> {\r\n\t\t_id: string;\r\n\t\tName: string;\r\n\t\tIsActive: Boolean;\r\n\t\tType: string;\r\n\t\tTypes: { [columnLabel: string]: string };\r\n\t\tLegend: Boolean;\r\n\t\tSubchart: Boolean;\r\n\t\tZoom: Boolean;\r\n\t\tTooltip: Boolean;\r\n\t\tRoute: string;\r\n\t\tSync: number;\r\n\t\tColors: string[];\r\n\t\tColumnMappings: { NamePath: string; ValuePath: string }[];\r\n\t\tFlow: string;\r\n\t\tcolumns: any[];\r\n\t\tCols: number;\r\n\t\tRows: number;\r\n\t\tTextColor: String;\r\n\t\tBackgroundColor: string;\r\n\t\tbooleano: any;\r\n\t\tSource: SourceModel;\r\n\t\tGroups: string[];\r\n\t\tconstructor(initValue: AddDiagramApiModel.Request = {} as AddDiagramApiModel.Request) {\r\n\t\t\tObject.keys(initValue).forEach(key => (this[key] = initValue[key]));\r\n\t\t}\r\n\t\tgetRequestBody() {\r\n\t\t\treturn {\r\n\t\t\t\t_id: this._id,\r\n\t\t\t\tName: this.Name,\r\n\t\t\t\tIsActive: this.IsActive,\r\n\t\t\t\tSource: this.Source,\r\n\t\t\t\tType: this.Type,\r\n\t\t\t\tGroups: this.Groups,\r\n\t\t\t\tWidget: {\r\n\t\t\t\t\tbooleano: this.booleano\r\n\t\t\t\t},\r\n\t\t\t\tChart: {\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: this.Type,\r\n\t\t\t\t\t\tcolumns: this.columns,\r\n\t\t\t\t\t\tcolors: this.Colors,\r\n\t\t\t\t\t\ttypes: this.Types\r\n\t\t\t\t\t},\r\n\t\t\t\t\tColumnMappings: this.ColumnMappings,\r\n\t\t\t\t\tFlow: this.Flow,\r\n\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\tshow: this.Legend\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsubchart: {\r\n\t\t\t\t\t\tshow: this.Subchart\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzoom: {\r\n\t\t\t\t\t\tenabled: this.Zoom\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\tgrouped: this.Tooltip\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tBox: {\r\n\t\t\t\t\tCols: this.Cols,\r\n\t\t\t\t\tRows: this.Rows,\r\n\t\t\t\t\tTextColor: this.TextColor,\r\n\t\t\t\t\tBackgroundColor: this.BackgroundColor\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tstatic get formGroup() {\r\n\t\t\treturn new FormGroup({\r\n\t\t\t\t_id: new FormControl(\"\", []),\r\n\t\t\t\tName: new FormControl(\"\", [ Validators.required ]),\r\n\t\t\t\tSync: new FormControl(0, [ Validators.required ]),\r\n\t\t\t\tIsActive: new FormControl(\"true\", [ Validators.required ]),\r\n\t\t\t\tType: new FormControl(\"pie\", [ Validators.required ]),\r\n\t\t\t\tGroups: new FormControl(\"\", [ Validators.required ]),\r\n\t\t\t\tLegend: new FormControl(\"true\", [ Validators.required ]),\r\n\t\t\t\tSubchart: new FormControl(\"false\", [ Validators.required ]),\r\n\t\t\t\tZoom: new FormControl(\"false\", [ Validators.required ]),\r\n\t\t\t\tTooltip: new FormControl(\"false\", [ Validators.required ]),\r\n\t\t\t\tRoute: new FormControl(\"\", [ Validators.required ]),\r\n\t\t\t\tSource: new FormControl({}, [ Validators.required ]),\r\n\t\t\t\tcolumns: new FormControl(\"\", [ Validators.required ]),\r\n\t\t\t\tCols: new FormControl(1, [ Validators.required ]),\r\n\t\t\t\tRows: new FormControl(1, [ Validators.required ]),\r\n\t\t\t\tTextColor: new FormControl(\"#000000\", [ Validators.required ]),\r\n\t\t\t\tBackgroundColor: new FormControl(\"#ffffff\", [ Validators.required ]),\r\n\t\t\t\tColors: new FormGroup({}),\r\n\t\t\t\tTypes: new FormGroup({}),\r\n\t\t\t\tColumnMappings: new FormArray([]),\r\n\t\t\t\tFlow: new FormControl(true),\r\n\t\t\t\tdonut: new FormGroup({\r\n\t\t\t\t\ttitle: new FormControl(\"Default Title\")\r\n\t\t\t\t}),\r\n\t\t\t\tbooleano: new FormGroup({\r\n\t\t\t\t\tSuccessMessage: new FormControl(\"SuccessMessage\"),\r\n\t\t\t\t\tFailureMessage: new FormControl(\"FailureMessage\")\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\texport class Response {\r\n\t\tResult: DiagramModel;\r\n\t\tconstructor() {}\r\n\t}\r\n}\r\n","import { FormGroup, FormControl, Validators } from \"@angular/forms\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\nimport { HttpRequestBaseModel } from \"@soushians/shared\";\r\n\r\nimport { DiagramModel } from \"./diagram.model\";\r\n\r\nexport namespace EditDiagramApiModel {\r\n\texport class Request {\r\n\t\tconstructor(params: Request) {}\r\n\t\tgetRequestQueryParams() {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\t// TODO:\r\n\t\tstatic get formGroup() {\r\n\t\t\treturn new FormGroup({\r\n\t\t\t\tName: new FormControl(\"\", [ Validators.required ]),\r\n\t\t\t\tIsActive: new FormControl(\"true\", [ Validators.required ]),\r\n\t\t\t\tRoute: new FormControl(\"\", [ Validators.required ])\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\texport class Response {\r\n\t\tResult: DiagramModel;\r\n\t\tconstructor() {}\r\n\t}\r\n}\r\n","import { Action } from '@ngrx/store';\r\n\r\nimport { GetDiagramsApiModel } from \"../models\";\r\n\r\nexport enum DiagramsActionTypes {\r\n  GET_DIAGRAM = '[DIAGRAM] GET_DIAGRAM',\r\n  GET_DIAGRAM_START = '[DIAGRAM] GET_DIAGRAM_START',\r\n  GET_DIAGRAM_SUCCEED = '[DIAGRAM] GET_DIAGRAM_SUCCEED',\r\n  GET_DIAGRAM_FAILED = '[DIAGRAM] GET_DIAGRAM_FAILED'\r\n}\r\n\r\nexport class GetDiagrams implements Action {\r\n  readonly type = DiagramsActionTypes.GET_DIAGRAM;\r\n}\r\nexport class GetDiagramsStart implements Action {\r\n  readonly type = DiagramsActionTypes.GET_DIAGRAM_START;\r\n}\r\nexport class GetDiagramsSucceed implements Action {\r\n  readonly type = DiagramsActionTypes.GET_DIAGRAM_SUCCEED;\r\n  constructor(public payload: GetDiagramsApiModel.Response) { }\r\n}\r\nexport class GetDiagramsFailed implements Action {\r\n  readonly type = DiagramsActionTypes.GET_DIAGRAM_FAILED;\r\n}\r\n\r\n\r\nexport type DiagramsAction =\r\n  GetDiagrams\r\n  | GetDiagramsStart\r\n  | GetDiagramsSucceed\r\n  | GetDiagramsFailed;\r\n","import { Action } from '@ngrx/store';\r\n\r\nimport { AddDiagramApiModel } from \"../models\";\r\n\r\nexport enum AddDiagramActionTypes {\r\n  ADD_DIAGRAM = '[DIAGRAM][ADD] ADD_DIAGRAM',\r\n  ADD_DIAGRAM_START = '[DIAGRAM][ADD] ADD_DIAGRAM_START',\r\n  ADD_DIAGRAM_SUCCEED = '[DIAGRAM][ADD] ADD_DIAGRAM_SUCCEED',\r\n  DIAGRAM_CONFIG_CHANGED = '[DIAGRAM][ADD] DIAGRAM_CONFIG_CHANGED',\r\n  ADD_DIAGRAM_FAILED = '[DIAGRAM][ADD] ADD_DIAGRAM_FAILED',\r\n  STRUCTURE_DEFINITION_START = '[DIAGRAM][ADD] STRUCTURE_DEFINITION_START',\r\n  HAVE_ENDPOINT = '[DIAGRAM][ADD] HAVE_STRUCTURE',\r\n  DATA_LOADED = '[DIAGRAM][ADD] DATA_LOADED',\r\n  STRUCTURE_DEFINITION_END = '[DIAGRAM][ADD] STRUCTURE_DEFINITION_END',\r\n  COLUMNS_MAPPING_CHANGED = '[DIAGRAM][ADD] COLUMNS_MAPPING_CHANGED',\r\n  DATA_CALCULATED = '[DIAGRAM][ADD] DATA_CALCULATED',\r\n  COLUMN_ADDED = '[DIAGRAM][ADD] COLUMN_ADDED',\r\n  GENERATE_DIAGRAM = '[DIAGRAM][ADD] GENERATE_DIAGRAM'\r\n}\r\n\r\nexport class AddDiagramAction implements Action {\r\n  readonly type = AddDiagramActionTypes.ADD_DIAGRAM;\r\n  constructor(public payload: AddDiagramApiModel.Response) { }\r\n}\r\nexport class AddDiagramActionStart implements Action {\r\n  readonly type = AddDiagramActionTypes.ADD_DIAGRAM_START;\r\n  constructor(public payload: AddDiagramApiModel.Response) { }\r\n}\r\nexport class AddDiagramActionSucceed implements Action {\r\n  readonly type = AddDiagramActionTypes.ADD_DIAGRAM_SUCCEED;\r\n  constructor(public payload: AddDiagramApiModel.Response) { }\r\n}\r\nexport class AddDiagramActionFailed implements Action {\r\n  readonly type = AddDiagramActionTypes.ADD_DIAGRAM_FAILED;\r\n}\r\nexport class DiagramConfigChangedAction implements Action {\r\n  readonly type = AddDiagramActionTypes.DIAGRAM_CONFIG_CHANGED;\r\n  constructor(public payload: any) { }\r\n}\r\nexport class HaveEndpointAction implements Action {\r\n  readonly type = AddDiagramActionTypes.HAVE_ENDPOINT;\r\n  constructor(public payload: any) { }\r\n}\r\nexport class DataLoadedAction implements Action {\r\n  readonly type = AddDiagramActionTypes.DATA_LOADED;\r\n  constructor(public payload: any) { }\r\n}\r\nexport class StructureDefinitionStartAction implements Action {\r\n  readonly type = AddDiagramActionTypes.STRUCTURE_DEFINITION_START;\r\n  constructor(public payload: any) { }\r\n}\r\nexport class StructureDefinitionFinishedAction implements Action {\r\n  readonly type = AddDiagramActionTypes.STRUCTURE_DEFINITION_END;\r\n  constructor(public payload: any) { }\r\n}\r\nexport class ColumnsMappingChangedAction implements Action {\r\n  readonly type = AddDiagramActionTypes.COLUMNS_MAPPING_CHANGED;\r\n  constructor(public payload: any) { }\r\n}\r\nexport class DataCalculatedAction implements Action {\r\n  readonly type = AddDiagramActionTypes.DATA_CALCULATED;\r\n  constructor(public payload: any) { }\r\n}\r\nexport class GenerateDiagramAction implements Action {\r\n  readonly type = AddDiagramActionTypes.GENERATE_DIAGRAM;\r\n  constructor(public payload: any) { }\r\n}\r\n\r\nexport class ColumnAdded implements Action {\r\n  readonly type = AddDiagramActionTypes.COLUMN_ADDED;\r\n}\r\n\r\n\r\nexport type AddDiagramActions =\r\n  AddDiagramAction\r\n  | AddDiagramActionStart\r\n  | AddDiagramActionSucceed\r\n  | AddDiagramActionFailed\r\n  | HaveEndpointAction\r\n  | DataLoadedAction\r\n  | StructureDefinitionStartAction\r\n  | StructureDefinitionFinishedAction\r\n  | ColumnsMappingChangedAction\r\n  | DataCalculatedAction\r\n  | GenerateDiagramAction\r\n  | DiagramConfigChangedAction;\r\n","import { Action } from '@ngrx/store';\r\n\r\nimport { EditDiagramApiModel } from \"../models\";\r\n\r\nexport enum EditDiagramActionTypes {\r\n  EDIT_DIAGRAM = '[DIAGRAM][EDIT] EDIT_DIAGRAM',\r\n  EDIT_DIAGRAM_START = '[DIAGRAM][EDIT] EDIT_DIAGRAM_START',\r\n  EDIT_DIAGRAM_SUCCEED = '[DIAGRAM][EDIT] EDIT_DIAGRAM_SUCCEED',\r\n  EDIT_DIAGRAM_FAILED = '[DIAGRAM][EDIT] EDIT_DIAGRAM_FAILED'\r\n}\r\n\r\nexport class EditDiagramAction implements Action {\r\n  readonly type = EditDiagramActionTypes.EDIT_DIAGRAM;\r\n  constructor(public payload: EditDiagramApiModel.Response) { }\r\n}\r\nexport class EditDiagramActionStart implements Action {\r\n  readonly type = EditDiagramActionTypes.EDIT_DIAGRAM_START;\r\n  constructor(public payload: EditDiagramApiModel.Response) { }\r\n}\r\nexport class EditDiagramActionSucceed implements Action {\r\n  readonly type = EditDiagramActionTypes.EDIT_DIAGRAM_SUCCEED;\r\n  constructor(public payload: EditDiagramApiModel.Response) { }\r\n}\r\nexport class EditDiagramActionFailed implements Action {\r\n  readonly type = EditDiagramActionTypes.EDIT_DIAGRAM_FAILED;\r\n}\r\n\r\n\r\nexport type EditDiagramActions =\r\n  EditDiagramAction\r\n  | EditDiagramActionStart\r\n  | EditDiagramActionSucceed\r\n  | EditDiagramActionFailed;\r\n","import { SourceModel } from \"./source.model\";\r\n\r\nexport class DiagramModel {\r\n\t_id: string;\r\n\tName: string;\r\n\tIsActive: boolean;\r\n\tDescription: string;\r\n\tGroups: string[];\r\n\tBox: {\r\n\t\tNumberOfColumns: number;\r\n\t\tOrder: number;\r\n\t\tBackgroundColor: string;\r\n\t};\r\n\tSource: SourceModel;\r\n\tWidget: {\r\n\t\t\"booleano\": {\r\n\t\t\t\"SuccessMessage\": string;\r\n\t\t\t\"FailureMessage\": string;\r\n\t\t};\r\n\t};\r\n\r\n\tChart: {\r\n\t\tdata: {\r\n\t\t\ttype: \"pie\" | \"linear\" | \"scatter\" | \"bar\" | \"line\";\r\n\t\t\ttypes: { [key: string]: string };\r\n\t\t\tcolumns: any[];\r\n\t\t\tcolors: any[];\r\n\t\t};\r\n\t\tFlow: boolean;\r\n\t\tColumnMappings: {\r\n\t\t\tNamePath: string;\r\n\t\t\tValuePath: string;\r\n\t\t}[];\r\n\t\tlegend: {\r\n\t\t\tshow: boolean;\r\n\t\t};\r\n\t\tsubchart: {\r\n\t\t\tshow: boolean;\r\n\t\t};\r\n\t\tzoom: {\r\n\t\t\tenabled: boolean;\r\n\t\t};\r\n\t\ttooltip: {\r\n\t\t\tgrouped: boolean;\r\n\t\t};\r\n\t};\r\n}\r\n","import { DiagramsActionTypes, DiagramsAction } from \"../actions\";\r\nimport { GetDiagramsApiModel } from \"../models\";\r\n\r\nexport interface State {\r\n\tloaded: boolean;\r\n\tdiagram: GetDiagramsApiModel.Response;\r\n}\r\nexport const initialState: State = {\r\n\tloaded: false,\r\n\tdiagram: new GetDiagramsApiModel.Response()\r\n};\r\n\r\nexport function diagramReducer(state = initialState, action: DiagramsAction): State {\r\n\tswitch (action.type) {\r\n\t\tcase DiagramsActionTypes.GET_DIAGRAM: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloaded: true\r\n\t\t\t\t// diagram: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase DiagramsActionTypes.GET_DIAGRAM_START: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloaded: true\r\n\t\t\t\t//  diagram: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const DiagramInfo = (state: State) => state.diagram;\r\n","import { responseStatusTypes } from \"@soushians/shared\";\r\n\r\nimport { EditDiagramActionTypes, EditDiagramActions } from \"../actions\";\r\nimport { EditDiagramApiModel } from \"../models\";\r\n\r\nexport interface State {\r\n\tstatus: responseStatusTypes;\r\n\tdata: EditDiagramApiModel.Response;\r\n}\r\nexport const initialState: State = {\r\n\tstatus: \"pristine\",\r\n\tdata: new EditDiagramApiModel.Response()\r\n};\r\n\r\nexport function Reducer(state = initialState, action: EditDiagramActions): State {\r\n\tswitch (action.type) {\r\n\t\tcase EditDiagramActionTypes.EDIT_DIAGRAM: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"dirty\",\r\n\t\t\t\tdata: new EditDiagramApiModel.Response()\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase EditDiagramActionTypes.EDIT_DIAGRAM_START: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"pending\",\r\n\t\t\t\tdata: new EditDiagramApiModel.Response()\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase EditDiagramActionTypes.EDIT_DIAGRAM_SUCCEED: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"succeed\"\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase EditDiagramActionTypes.EDIT_DIAGRAM_FAILED: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: \"failed\"\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const EditDiagramInfo = (state: State) => state.data;\r\n","import { ParentGuardAction, ParentGuardActionTypes } from '../actions';\r\n\r\nexport interface State {\r\n        route: string;\r\n        result: boolean;\r\n};\r\nexport const initialState: State = {\r\n        route: '',\r\n        result: false\r\n};\r\n\r\nexport function ParentGuardReducer(state = initialState, action: ParentGuardAction): State {\r\n        switch (action.type) {\r\n                default: {\r\n                        return state;\r\n                }\r\n        }\r\n}\r\n\r\nexport var getParentRoutingGuard = (state: State) => state;","import { createSelector, createFeatureSelector, MemoizedSelector } from \"@ngrx/store\";\r\n\r\nimport * as DiagramsReducer from \"./diagrams.reducer\";\r\nimport * as fromEditDiagram from \"./edit-diagram.reducer\";\r\nimport * as parentGuardReducer from \"./parent-guard.reducer\";\r\n\r\nexport interface DiagramState {\r\n\tdiagrams: DiagramsReducer.State;\r\n\teditDiagram: fromEditDiagram.State;\r\n\tparentGuard: parentGuardReducer.State;\r\n}\r\n\r\nexport const DiagramReducers = {\r\n\tdiagrams: DiagramsReducer.diagramReducer,\r\n\teditDiagram: fromEditDiagram.Reducer,\r\n\tparentGuard: parentGuardReducer.ParentGuardReducer\r\n};\r\n\r\nexport interface FeatureState {\r\n\t\"diagram\": DiagramState;\r\n}\r\n\r\n//#region selectors\r\n\r\nexport const selectFeatureState = createFeatureSelector<DiagramState>(\"diagram\");\r\n\r\n// export const getDiagramInformationStatus = createSelector(\r\n//   selectFeatureState,\r\n//   (state: DiagramState) => state.diagram\r\n// );\r\n\r\n//#region edit diagram\r\nexport const selectEditDiagramState = createSelector(selectFeatureState, (state: DiagramState) => state.editDiagram);\r\n","import { Component, OnInit, Input, Output, EventEmitter, Injector } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { BehaviorSubject, Subscription } from \"rxjs\";\r\n\r\nimport { DiagramModel } from \"../../models/diagram.model\";\r\n\r\n@Component({\r\n\tselector: \"diagram-server-status\",\r\n\ttemplate: `<div *ngIf=\"dataLoaded | async\">\r\n  <!-- <mat-icon [ngClass]=\"dataStatus$ ? 'connected' : 'disconnected'\">\r\n    fiber_manual_record\r\n  </mat-icon> -->\r\n  <!-- <span *ngIf=\"dataStatus$\">{{data.Widget.booleano.SuccessMessage}}</span>\r\n  <span *ngIf=\"!dataStatus$\">{{data.Widget.booleano.FailureMessage}}</span> -->\r\n</div>`,\r\n\tstyles: [`.disconnected{color:#ba3030}.connected{color:#30ae1c}.numeric{font-size:2.4em;line-height:1.8}.numeric.title{font-family:iran-sans-bold,Tahoma;font-size:1.1em}`]\r\n})\r\nexport class ServerStatusDiagramComponent implements OnInit {\r\n\tdataSubscribtion: Subscription;\r\n\tdataLoaded = new BehaviorSubject(false);\r\n\t_data;\r\n\t@Input()\r\n\tset data(data) {\r\n\t\tthis._data = data;\r\n\t\tthis.dataLoaded.next(true);\r\n\t}\r\n\tget data() {\r\n\t\treturn this._data;\r\n\t}\r\n\r\n\tconstructor(private injector: Injector) {\r\n\t\tthis.data = this.injector.get(\"data\");\r\n\t}\r\n\r\n\ttimeChange(e) {\r\n\t\t// this.dataSubscribtion.unsubscribe();\r\n\t\t// this.dataSubscribtion = this.diagramService.getData(this.data.Source._id, this.data.Source.Interval)\r\n\t\t//   .subscribe(data => {\r\n\t\t//     debugger\r\n\t\t//     this.chart.load({\r\n\t\t//       columns: this.diagramService.extract_columns_from_data(data, this.data.Chart.ColumnMappings)\r\n\t\t//     });\r\n\t\t//   })\r\n\t}\r\n\tngOnInit() {}\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Injector, OnDestroy } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { FormGroup } from \"@angular/forms\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Subscription } from \"rxjs\";\r\n\r\nimport { DiagramModel } from \"../../models\";\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\n\r\n@Component({\r\n\tselector: \"diagram-partial-config-edit\",\r\n\ttemplate: `<form [formGroup]=\"formGroup\" fxLayout='column'>\r\n  <div>\r\n    <mat-checkbox (change)=\"configChanged()\" formControlName=\"Legend\" fxFlexFill> </mat-checkbox>\r\n  </div>\r\n  <div>\r\n    <mat-checkbox (change)=\"configChanged()\" formControlName=\"Zoom\" fxFlexFill></mat-checkbox>\r\n  </div>\r\n  <div>\r\n    <mat-checkbox (change)=\"configChanged()\" formControlName=\"Subchart\" fxFlexFill>    </mat-checkbox>\r\n  </div>\r\n  <div>\r\n    <mat-checkbox (change)=\"configChanged()\" formControlName=\"Tooltip\" fxFlexFill>    </mat-checkbox>\r\n  </div>\r\n</form>`,\r\n\tstyles: [`:host{width:100%}.diagram-box{margin:15px}.numeric{font-size:3em;line-height:1.8;font-family:iran-sans-bold,Tahoma}.numeric.title{font-size:1.5em}`]\r\n})\r\nexport class DiagramPartialConfigEditComponent implements OnInit, OnDestroy {\r\n\tdataSubscribtion: Subscription;\r\n\tdataLoaded = new BehaviorSubject(false);\r\n\t_data;\r\n\t@Input()\r\n\tset data(data) {\r\n\t\tthis._data = data;\r\n\t\tthis.dataLoaded.next(true);\r\n\t}\r\n\tget data() {\r\n\t\treturn this._data;\r\n\t}\r\n\tdiagramService: DiagramService;\r\n\tformGroup: FormGroup;\r\n\tconstructor(private injector: Injector) {\r\n\t\tthis.formGroup = this.injector.get(\"formGroup\");\r\n\t\tthis.diagramService = this.injector.get(\"diagramService\");\r\n\t}\r\n\tngOnInit() {\r\n\t\t// this.dataSubscribtion = this.diagramService.getData(this.data.Source.Route)\r\n\t\t//   .subscribe(data => {\r\n\t\t//     debugger;\r\n\t\t//   });\r\n\t}\r\n\tngOnDestroy() {\r\n\t\t// this.dataSubscribtion.unsubscribe();\r\n\t}\r\n\tconfigChanged() {}\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Injector, OnDestroy } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { FormGroup } from \"@angular/forms\";\r\nimport { Subscription } from \"rxjs\";\r\n\r\nimport { DiagramModel } from \"../../models\";\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\n\r\n@Component({\r\n\tselector: \"pie-diagram-partial-config\",\r\n\ttemplate: `<div *ngIf=\"dataLoaded | async\" class=\"diagram-box\">\r\n  <form [formGroup]=\"formGroup\" fxLayout='column'>\r\n    <div>\r\n      <mat-checkbox (change)=\"configChanged()\" formControlName=\"Legend\" fxFlexFill> </mat-checkbox>\r\n    </div>\r\n    <div>\r\n      <mat-checkbox (change)=\"configChanged()\" formControlName=\"IsActive\" fxFlexFill></mat-checkbox>\r\n    </div>\r\n    <div>\r\n      <mat-checkbox (change)=\"configChanged()\" formControlName=\"Legend\" fxFlexFill> </mat-checkbox>\r\n    </div>\r\n    <div>\r\n      <mat-checkbox (change)=\"configChanged()\" formControlName=\"IsActive\" fxFlexFill></mat-checkbox>\r\n    </div>\r\n  </form>\r\n  <form [formGroup]=\"donutFormGroup\">\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"\" formControlName=\"title\">\r\n    </mat-form-field>\r\n  </form>\r\n</div>`,\r\n\tstyles: [`:host{width:100%}.diagram-box{margin:15px}.numeric{font-size:3em;line-height:1.8;font-family:iran-sans-bold,Tahoma}.numeric.title{font-size:1.5em}`]\r\n})\r\nexport class PieDiagramPartialConfigComponent implements OnInit, OnDestroy {\r\n\t@Output() ConfigChanged = new EventEmitter();\r\n\tdataSubscribtion: Subscription;\r\n\tdataLoaded = new BehaviorSubject(false);\r\n\t_dataLoaded;\r\n\t@Input()\r\n\tset formGroup(data: FormGroup) {\r\n\t\tif (!data) return;\r\n\t\tthis._dataLoaded = data;\r\n\t\tthis.dataLoaded.next(true);\r\n\t}\r\n\tget formGroup() {\r\n\t\treturn this._dataLoaded;\r\n\t}\r\n\tdonutFormGroup: FormGroup;\r\n\tdiagramService: DiagramService;\r\n\tconstructor(private injector: Injector) {\r\n\t\tthis.formGroup = this.injector.get(\"formGroup\");\r\n\t\tthis.diagramService = this.injector.get(\"diagramService\");\r\n\t\tthis.donutFormGroup = this.formGroup.controls.donut as FormGroup;\r\n\t}\r\n\tngOnInit() {\r\n\t\t// this.dataSubscribtion = this.diagramService.getData(this.data.Source.Route)\r\n\t\t//   .subscribe(data => {\r\n\t\t//     debugger;\r\n\t\t//   });\r\n\t}\r\n\tngOnDestroy() {\r\n\t\t// this.dataSubscribtion.unsubscribe();\r\n\t}\r\n\tconfigChanged() {\r\n\t\tthis.ConfigChanged.emit();\r\n\t}\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Injector, OnDestroy } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { FormGroup } from \"@angular/forms\";\r\n\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\nimport { DiagramModel } from \"../../models\";\r\n\r\n@Component({\r\n\tselector: \"booleano-widget-partial-config\",\r\n\ttemplate: `<div *ngIf=\"dataLoaded | async\" class=\"diagram-box\">\r\n  <form [formGroup]=\"booleanoFormGroup\">\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"\" formControlName=\"SuccessMessage\">\r\n    </mat-form-field>\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"\" formControlName=\"FailureMessage\">\r\n    </mat-form-field>\r\n  </form>\r\n</div>`,\r\n\tstyles: [`:host{width:100%}.diagram-box{margin:15px}.numeric{font-size:3em;line-height:1.8;font-family:iran-sans-bold,Tahoma}.numeric.title{font-size:1.5em}`]\r\n})\r\nexport class BooleanoWidgetPartialConfigComponent implements OnInit, OnDestroy {\r\n\tdataSubscribtion: Subscription;\r\n\tdataLoaded = new BehaviorSubject(false);\r\n\t_dataLoaded;\r\n\t@Input()\r\n\tset formGroup(data: FormGroup) {\r\n\t\tif (!data) return;\r\n\t\tthis._dataLoaded = data;\r\n\t\tthis.dataLoaded.next(true);\r\n\t}\r\n\tget formGroup() {\r\n\t\treturn this._dataLoaded;\r\n\t}\r\n\tbooleanoFormGroup: FormGroup;\r\n\tdiagramService: DiagramService;\r\n\r\n\tconstructor(private injector: Injector) {\r\n\t\tthis.formGroup = this.injector.get(\"formGroup\");\r\n\t\tthis.diagramService = this.injector.get(\"diagramService\");\r\n\t\tthis.booleanoFormGroup = this.formGroup.controls.booleano as FormGroup;\r\n\t}\r\n\tngOnInit() {\r\n\t\t// this.dataSubscribtion = this.diagramService.getData(this.data.Source.Route)\r\n\t\t//   .subscribe(data => {\r\n\t\t//     debugger;\r\n\t\t//   });\r\n\t}\r\n\tngOnDestroy() {\r\n\t\t// this.dataSubscribtion.unsubscribe();\r\n\t}\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Injector, OnDestroy } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { FormGroup } from \"@angular/forms\";\r\n\r\nimport { DiagramModel } from \"../../models\";\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\n\r\n@Component({\r\n\tselector: \"numeric-widget-partial-config\",\r\n\ttemplate: `<div *ngIf=\"dataLoaded | async\" class=\"diagram-box\">\r\n  <form [formGroup]=\"donutFormGroup\">\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"\" formControlName=\"title\">\r\n    </mat-form-field>\r\n    <mat-form-field>\r\n      <input matInput placeholder=\"\" formControlName=\"title\">\r\n    </mat-form-field>\r\n  </form>\r\n</div>`,\r\n\tstyles: [`:host{width:100%}.diagram-box{margin:15px}.numeric{font-size:3em;line-height:1.8;font-family:iran-sans-bold,Tahoma}.numeric.title{font-size:1.5em}`]\r\n})\r\nexport class NumericWidgetPartialConfigComponent implements OnInit, OnDestroy {\r\n\tdataSubscribtion: Subscription;\r\n\tdataLoaded = new BehaviorSubject(false);\r\n\t_dataLoaded;\r\n\t@Input()\r\n\tset formGroup(data: FormGroup) {\r\n\t\tif (!data) return;\r\n\t\tthis._dataLoaded = data;\r\n\t\tthis.dataLoaded.next(true);\r\n\t}\r\n\tget formGroup() {\r\n\t\treturn this._dataLoaded;\r\n\t}\r\n\tdonutFormGroup: FormGroup;\r\n\tdiagramService: DiagramService;\r\n\tconstructor(private injector: Injector) {\r\n\t\tthis.formGroup = this.injector.get(\"formGroup\");\r\n\t\tthis.diagramService = this.injector.get(\"diagramService\");\r\n\t\tthis.donutFormGroup = this.formGroup.controls.donut as FormGroup;\r\n\t}\r\n\tngOnInit() {\r\n\t\t// this.dataSubscribtion = this.diagramService.getData(this.data.Source.Route)\r\n\t\t//   .subscribe(data => {\r\n\t\t//     debugger;\r\n\t\t//   });\r\n\t}\r\n\tngOnDestroy() {\r\n\t\t// this.dataSubscribtion.unsubscribe();\r\n\t}\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Injector, OnDestroy } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { FormGroup } from \"@angular/forms\";\r\nimport { Subscription } from \"rxjs\";\r\n\r\nimport { DiagramModel } from \"../../models\";\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\n\r\n@Component({\r\n\tselector: \"linear-diagram-partial-config\",\r\n\ttemplate: `<form [formGroup]=\"formGroup\" fxLayout='column'>\r\n  <div>\r\n    <mat-checkbox (change)=\"configChanged()\" formControlName=\"Legend\" fxFlexFill> </mat-checkbox>\r\n  </div>\r\n  <div>\r\n    <mat-checkbox (change)=\"configChanged()\" formControlName=\"Zoom\" fxFlexFill></mat-checkbox>\r\n  </div>\r\n  <div>\r\n    <mat-checkbox (change)=\"configChanged()\" formControlName=\"Subchart\" fxFlexFill>    </mat-checkbox>\r\n  </div>\r\n  <div>\r\n    <mat-checkbox (change)=\"configChanged()\" formControlName=\"Tooltip\" fxFlexFill>    </mat-checkbox>\r\n  </div>\r\n  <div>\r\n    <mat-checkbox (change)=\"configChanged()\" formControlName=\"Flow\" fxFlexFill>Flow</mat-checkbox>\r\n  </div>\r\n</form>`,\r\n\tstyles: [`:host{width:100%}.diagram-box{margin:15px}.numeric{font-size:3em;line-height:1.8;font-family:iran-sans-bold,Tahoma}.numeric.title{font-size:1.5em}`]\r\n})\r\nexport class LinearDiagramPartialConfigComponent implements OnInit, OnDestroy {\r\n\tdataSubscribtion: Subscription;\r\n\tdataLoaded = new BehaviorSubject(false);\r\n\t_data;\r\n\t@Input()\r\n\tset data(data) {\r\n\t\tthis._data = data;\r\n\t\tthis.dataLoaded.next(true);\r\n\t}\r\n\tget data() {\r\n\t\treturn this._data;\r\n\t}\r\n\t@Output() ConfigChanged = new EventEmitter();\r\n\tdiagramService: DiagramService;\r\n\tformGroup: FormGroup;\r\n\tconstructor(private injector: Injector) {\r\n\t\tthis.formGroup = this.injector.get(\"formGroup\");\r\n\t\tthis.diagramService = this.injector.get(\"diagramService\");\r\n\t}\r\n\tngOnInit() {\r\n\t\t// this.dataSubscribtion = this.diagramService.getData(this.data.Source.Route)\r\n\t\t//   .subscribe(data => {\r\n\t\t//     debugger;\r\n\t\t//   });\r\n\t}\r\n\tngOnDestroy() {\r\n\t\t// this.dataSubscribtion.unsubscribe();\r\n\t}\r\n\tconfigChanged() {\r\n\t\tthis.ConfigChanged.emit();\r\n\t}\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Injector } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\n\r\nimport { DiagramModel } from \"../../models\";\r\n\r\n@Component({\r\n\tselector: \"diagram-server-connecting-time\",\r\n\ttemplate: `<div *ngIf=\"dataLoaded | async\">\r\n  <div fxLayoutAlign=\"center center\" class=\"numeric title\">{{data.Description}}</div>\r\n  <!-- <div fxLayoutAlign=\"center center\" class=\"numeric\">{{time | timeCounter}}</div> -->\r\n  <div [id]=\"'diagram_' + data._id\"></div>\r\n</div>`,\r\n\tstyles: [`.numeric{font-size:2.4em;line-height:1.8}.numeric.title{font-family:iran-sans-bold,Tahoma;font-size:1.1em}`]\r\n})\r\nexport class ServerConnectingTimeDiagramComponent implements OnInit {\r\n\t@Input() time: number = 0;\r\n\tdataLoaded = new BehaviorSubject(false);\r\n\t_data;\r\n\t@Input()\r\n\tset data(data) {\r\n\t\tthis._data = data;\r\n\t\tthis.dataLoaded.next(true);\r\n\t}\r\n\tget data() {\r\n\t\treturn this._data;\r\n\t}\r\n\tconstructor(private injector: Injector) {\r\n\t\tthis.data = this.injector.get(\"data\");\r\n\t\tsetInterval(() => {\r\n\t\t\tthis.time = this.time + 1;\r\n\t\t}, 1000);\r\n\t}\r\n\r\n\tngOnInit() {}\r\n\ttimeChange(e) {\r\n\t\t// this.dataSubscribtion.unsubscribe();\r\n\t\t// this.dataSubscribtion = this.diagramService.getData(this.data.Source.Route, this.data.Source.Sync)\r\n\t\t//         .subscribe(data => {\r\n\t\t//                 this.chart.load({\r\n\t\t//                         columns: this.diagramService.extract_columns_from_data(data, this.data.Chart.ColumnMappings)\r\n\t\t//                 });\r\n\t\t//         })\r\n\t}\r\n}\r\n","import { Injectable, Inject } from \"@angular/core\";\r\n\r\nimport { MODULE_CONFIG_TOKEN, DiagramModuleConfig, MODULE_DEFAULT_CONFIG } from \"../diagram.config\";\r\n\r\n@Injectable({\r\n\tprovidedIn: \"root\"\r\n})\r\nexport class DiagramConfigurationService {\r\n\tprivate _config: DiagramModuleConfig;\r\n\tget config() {\r\n\t\treturn this._config;\r\n\t}\r\n\r\n\tconstructor(@Inject(MODULE_CONFIG_TOKEN) config) {\r\n\t\tthis._config = Object.assign({}, MODULE_DEFAULT_CONFIG, config);\r\n\t}\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable, Subscription } from \"rxjs/Rx\";\r\nimport { Store } from \"@ngrx/store\";\r\ndeclare var c3: any;\r\n\r\nimport { AddDiagramApiModel, GetDiagramsApiModel, DiagramModel, SourceModel } from \"../models\";\r\nimport { DiagramConfigurationService } from \"./diagram-configuration.service\";\r\nimport { FeatureState } from \"../reducers\";\r\n\r\ndeclare var _: any;\r\n\r\n@Injectable({\r\n\tprovidedIn: \"root\"\r\n})\r\nexport class DiagramService {\r\n\tconstructor(\r\n\t\tprivate http: HttpClient,\r\n\t\tprivate store: Store<FeatureState>,\r\n\t\tprivate userConfigurationService: DiagramConfigurationService\r\n\t) {}\r\n\r\n\tgetDiagrams(): Observable<GetDiagramsApiModel.Response> {\r\n\t\treturn this.http\r\n\t\t\t.get<GetDiagramsApiModel.Response>(\"http://localhost:3000/api/diagram\")\r\n\t\t\t.map(response => response)\r\n\t\t\t.catch(err => {\r\n\t\t\t\treturn Observable.throw(err);\r\n\t\t\t});\r\n\t}\r\n\tgetSources(): Observable<SourceModel[]> {\r\n\t\treturn this.http\r\n\t\t\t.get(\"http://localhost:3000/api/source\")\r\n\t\t\t.map(response => (response as any).Result)\r\n\t\t\t.catch(err => {\r\n\t\t\t\treturn Observable.throw(err);\r\n\t\t\t});\r\n\t}\r\n\tgetGroups(): Observable<string[]> {\r\n\t\treturn this.http\r\n\t\t\t.get(\"http://localhost:3000/api/diagram/groups\")\r\n\t\t\t.map(response => (response as any).Result)\r\n\t\t\t.catch(err => {\r\n\t\t\t\treturn Observable.throw(err);\r\n\t\t\t});\r\n\t}\r\n\tgetDiagram(id: string): Observable<any> {\r\n\t\tif (!id) debugger;\r\n\t\treturn this.http.get(`http://localhost:3000/api/diagram/${id}`).map(response => response).catch(err => {\r\n\t\t\treturn Observable.throw(err);\r\n\t\t});\r\n\t}\r\n\taddDiagram(data: any): Observable<AddDiagramApiModel.Response> {\r\n\t\tvar model = new AddDiagramApiModel.Request(data);\r\n\t\treturn this.http\r\n\t\t\t.post<AddDiagramApiModel.Response>(\"http://localhost:3000/api/diagram\", model.getRequestBody())\r\n\t\t\t.map(response => response)\r\n\t\t\t.catch(err => {\r\n\t\t\t\treturn Observable.throw(err);\r\n\t\t\t});\r\n\t}\r\n\tupdateDiagram(body: any): Observable<any> {\r\n\t\treturn this.http.put(\"http://localhost:3000/api/diagram\", body).map(response => response).catch(err => {\r\n\t\t\treturn Observable.throw(err);\r\n\t\t});\r\n\t}\r\n\tdeleteDiagram(id: string): Observable<any> {\r\n\t\treturn this.http.delete(`http://localhost:3000/api/diagram/${id}`).map(response => response).catch(err => {\r\n\t\t\treturn Observable.throw(err);\r\n\t\t});\r\n\t}\r\n\tgetData(source: SourceModel, time: number = 0, once: Boolean = false): Observable<any> {\r\n\t\tif (once && time !== 0) {\r\n\t\t\treturn this.http\r\n\t\t\t\t.get(`http://localhost:3000/api/data`, {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tsourceId: source._id,\r\n\t\t\t\t\t\ttime: this.getFloorTime(source.Interval, time).toString()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.map((res: any) => res.Result);\r\n\t\t} else if (source.Interval == 0) {\r\n\t\t\treturn this.http\r\n\t\t\t\t.get(`http://localhost:3000/api/data`, {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tsourceId: source._id,\r\n\t\t\t\t\t\ttime: null\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.map((res: any) => res.Result);\r\n\t\t} else {\r\n\t\t\ttime = time || Date.now();\r\n\t\t\treturn Observable.timer(0, source.Interval).switchMap(i =>\r\n\t\t\t\tthis.http\r\n\t\t\t\t\t.get(`http://localhost:3000/api/data`, {\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tsourceId: source._id,\r\n\t\t\t\t\t\t\ttime: this.getFloorTime(source.Interval, time).toString()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.map((res: any) => res.Result)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\textract_columns_from_data(data: any, columnsMappings) {\r\n\t\tlet res = [];\r\n\r\n\t\tcolumnsMappings.forEach(item => {\r\n\t\t\tvar ValueData = _.getValue(data, item.ValuePath);\r\n\r\n\t\t\tif (!item.NamePath) {\r\n\t\t\t\treturn res.push([ item.ValuePath.split(\".\").pop() ].concat(ValueData));\r\n\t\t\t}\r\n\t\t\tvar NameData = _.getValue(data, item.NamePath);\r\n\r\n\t\t\tif (_.is.array(NameData)) {\r\n\t\t\t\treturn (res = res.concat(NameData.map((item, i) => [ item ].concat(ValueData[i]))));\r\n\t\t\t} else {\r\n\t\t\t\treturn res.push([ NameData ].concat(ValueData));\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn res;\r\n\t}\r\n\tget_data_report(data: any) {\r\n\t\treturn _.report(data);\r\n\t}\r\n\tget_last_node_of_data(data: any) {\r\n\t\treturn (_.report(data) as any[]).filter(item => item.isLastNode);\r\n\t}\r\n\tbuildChartConfig(columns) {\r\n\t\treturn {\r\n\t\t\tdata: {\r\n\t\t\t\tcolumns\r\n\t\t\t},\r\n\t\t\tlegend: {\r\n\t\t\t\tshow: true\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t// TODO: implement interface of c3 config\r\n\tcharts = {};\r\n\tgenerateDiagram(config: any, id: string, route: string, sync: number): Subscription {\r\n\t\tthis.charts[id] = c3.generate({\r\n\t\t\t...config,\r\n\t\t\tbindto: `#diagram_${id}`\r\n\t\t});\r\n\r\n\t\treturn this.getData({} as SourceModel, sync).subscribe(data => {\r\n\t\t\tthis.charts[id].load({\r\n\t\t\t\tcolumns: this.extract_columns_from_data(data.Data, config.ColumnMappings)\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\tgetFloorTime(precision = 60 * 1000, time: number = 0) {\r\n\t\treturn Math.floor((time || Date.now()) / precision);\r\n\t}\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Injector } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\n\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\nimport { DiagramModel } from \"../../models\";\r\n\r\n@Component({\r\n\tselector: \"numeric-edit-diagram\",\r\n\ttemplate: `<mat-card *ngIf=\"dataLoaded | async\" class=\"diagram-box\">\r\n  <mat-card-header>\r\n    <mat-card-title fxLayoutAlign=\"space-between center\">\r\n    </mat-card-title>\r\n  </mat-card-header>\r\n  <mat-card-content>\r\n  </mat-card-content>\r\n</mat-card>`,\r\n\tstyles: [`:host{width:100%}.diagram-box{margin:15px}.numeric{font-size:3em;line-height:1.8;font-family:iran-sans-bold,Tahoma}.numeric.title{font-size:1.5em}`]\r\n})\r\nexport class NumericEditDiagramComponent implements OnInit {\r\n\tdataLoaded = new BehaviorSubject(false);\r\n\t_data;\r\n\t@Input()\r\n\tset data(data) {\r\n\t\tthis._data = data;\r\n\t\tthis.dataLoaded.next(true);\r\n\t}\r\n\tget data() {\r\n\t\treturn this._data;\r\n\t}\r\n\tconstructor(private injector: Injector, private diagramService: DiagramService) {\r\n\t\tthis.data = this.injector.get(\"data\");\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\t// this.dataSubscribtion = this.diagramService.getData(this.data.Source.Route)\r\n\t\tthis.diagramService.getData(this.data.Source).subscribe(data => {\r\n\t\t\tdebugger;\r\n\t\t});\r\n\t}\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, Injector, OnDestroy } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Subscription } from \"rxjs\";\r\n\r\nimport { DiagramModel } from \"../../models\";\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\n\r\n@Component({\r\n\tselector: \"diagram-numeric\",\r\n\ttemplate: `<div *ngIf=\"dataLoaded | async\">\r\n  <!-- <div fxLayoutAlign=\"center center\" class=\"numeric\">{{data.Source.Data | json}}</div> -->\r\n  <div fxLayoutAlign=\"center center\" class=\"numeric\">{{counter}}</div>\r\n  <div [id]=\"'diagram_' + data._id\"></div>\r\n</div>`,\r\n\tstyles: [`:host{width:100%}.numeric{font-size:3em;line-height:1.8;font-family:iran-sans-bold,Tahoma}.numeric.title{font-size:1.5em}.mat-card{padding:0}`]\r\n})\r\nexport class NumericDiagramComponent implements OnInit, OnDestroy {\r\n\tdataLoaded = new BehaviorSubject(false);\r\n\t_data;\r\n\tcounter: number;\r\n\t@Input()\r\n\tset data(data) {\r\n\t\tthis._data = data;\r\n\t\tthis.dataLoaded.next(true);\r\n\t}\r\n\tget data() {\r\n\t\treturn this._data;\r\n\t}\r\n\tdataSubscribtion: Subscription;\r\n\tconstructor(private injector: Injector, private diagramService: DiagramService) {\r\n\t\tthis.data = this.injector.get(\"data\");\r\n\t\tthis.counter = 0;\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.dataSubscribtion = this.diagramService.getData(this.data.Source).subscribe(data => {\r\n\t\t\tlet counter = this.diagramService.extract_columns_from_data(data.Data, this.data.Chart.ColumnMappings);\r\n\t\t\tthis.counter = counter[0][1];\r\n\t\t});\r\n\t}\r\n\tngOnDestroy() {\r\n\t\tthis.dataSubscribtion.unsubscribe();\r\n\t}\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\n// import { UserModel } from 'app/models/authentication';\r\nimport { Store } from \"@ngrx/store\";\r\n\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\n\r\n// import * as appReducer from 'app/reducers';\r\n\r\n@Component({\r\n\tselector: \"diagram-module-container\",\r\n\ttemplate: `<div fxflex=\"100\" fxLayout=\"column\">\r\n    <router-outlet></router-outlet>\r\n</div>\r\n`\r\n})\r\nexport class DiagramModuleContainerComponent implements OnInit {\r\n\tconstructor(private service: DiagramService) {}\r\n\r\n\tngOnInit() {}\r\n}\r\n","import { Component, OnInit, Input } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { FormGroup, FormControl, Validators } from \"@angular/forms\";\r\n\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\nimport { AddDiagramApiModel } from \"../../models\";\r\nimport * as FeatureReducer from \"../../reducers\";\r\nimport { AddDiagramAction } from \"../../actions\";\r\n\r\ndeclare var _: any;\r\n\r\n@Component({\r\n\tselector: \"data-mapper\",\r\n\ttemplate: `<div fxLayout=\"row\">\r\n    <div fxFlex=\"grow\">\r\n        <b>\r\n            Key\r\n        </b>\r\n    </div>\r\n    <div fxFlex=\"nogrow\">\r\n        <b>\r\n            Type\r\n        </b>\r\n    </div>\r\n</div>\r\n<div *ngFor=\"let item of dataReport\" [class]=\"'depts_' + item.depts\" fxLayout=\"row\">\r\n    <div fxFlex=\"grow\">\r\n        {{item.name}}\r\n    </div>\r\n    <div fxFlex=\"nogrow\">\r\n        {{item.type}}\r\n    </div>\r\n</div>\r\n`,\r\n\tstyles: [`mat-radio-button{width:100%;display:block}div.depts_2{margin-right:25px}div.depts_3{margin-right:50px}`]\r\n})\r\nexport class DataMapperComponent implements OnInit {\r\n\t@Input() destination: string;\r\n\t_data: any;\r\n\t@Input()\r\n\tset data(data) {\r\n\t\tif (!data) return;\r\n\t\tthis.dataReport = _.report(data);\r\n\t\tthis._data = data;\r\n\t}\r\n\tdataReport: any[] = [];\r\n\tconstructor(private diagramService: DiagramService, private store: Store<FeatureReducer.FeatureState>) {}\r\n\r\n\tngOnInit() {}\r\n}\r\n","import { Component, OnInit, OnDestroy } from \"@angular/core\";\r\nimport { FormGroup, FormControl, Validators, FormArray, FormBuilder, AbstractControl } from \"@angular/forms\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { Route, ActivatedRoute } from \"@angular/router\";\r\nimport { Subscription } from \"rxjs/Subscription\";\r\nimport { publish } from \"rxjs/operator/publish\";\r\nimport { Effect } from \"@ngrx/effects\";\r\ndeclare var c3: any;\r\n\r\nimport { addDiagramReducer } from \"../../reducers/add-diagram.reducer\";\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\nimport { AddDiagramApiModel, DiagramModel, SourceModel } from \"../../models\";\r\nimport {\r\n\tAddDiagramAction,\r\n\tColumnAdded,\r\n\tDiagramConfigChangedAction,\r\n\tHaveEndpointAction,\r\n\tColumnsMappingChangedAction,\r\n\tDataLoadedAction\r\n} from \"../../actions\";\r\n\r\nimport { FeatureState } from \"../../reducers\";\r\n\r\n@Component({\r\n\tselector: \"diagram-add\",\r\n\ttemplate: `<div fxLayout=\"column\" fxFlex=\"100\">\r\n  <div fxLayout=\"row\" fxLayout.lt-md=\"column\">\r\n    <mat-card fxFlex=\"60\">\r\n      <form [formGroup]=\"formGroup\" fxLayout='column'>\r\n        <mat-card-header>\r\n          <mat-card-title>  </mat-card-title>\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <mat-form-field>\r\n            <input matInput placeholder=\" \" formControlName=\"Name\">\r\n          </mat-form-field>\r\n          <mat-form-field fxFlexFill>\r\n            <mat-select placeholder=\" \" formControlName=\"Source\" (change)=\"routeEntered($event)\">\r\n              <mat-option *ngFor=\"let item of sources | async\" [value]=\"item\">\r\n                {{item.Endpoint}}\r\n              </mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <mat-form-field fxFlexFill>\r\n            <input matInput placeholder=\"sync time\" formControlName=\"Sync\">\r\n          </mat-form-field>\r\n          <div>\r\n            <mat-radio-group (change)=\"typeChanged()\" formControlName=\"Type\" fxFlexFill>\r\n              <label>  :</label>\r\n              <mat-radio-button (change)=\"typeChanged()\" *ngFor=\"let item of diagramTypes\" [value]=\"item\" class=\"form-element-margin\">\r\n                {{item}}\r\n              </mat-radio-button>\r\n            </mat-radio-group>\r\n          </div>\r\n          <mat-form-field>\r\n            <mat-select placeholder=\"Groups\" formControlName=\"Groups\" multiple>\r\n              <mat-select-trigger>\r\n                {{formGroup.controls.Groups.value ? formGroup.controls.Groups.value[0] : ''}}\r\n                <span *ngIf=\"formGroup.controls.Groups.value?.length > 1\">\r\n                  (+{{formGroup.controls.Groups.value.length - 1}} others)\r\n                </span>\r\n              </mat-select-trigger>\r\n              <mat-option *ngFor=\"let item of groups | async\" [value]=\"item\">{{item}}</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <div>\r\n            <mat-checkbox (change)=\"configChanged()\" formControlName=\"IsActive\" fxFlexFill></mat-checkbox>\r\n          </div>\r\n          <dynamic-config-component-selector (ConfigChanged)=\"configChanged()\" [data]=\"diagramPartialConfig\"></dynamic-config-component-selector>\r\n        </mat-card-content>\r\n      </form>\r\n    </mat-card>\r\n    <dynamic-component-selector id=\"modify-diagram\" fxFlex=\"40\" [data]=\"diagramModel\"></dynamic-component-selector>\r\n  </div>\r\n\r\n  <div fxLayout=\"row\" fxLayout.lt-md=\"column\">\r\n    <mat-card fxFlex=\"25\">\r\n      <mat-card-header>\r\n        <mat-card-title>   </mat-card-title>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <div class=\"item-margin\">\r\n          <data-mapper destination=\"value\" [data]=\"data\"></data-mapper>\r\n        </div>\r\n      </mat-card-content>\r\n    </mat-card>\r\n\r\n    <mat-card fxLayout=\"column\" fxFlex=\"25\">\r\n      <mat-card-header>\r\n        <mat-card-title> </mat-card-title>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <div fxLayout=\"column\" fxLayoutGap=\"5px\">\r\n          <div *ngFor=\"let column of columnsMappings; let i=index\" fxFlex=\"100\" fxLayout=\"column\">\r\n            <div fxLayout=\"column\">\r\n              <div [formGroup]=\"columnsMappings[i]\" fxLayout=\"row\" fxLayout.xs=\"column\">\r\n                <mat-form-field fxFlex=\"50\" fxFlex.xs=\"100\">\r\n                  <mat-select placeholder=\" \" formControlName=\"NamePath\">\r\n                    <mat-option>--</mat-option>\r\n                    <mat-option *ngFor=\"let item of pathOptions\" [value]=\"item.path\" [class]=\"'mat-option depth_' + item.depts\">\r\n                      <!-- <mat-option *ngFor=\"let item of pathOptions\" [value]=\"item.path\" [class]=\"'mat-option depth_' + item.depts\" [disabled]=\"!item.isLastNode\"> -->\r\n                      {{item.path}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n                <mat-form-field fxFlex=\"50\" fxFlex.xs=\"100\">\r\n                  <mat-select placeholder=\" \" formControlName=\"ValuePath\">\r\n                    <mat-option>--</mat-option>\r\n                    <!-- <mat-option *ngFor=\"let item of pathOptions\" [value]=\"item.path\" [class]=\"'mat-option depth_' + item.depts\" [disabled]=\"!item.isLastNode\"> -->\r\n                    <mat-option *ngFor=\"let item of pathOptions\" [value]=\"item.path\" [class]=\"'mat-option depth_' + item.depts\">\r\n                      {{item.path}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n                <button (click)=\"removeColumn(i)\" fxFlex mat-button color=\"primary\" type=\"button\"> </button>\r\n              </div>\r\n              <br />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button (click)=\"addColumn()\" fxFlex mat-raised-button color=\"primary\" type=\"button\"> </button>\r\n        </div>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    <mat-card fxFlex=\"25\">\r\n      <mat-card-header>\r\n        <mat-card-title>  </mat-card-title>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <div class=\"item-margin\">\r\n          <div class=\"list-item\" *ngFor=\"let item of formGroup.controls.columns.value; let i=index\" fxLayoutAlign=\"space-between center\">\r\n            <span>{{item[0]}} : {{item[1]}}</span>\r\n            <span [formGroup]=\"formGroup.controls.Colors\" *ngIf=\"$any(formGroup.controls.Colors).controls[item[0]]\">\r\n              <input placeholder=\" \" (change)=\"configChanged()\" [formControlName]=\"item[0]\" type=\"color\">\r\n            </span>\r\n            <mat-form-field [formGroup]=\"formGroup.controls.Types\" *ngIf=\"$any(formGroup.controls.Types).controls[item[0]]\">\r\n              <!-- <input placeholder=\"tipo\" (change)=\"configChanged()\" > -->\r\n              <mat-select placeholder=\"tipo\" [formControlName]=\"item[0]\">\r\n                <mat-option>--</mat-option>\r\n                <mat-option *ngFor=\"let item of diagramTypes\" [value]=\"item\">\r\n                  {{item}}\r\n                </mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    <mat-card fxLayout=\"column\" fxFlex=\"25\">\r\n      <mat-card-header>\r\n        <mat-card-title> </mat-card-title>\r\n      </mat-card-header>\r\n      <mat-card-content [formGroup]=\"formGroup\">\r\n        <mat-form-field>\r\n          <input matInput placeholder=\" \" formControlName=\"Cols\">\r\n        </mat-form-field>\r\n        <mat-form-field>\r\n          <input matInput placeholder=\" \" formControlName=\"Rows\">\r\n        </mat-form-field>\r\n        <div>\r\n          <label fxFlex=\"50\">  :</label>\r\n          <span>\r\n            <input (change)=\"configChanged()\" formControlName=\"TextColor\" type=\"color\">\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <label fxFlex=\"50\">   :</label>\r\n          <span>\r\n            <input formControlName=\"BackgroundColor\" type=\"color\">\r\n          </span>\r\n        </div>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n  <div>\r\n    <mat-card fxLayoutAlign=\"end center\" fxLayout=\"row\" fxFlex=\"100\">\r\n      <mat-card-content>\r\n        <button (click)=\"add($event)\" fxFlex mat-raised-button color=\"primary\" type=\"submit\"></button>\r\n        <button fxFlex='nogrow' mat-button routerLink='/diagrams'></button>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>`,\r\n\tstyles: [`#chart{width:300px;direction:ltr}.form-element-margin{margin:5px 10px}.item-margin{margin:10px 0;display:block}mat-option.depth_2{padding-right:30px}mat-option.depth_3{padding-right:50px}mat-option.depth_4{padding-right:70px}.mat-card{margin:12.5px}`]\r\n})\r\nexport class AddDiagramComponent implements OnInit, OnDestroy {\r\n\tformGroup: FormGroup = AddDiagramApiModel.Request.formGroup;\r\n\tdata: any;\r\n\tcolumns: any;\r\n\tchart;\r\n\tdiagramTypes: string[];\r\n\tpathOptions: {\r\n\t\tpath: string;\r\n\t\tname: string;\r\n\t\ttype: string;\r\n\t\tcolor: string;\r\n\t}[];\r\n\tcolumnsMappings: AbstractControl[];\r\n\tdataSubscription: Subscription;\r\n\tdiagramModel: DiagramModel;\r\n\tcomponentModel: { component: any; inputs: object };\r\n\ttypeMapToDiagram: { [type: string]: any };\r\n\tdiagramPartialConfig: { type: string; inputs: { formGroup: FormGroup; diagramService: DiagramService } };\r\n\tsources: Observable<SourceModel[]>;\r\n\tgroups: Observable<string[]>;\r\n\tsource: SourceModel;\r\n\tconstructor(\r\n\t\tprivate diagramService: DiagramService,\r\n\t\tprivate formBuilder: FormBuilder,\r\n\t\tprivate store: Store<FeatureState>,\r\n\t\tprivate route: ActivatedRoute\r\n\t) {\r\n\t\tthis.sources = this.diagramService.getSources();\r\n\t\tthis.groups = this.diagramService.getGroups();\r\n\t\t// this.diagramModel = new DiagramModel();\r\n\t\tthis.columnsMappings = (this.formGroup.controls.ColumnMappings as FormArray).controls;\r\n\t\tthis.route.params.subscribe(params => {\r\n\t\t\tconst diagramId: string = params[\"id\"];\r\n\t\t\tdiagramId &&\r\n\t\t\t\tthis.diagramService.getDiagram(diagramId).subscribe(data => {\r\n\t\t\t\t\tthis.formGroup.patchValue({\r\n\t\t\t\t\t\t_id: data._id,\r\n\t\t\t\t\t\tName: data.Name,\r\n\t\t\t\t\t\tIsActive: data.IsActive,\r\n\t\t\t\t\t\tGroups: data.Groups,\r\n\t\t\t\t\t\tType: data.Chart.data.type,\r\n\t\t\t\t\t\tLegend: data.Chart.legend.show,\r\n\t\t\t\t\t\tSubchart: data.Chart.subchart.show,\r\n\t\t\t\t\t\tZoom: data.Chart.zoom.enabled,\r\n\t\t\t\t\t\tTooltip: data.Chart.tooltip.grouped,\r\n\t\t\t\t\t\tSync: data.Source.Interval,\r\n\t\t\t\t\t\tSource: data.Source,\r\n\t\t\t\t\t\tcolumns: data.Chart.data.columns,\r\n\t\t\t\t\t\tColumnMappings: data.Chart.ColumnMappings,\r\n\t\t\t\t\t\tCols: data.Box.Cols,\r\n\t\t\t\t\t\tFlow: data.Chart.Flow,\r\n\t\t\t\t\t\tRows: data.Box.Rows,\r\n\t\t\t\t\t\tBackgroundColor: data.Box.BackgroundColor,\r\n\t\t\t\t\t\tTextColor: data.Box.TextColor\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tconst colorsControl = <FormGroup>this.formGroup.controls[\"Colors\"];\r\n\t\t\t\t\tObject.keys(data.Chart.data.colors || {}).forEach(columnKey => {\r\n\t\t\t\t\t\tif (!(columnKey in colorsControl.controls))\r\n\t\t\t\t\t\t\tcolorsControl.addControl(columnKey, new FormControl(data.Chart.data.colors[columnKey]));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tconst typesControl = <FormGroup>this.formGroup.controls[\"Types\"];\r\n\t\t\t\t\tObject.keys(data.Chart.data.types || {}).forEach(key => {\r\n\t\t\t\t\t\tif (!(key in typesControl.controls))\r\n\t\t\t\t\t\t\ttypesControl.addControl(key, new FormControl(data.Chart.data.types[key]));\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdata.Chart.ColumnMappings.forEach(mapping => this.addColumn(mapping.NamePath, mapping.ValuePath));\r\n\t\t\t\t\tthis.source = data.Source;\r\n\t\t\t\t\tthis.store.dispatch(new HaveEndpointAction(this));\r\n\r\n\t\t\t\t\tthis.diagramPartialConfig = {\r\n\t\t\t\t\t\ttype: this.formGroup.value.Type,\r\n\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\tformGroup: this.formGroup,\r\n\t\t\t\t\t\t\tdiagramService: this.diagramService\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\tthis.diagramPartialConfig = {\r\n\t\t\t\ttype: this.formGroup.value.Type,\r\n\t\t\t\tinputs: {\r\n\t\t\t\t\tformGroup: this.formGroup,\r\n\t\t\t\t\tdiagramService: this.diagramService\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tthis.diagramTypes = [\r\n\t\t\t\"bar\",\r\n\t\t\t\"donut\",\r\n\t\t\t\"pie\",\r\n\t\t\t\"scatter\",\r\n\t\t\t\"line\",\r\n\t\t\t\"area\",\r\n\t\t\t\"area-spline\",\r\n\t\t\t\"numero\",\r\n\t\t\t\"booleano\",\r\n\t\t\t\"tempo\"\r\n\t\t];\r\n\t}\r\n\tngOnInit() {\r\n\t\tthis.formGroup.controls.ColumnMappings.statusChanges.subscribe(status => {\r\n\t\t\tif (\r\n\t\t\t\tstatus == \"VALID\" &&\r\n\t\t\t\t(this.formGroup.controls.ColumnMappings as FormArray).controls.length > 0 &&\r\n\t\t\t\tthis.data\r\n\t\t\t)\r\n\t\t\t\tthis.store.dispatch(new ColumnsMappingChangedAction(this));\r\n\t\t});\r\n\t}\r\n\tngOnDestroy() {\r\n\t\tif (this.dataSubscription) this.dataSubscription.unsubscribe();\r\n\t}\r\n\t// getData() {\r\n\t//   const o$ = this.diagramService.getData(this.source);\r\n\t//   this.dataSubscription = o$.subscribe(data => new DataLoadedAction(this))\r\n\t//   return o$;\r\n\t// }\r\n\tgetDataStructure() {\r\n\t\tconst observer = this.diagramService.getData({ ...this.source, Interval: 0 }, Date.now() - 10000);\r\n\t\tthis.dataSubscription = observer.subscribe(data => {\r\n\t\t\tthis.data = data.Data;\r\n\t\t\tthis.pathOptions = this.diagramService.get_data_report(data.Data);\r\n\t\t});\r\n\t\treturn observer;\r\n\t}\r\n\tconfigChanged() {\r\n\t\tthis.store.dispatch(new DiagramConfigChangedAction(this));\r\n\t}\r\n\ttypeChanged() {\r\n\t\tconst typesFormGroup = (this.formGroup.controls.Types as FormGroup).controls;\r\n\t\tfor (let cb in typesFormGroup) {\r\n\t\t\ttypesFormGroup[cb].setValue(this.formGroup.value.Type);\r\n\t\t}\r\n\t\tthis.diagramPartialConfig = {\r\n\t\t\ttype: this.formGroup.value.Type,\r\n\t\t\tinputs: {\r\n\t\t\t\tformGroup: this.formGroup,\r\n\t\t\t\tdiagramService: this.diagramService\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.store.dispatch(new DiagramConfigChangedAction(this));\r\n\t}\r\n\taddColumn(NamePath: string = \"\", ValuePath: string = \"\") {\r\n\t\tconst control = <FormArray>this.formGroup.controls[\"ColumnMappings\"];\r\n\t\tcontrol.push(\r\n\t\t\tthis.formBuilder.group({\r\n\t\t\t\tNamePath: [ NamePath ],\r\n\t\t\t\tValuePath: [ ValuePath, Validators.required ]\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\trouteEntered(event) {\r\n\t\tthis.source = event.value;\r\n\t\tthis.formGroup.patchValue({ Source: event.value });\r\n\t\tthis.store.dispatch(new HaveEndpointAction(this));\r\n\t}\r\n\tremoveColumn(i: number) {\r\n\t\tconst control = <FormArray>this.formGroup.controls[\"ColumnMappings\"];\r\n\t\tcontrol.removeAt(i);\r\n\t}\r\n\tcalculateColumns(): Observable<void> {\r\n\t\treturn Observable.create(obser => {\r\n\t\t\tvar columnsMApping = {\r\n\t\t\t\t// NameVAlue:  (this.formGroup.controls.ColumnMappings as FormArray).controls.values\r\n\t\t\t};\r\n\t\t\tlet columns = this.diagramService.extract_columns_from_data(\r\n\t\t\t\tthis.data,\r\n\t\t\t\t(this.formGroup.controls.ColumnMappings as FormArray).value\r\n\t\t\t);\r\n\t\t\tthis.formGroup.controls.columns.setValue(columns);\r\n\t\t\t//add new item to this.formGroup.controls.colors form control\r\n\t\t\tconst colorsControl = <FormGroup>this.formGroup.controls[\"Colors\"];\r\n\t\t\tcolumns.forEach(column => {\r\n\t\t\t\tlet columnKey = column[0];\r\n\t\t\t\tif (!(columnKey in colorsControl.controls))\r\n\t\t\t\t\tcolorsControl.addControl(columnKey, new FormControl(\"#123456\"));\r\n\t\t\t});\r\n\r\n\t\t\tconst typesControl = <FormGroup>this.formGroup.controls[\"Types\"];\r\n\t\t\tcolumns.forEach(column => {\r\n\t\t\t\tlet key = column[0];\r\n\t\t\t\tif (!(key in typesControl.controls))\r\n\t\t\t\t\ttypesControl.addControl(key, new FormControl(this.formGroup.value.Type));\r\n\t\t\t});\r\n\t\t\tobser.next();\r\n\t\t});\r\n\t}\r\n\tgenerateDiagram(): Observable<any> {\r\n\t\tvar temp = new DiagramModel();\r\n\t\ttemp._id = \"template_id\";\r\n\t\ttemp.Name = this.formGroup.value.Name;\r\n\t\ttemp.Source = this.source;\r\n\t\ttemp.Box = {\r\n\t\t\tNumberOfColumns: 1,\r\n\t\t\tOrder: 1,\r\n\t\t\tBackgroundColor: this.formGroup.value.BackgroundColor\r\n\t\t};\r\n\t\ttemp.Widget = {\r\n\t\t\tbooleano: this.formGroup.value.booleano\r\n\t\t};\r\n\t\ttemp.Chart = {\r\n\t\t\tColumnMappings: this.formGroup.value.ColumnMappings,\r\n\t\t\tdata: {\r\n\t\t\t\tcolumns: this.formGroup.controls.columns.value,\r\n\t\t\t\ttype: this.formGroup.value.Type,\r\n\t\t\t\ttypes: this.formGroup.value.Types,\r\n\t\t\t\tcolors: this.formGroup.controls.Colors.value\r\n\t\t\t},\r\n\t\t\tFlow: this.formGroup.value.Flow,\r\n\t\t\tlegend: {\r\n\t\t\t\tshow: this.formGroup.value.Legend\r\n\t\t\t},\r\n\t\t\tsubchart: {\r\n\t\t\t\tshow: this.formGroup.value.Subchart\r\n\t\t\t},\r\n\t\t\tzoom: {\r\n\t\t\t\tenabled: this.formGroup.value.Zoom\r\n\t\t\t},\r\n\t\t\ttooltip: {\r\n\t\t\t\tgrouped: this.formGroup.value.Tooltip\r\n\t\t\t}\r\n\t\t\t// tooltip: {\r\n\t\t\t//         format: {\r\n\t\t\t//                 value: function (value) {\r\n\t\t\t//                         return value + \"%\";\r\n\t\t\t//                 }\r\n\t\t\t//         }\r\n\t\t\t// },\r\n\t\t\t// color: {\r\n\t\t\t//         pattern: ['#60B044', '#F6C600', '#F97600', '#FF0000'],\r\n\t\t\t//         threshold: {\r\n\t\t\t//                 //  unit: 'value', // percentage is default\r\n\t\t\t//                 values: [30, 60, 90, 100]\r\n\t\t\t//         }\r\n\t\t\t// },\r\n\t\t};\r\n\t\t// this.componentModel = {\r\n\t\t//   component: this.typeMapToDiagram[temp.Chart.data.type],\r\n\t\t//   inputs: { data: temp }\r\n\t\t// }\r\n\t\tthis.diagramModel = temp;\r\n\t\treturn Observable.empty();\r\n\t}\r\n\tadd(event) {\r\n\t\tthis.store.dispatch(new AddDiagramAction(this.formGroup.value));\r\n\t}\r\n}\r\n","import { Component, OnInit, Input } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\n\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\nimport { GetDiagramsApiModel } from \"../../models\";\r\n\r\n@Component({\r\n\tselector: \"diagram-view\",\r\n\ttemplate: `<div *ngIf=\"diagramData$ | async\" [style.color]=\"(diagramData$ | async)?.Box.Color\">\r\n    <dynamic-component-selector class=\"diagram-box\" [data]=\"(diagramData$ | async)\"></dynamic-component-selector>\r\n</div>`,\r\n\tstyles: [`:host{width:100%;margin:12.5px}.diagram-box{margin:15px}.diagram-box .c3{direction:ltr}.widget-title{font:1.3em IRANSans,tahoma}`]\r\n})\r\nexport class diagramViewComponent implements OnInit {\r\n\tdiagrams: Observable<GetDiagramsApiModel.Response>;\r\n\twidth = 100;\r\n\r\n\tdiagramData$: any;\r\n\t@Input(\"id\") diagramId: string;\r\n\r\n\tconstructor(private diagramService: DiagramService) {\r\n\t\tthis.diagrams = this.diagramService.getDiagrams();\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.diagramData$ = this.diagramService.getDiagram(this.diagramId);\r\n\t}\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\n\r\nimport { GetDiagramsApiModel } from \"../../models\";\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\n@Component({\r\n\tselector: \"diagrams\",\r\n\ttemplate: `<mat-grid-list cols=\"12\" rowHeight=\"100px\">\r\n  <mat-grid-tile *ngFor=\"let diagram of (diagrams | async)?.Result\" \r\n  [colspan]=\"diagram.Box.Cols\" \r\n  [rowspan]=\"diagram.Box.Rows\" \r\n  [style.color]=\"diagram.Box.Color\">\r\n    <dynamic-component-selector class=\"diagram-box\" [data]=\"diagram\"></dynamic-component-selector>\r\n  </mat-grid-tile>\r\n</mat-grid-list>\r\n<br />\r\n<div fxFlexLayout=\"row\" fxLayoutWrap fxLayoutAlign=\"center center\">\r\n</div>\r\n<div fxLayoutAlign='end center'>\r\n  <button mat-fab routerLink=\"../diagrams/add\" class=\"add-btn\">\r\n    <mat-icon aria-label=\"Example icon-button with a heart icon\">add</mat-icon>\r\n  </button>\r\n</div>\r\n`,\r\n\tstyles: [`:host{width:100%}.diagram-box{margin:15px}.add-btn{position:fixed;bottom:50px;left:25px;z-index:1}`]\r\n})\r\nexport class DiagramsComponent implements OnInit {\r\n\tdiagrams: Observable<GetDiagramsApiModel.Response>;\r\n\twidth = 100;\r\n\tconstructor(private diagramService: DiagramService) {\r\n\t\tthis.diagrams = this.diagramService.getDiagrams();\r\n\r\n\t\t// this.diagrams\r\n\t\t//         .delay(100)\r\n\t\t//         .subscribe(diagrams =>\r\n\t\t//                 diagrams.Result.forEach(diagram =>\r\n\t\t//                         this.diagramService.generateDiagram(diagram.Chart, diagram._id, diagram.Source.Route, diagram.Source.Sync)));\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\t// this.socketService.initSocket();\r\n\t\t// this.socketService.send(\"add-message\");\r\n\t\t// this.socketService.onMessage().subscribe(msg=>{\r\n\t\t//         debugger\r\n\t\t// });\r\n\t}\r\n}\r\n","import { ActivatedRoute } from \"@angular/router\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { FormGroup, FormControl, Validators } from \"@angular/forms\";\r\n\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\nimport { FeatureState } from \"../../reducers\";\r\nimport { DiagramModel, EditDiagramApiModel } from \"../../models\";\r\nimport { EditDiagramAction } from \"../../actions\";\r\n\r\n@Component({\r\n\tselector: \"diagram-edit\",\r\n\ttemplate: `<mat-card fxLayout=\"column\" fxFlex=\"400px\">\r\n    <form [formGroup]=\"formGroup\" fxLayout='column' (ngSubmit)=\"add($event)\">\r\n\r\n        <mat-card-header>\r\n            <mat-card-title>  </mat-card-title>\r\n        </mat-card-header>\r\n\r\n        <mat-card-content>\r\n            <mat-form-field fxFlexFill>\r\n                <input matInput placeholder=\" \" formControlName=\"Name\">\r\n            </mat-form-field>\r\n            <mat-form-field fxFlexFill>\r\n                <input matInput placeholder=\" \" formControlName=\"Route\">\r\n            </mat-form-field>\r\n\r\n            <mat-checkbox formControlName=\"IsActive\"></mat-checkbox>\r\n\r\n        </mat-card-content>\r\n        <mat-card-actions>\r\n            <button fxFlex mat-raised-button color=\"primary\" type=\"submit\"></button>\r\n            <button fxFlex='nogrow' mat-button routerLink='/diagrams'></button>\r\n        </mat-card-actions>\r\n    </form>\r\n</mat-card>\r\n`,\r\n\tstyles: [``]\r\n})\r\nexport class EditDiagramComponent implements OnInit {\r\n\tformGroup: FormGroup = EditDiagramApiModel.Request.formGroup;\r\n\tconstructor(\r\n\t\tprivate diagramService: DiagramService,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate store: Store<FeatureState>\r\n\t) {\r\n\t\tlet Route = this.route.params.subscribe(params => {\r\n\t\t\tconst diagramId: string = params[\"id\"];\r\n\t\t\tthis.diagramService.getDiagram(diagramId).subscribe(data => this.formGroup.patchValue(data));\r\n\t\t});\r\n\t}\r\n\r\n\tngOnInit() {}\r\n\r\n\tadd(event) {\r\n\t\tthis.store.dispatch(new EditDiagramAction(this.formGroup.value));\r\n\t}\r\n}\r\n","import { Component, OnInit, Input, AfterViewInit, OnDestroy, Injector } from \"@angular/core\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { MatSliderChange } from \"@angular/material\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\n\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\nimport { DiagramModel } from \"../../models\";\r\nimport { FeatureState } from \"../../reducers\";\r\n\r\ndeclare var c3: any;\r\n\r\n@Component({\r\n\tselector: \"diagram\",\r\n\ttemplate: `<div class=\"over\" fxlayout=\"row\" fxLayoutAlign=\"space-between\">\r\n    <div fxFlex=\"nogrow\" fxFlexAlign=\"start\" class=\"data-time\">{{now | date : 'y/M/d h:m:s'}}</div>\r\n    <div fxFlex=\"nogrow\" fxFlexAlign=\"center\" class=\"data-time\">{{time | date : 'y/M/d h:m:s'}}</div>\r\n    <div fxFlex=\"nogrow\" fxFlexAlign=\"end\" class=\"data-time\">{{now | date : 'y/M/d h:m:s'}}</div>\r\n</div>\r\n<div *ngIf=\"modelIsCorrect | async\" class=\"diagram widget\" [id]=\"'diagram_' + data._id\"></div>`,\r\n\tstyles: [`:host{width:100%}.diagram-box .c3{direction:ltr}mat-slider{width:100%}.data-time{direction:ltr;text-align:center}.over{visibility:hidden;opacity:0;position:absolute;top:35px;left:0;right:0;background:#fff;z-index:3;transition:all .4s ease-in-out}`]\r\n})\r\nexport class DiagramComponent implements AfterViewInit, OnDestroy {\r\n\tmodelIsCorrect: BehaviorSubject<boolean> = new BehaviorSubject(false);\r\n\t_model: DiagramModel;\r\n\t@Input()\r\n\tset data(value: DiagramModel) {\r\n\t\tif (!(value.Chart && value._id)) return;\r\n\t\tthis._model = value;\r\n\t\tthis.modelIsCorrect.next(true);\r\n\t}\r\n\tget data() {\r\n\t\treturn this._model;\r\n\t}\r\n\tdataSubscribtion: Subscription;\r\n\tchart: any;\r\n\ttime: number;\r\n\tnow: number = Date.now();\r\n\tconstructor(\r\n\t\tprivate store: Store<FeatureState>,\r\n\t\tprivate diagramService: DiagramService,\r\n\t\tprivate http: HttpClient,\r\n\t\tprivate injector: Injector,\r\n\t\tprivate route: ActivatedRoute\r\n\t) {\r\n\t\tthis.data = this.injector.get(\"data\");\r\n\r\n\t\tthis.route.params.subscribe(params => {\r\n\t\t\tconst diagramId: string = params[\"id\"];\r\n\t\t\tdiagramId &&\r\n\t\t\t\tthis.diagramService.getDiagram(diagramId).subscribe(data => {\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\tngAfterViewInit() {\r\n\t\t// this.dataSubscribtion = IntervalObservable\r\n\t\t//         // .create(this.model.Source.Sync)\r\n\t\t//         .create(999)\r\n\t\t//         .switchMap(i =>\r\n\t\t//                 this.http.get(`http://localhost:3000/api/data`, {\r\n\t\t//                         params: {\r\n\t\t//                                 route: this.model.Source.Route,\r\n\t\t//                                 time: '0'\r\n\t\t//                         }\r\n\t\t//                 })\r\n\t\t//         )\r\n\t\t//         // .switchMap((res: any) => Observable.of(res.Result.Data))\r\n\t\t//         .map((res: any) => res.Result.Data)\r\n\t\tthis.modelIsCorrect.delay(300).filter(data => data).subscribe(state => {\r\n\t\t\tthis.chart = c3.generate({\r\n\t\t\t\t...this.data.Chart,\r\n\t\t\t\tbindto: `#diagram_${this.data._id}`\r\n\t\t\t\t// size: {\r\n\t\t\t\t//         height: 150\r\n\t\t\t\t// }\r\n\t\t\t});\r\n\t\t\tthis.dataSubscribtion = this.diagramService\r\n\t\t\t\t.getData(this.data.Source)\r\n\t\t\t\t.filter(data => data != undefined)\r\n\t\t\t\t.subscribe(data => {\r\n\t\t\t\t\tthis.now = Date.now();\r\n\t\t\t\t\tthis.time = data.Time;\r\n\t\t\t\t\tif (this.data.Chart.Flow) {\r\n\t\t\t\t\t\tthis.chart.flow({\r\n\t\t\t\t\t\t\tcolumns: this.diagramService.extract_columns_from_data(\r\n\t\t\t\t\t\t\t\tdata.Data,\r\n\t\t\t\t\t\t\t\tthis.data.Chart.ColumnMappings\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.chart.load({\r\n\t\t\t\t\t\t\tcolumns: this.diagramService.extract_columns_from_data(\r\n\t\t\t\t\t\t\t\tdata.Data,\r\n\t\t\t\t\t\t\t\tthis.data.Chart.ColumnMappings\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t});\r\n\r\n\t\t// this.dataSubscribtion = this.diagramService.generateDiagram(\r\n\t\t//         this.model.Chart,\r\n\t\t//         this.model._id,\r\n\t\t//         this.model.Source.Route,\r\n\t\t//         this.model.Source.Sync\r\n\t\t// );\r\n\t}\r\n\tngOnDestroy() {\r\n\t\t// this.dataSubscribtion.unsubscribe();\r\n\t}\r\n\ttimeChange(e: MatSliderChange) {\r\n\t\tthis.dataSubscribtion.unsubscribe();\r\n\t\t// this.diagramService.getData(this.data.Source, Date.now() - ((1000 - e.value) * this.data.Source.Interval), true)\r\n\t\tthis.dataSubscribtion = this.diagramService\r\n\t\t\t.getData(this.data.Source, Date.now() - (1000 - e.value) * this.data.Source.Interval, true)\r\n\t\t\t.subscribe(data => {\r\n\t\t\t\tthis.time = data.Time;\r\n\t\t\t\tthis.now = Date.now();\r\n\t\t\t\t// const columns = this.diagramService\r\n\t\t\t\t//         .extract_columns_from_data(data.Data, this.data.Chart.ColumnMappings)\r\n\t\t\t\t//         .map(column => {\r\n\t\t\t\t//                 debugger;\r\n\t\t\t\t//                 column[0] += '_historic';\r\n\t\t\t\t//                 return column;\r\n\t\t\t\t//         });\r\n\t\t\t\tthis.chart.load({\r\n\t\t\t\t\tcolumns: this.diagramService.extract_columns_from_data(data.Data, this.data.Chart.ColumnMappings)\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n}\r\n","import {\r\n\tComponent,\r\n\tInput,\r\n\tAfterViewInit,\r\n\tComponentFactoryResolver,\r\n\tViewChild,\r\n\tViewContainerRef,\r\n\tReflectiveInjector,\r\n\tOnDestroy\r\n} from \"@angular/core\";\r\n\r\nimport { DiagramModel } from \"../../models/diagram.model\";\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\nimport { NumericDiagramComponent } from \"../../dumb-components/numeric-diagram/numeric-diagram.component\";\r\nimport { ServerStatusDiagramComponent } from \"../../dumb-components/server-status-diagram/server-status-diagram.component\";\r\nimport { ServerConnectingTimeDiagramComponent } from \"../../dumb-components/server-connecting-time-diagram/server-connecting-time-diagram.component\";\r\nimport { DiagramComponent } from \"../../smart-components/diagram/diagram.component\";\r\n\r\n@Component({\r\n\tselector: \"dynamic-component-selector\",\r\n\ttemplate: `<mat-card class=\"diagram-box\" [style.background]=\"backgroundColor\" fxLayout=\"column\" fxLayoutAlign=\"space-between stretch\">\r\n    <div fxFlex=\"0 0 auto\" *ngIf=\"_data\" fxLayoutAlign=\"space-between center\">\r\n        <span fxLayoutAlign=\"start center\" class=\"widget-title\">\r\n            {{_data.Name}}\r\n        </span>\r\n        <a [routerLink]=\"['edit' ,  _data._id]\" fxLayoutAlign=\"center center\" mat-icon-button color=\"primary\">\r\n            <mat-icon aria-label=\"edit diagram\">edit</mat-icon>\r\n        </a>\r\n    </div>\r\n    <!-- <mat-card-content> -->\r\n    <!-- <mat-slider invert [(ngModel)]=\"time\" (change)=\"timeChange($event)\"></mat-slider> -->\r\n    <mat-slider class=\"over\" fxFlex=\"0 0 auto\" invert min='1' max='1000' value=\"1000\" (change)=\"timeChange($event)\"></mat-slider>\r\n    <div fxFlex=\"1 1 auto\" class=\"widget-container\">\r\n        <div #dynamicComponentContainer></div>\r\n    </div>\r\n    <!-- </mat-card-content> -->\r\n</mat-card>`,\r\n\tstyles: [`:host{width:100%;margin:12.5px}.diagram-box{margin:15px}.diagram-box .c3{direction:ltr}.widget-title{font:1.3em IRANSans,tahoma}.over{visibility:hidden;opacity:0;position:absolute;top:60px;left:0;right:0;background:#fff;z-index:3;transition:all .4s ease-in-out}`],\r\n\tentryComponents: [\r\n\t\tNumericDiagramComponent,\r\n\t\tServerConnectingTimeDiagramComponent,\r\n\t\tServerStatusDiagramComponent,\r\n\t\tDiagramComponent\r\n\t]\r\n})\r\nexport class DynamicComponentSelectorComponent implements AfterViewInit {\r\n\ttypeMapToDiagram = {\r\n\t\tbar: DiagramComponent,\r\n\t\tdonut: DiagramComponent,\r\n\t\tpie: DiagramComponent,\r\n\t\tscatter: DiagramComponent,\r\n\t\tline: DiagramComponent,\r\n\t\tarea: DiagramComponent,\r\n\t\t\"area-spline\": DiagramComponent,\r\n\t\tnumero: NumericDiagramComponent,\r\n\t\ttempo: ServerConnectingTimeDiagramComponent,\r\n\t\tbooleano: ServerStatusDiagramComponent\r\n\t};\r\n\t@ViewChild(\"dynamicComponentContainer\", { read: ViewContainerRef })\r\n\tdynamicComponentContainer: ViewContainerRef;\r\n\t@ViewChild(DiagramComponent) widgetComponent: DiagramComponent;\r\n\tcurrentComponent: any = null;\r\n\t_data: any;\r\n\t@Input()\r\n\tset data(data: any) {\r\n\t\tif (!data || Object.keys(data).length == 0) return;\r\n\t\tthis.backgroundColor = data.Box.BackgroundColor;\r\n\t\tthis._data = data;\r\n\t\tlet raw = { data };\r\n\t\tlet _component = this.typeMapToDiagram[data.Chart.data.type];\r\n\t\tlet inputProviders = Object.keys(raw).map(inputName => {\r\n\t\t\treturn { provide: inputName, useValue: raw[inputName] };\r\n\t\t});\r\n\t\tlet resolvedInputs = ReflectiveInjector.resolve(inputProviders);\r\n\r\n\t\tlet injector = ReflectiveInjector.fromResolvedProviders(\r\n\t\t\tresolvedInputs,\r\n\t\t\tthis.dynamicComponentContainer.parentInjector\r\n\t\t);\r\n\t\tlet factory = this.resolver.resolveComponentFactory(_component);\r\n\r\n\t\tlet component = factory.create(injector);\r\n\r\n\t\tthis.dynamicComponentContainer.insert(component.hostView);\r\n\r\n\t\tif (this.currentComponent) {\r\n\t\t\tthis.currentComponent.destroy();\r\n\t\t}\r\n\r\n\t\tthis.currentComponent = component;\r\n\t}\r\n\tbackgroundColor: String = \"\";\r\n\tconstructor(private resolver: ComponentFactoryResolver) {}\r\n\tngAfterViewInit() {}\r\n\ttimeChange(e) {\r\n\t\tthis.currentComponent._component.timeChange(e);\r\n\t}\r\n}\r\n","import {\r\n\tComponent,\r\n\tOnInit,\r\n\tInput,\r\n\tAfterViewInit,\r\n\tComponentFactoryResolver,\r\n\tViewChild,\r\n\tViewContainerRef,\r\n\tReflectiveInjector,\r\n\tOnDestroy,\r\n\tOutput,\r\n\tEventEmitter\r\n} from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\n\r\nimport { DiagramModel } from \"../../models\";\r\nimport { DiagramService } from \"../../services/diagram.service\";\r\nimport { DiagramPartialConfigEditComponent } from \"../../dumb-components/diagram-partial-config-edit/diagram-partial-config-edit.component\";\r\nimport { PieDiagramPartialConfigComponent } from \"../../dumb-components/pie-diagram-partial-config/pie-diagram-partial-config.component\";\r\nimport { BooleanoWidgetPartialConfigComponent } from \"../../dumb-components/booleano-widget-partial-config/booleano-widget-partial-config.component\";\r\nimport { LinearDiagramPartialConfigComponent } from \"../../dumb-components/linear-diagram-partial-config/linear-diagram-partial-config.component\";\r\n\r\ndeclare var c3: any;\r\n\r\n@Component({\r\n\tselector: \"dynamic-config-component-selector\",\r\n\ttemplate: `<div #dynamicComponentContainer></div>`,\r\n\tstyles: [`:host{width:100%}.diagram-box{margin:15px}.diagram-box .c3{direction:ltr}`],\r\n\tentryComponents: [\r\n\t\tDiagramPartialConfigEditComponent,\r\n\t\tPieDiagramPartialConfigComponent,\r\n\t\tLinearDiagramPartialConfigComponent,\r\n\t\tBooleanoWidgetPartialConfigComponent\r\n\t]\r\n})\r\nexport class DynamicConfigComponentSelectorComponent implements AfterViewInit {\r\n\ttypeMapToDiagram = {\r\n\t\tbar: DiagramPartialConfigEditComponent,\r\n\t\tarea: LinearDiagramPartialConfigComponent,\r\n\t\t\"area-spline\": LinearDiagramPartialConfigComponent,\r\n\t\tdonut: DiagramPartialConfigEditComponent,\r\n\t\tpie: PieDiagramPartialConfigComponent,\r\n\t\tscatter: DiagramPartialConfigEditComponent,\r\n\t\tline: LinearDiagramPartialConfigComponent,\r\n\t\tbooleano: BooleanoWidgetPartialConfigComponent\r\n\t};\r\n\t@ViewChild(\"dynamicComponentContainer\", { read: ViewContainerRef })\r\n\tdynamicComponentContainer: ViewContainerRef;\r\n\t@Output() ConfigChanged = new EventEmitter();\r\n\tcurrentComponent: any = null;\r\n\t@Input()\r\n\tset data(data: any) {\r\n\t\tif (!data || Object.keys(data).length == 0) return;\r\n\t\tif (!(data.type in this.typeMapToDiagram)) {\r\n\t\t\tif (this.currentComponent) this.currentComponent.destroy();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet _component = this.typeMapToDiagram[data.type];\r\n\t\tlet inputProviders = Object.keys(data.inputs).map(inputName => {\r\n\t\t\treturn { provide: inputName, useValue: data.inputs[inputName] };\r\n\t\t});\r\n\t\tlet resolvedInputs = ReflectiveInjector.resolve(inputProviders);\r\n\r\n\t\tlet injector = ReflectiveInjector.fromResolvedProviders(\r\n\t\t\tresolvedInputs,\r\n\t\t\tthis.dynamicComponentContainer.parentInjector\r\n\t\t);\r\n\t\tlet factory = this.resolver.resolveComponentFactory(_component);\r\n\t\tlet component = factory.create(injector);\r\n\t\tif ((<any>component.instance).ConfigChanged)\r\n\t\t\t(<any>component.instance).ConfigChanged.subscribe(() => {\r\n\t\t\t\tthis.ConfigChanged.emit();\r\n\t\t\t});\r\n\r\n\t\tthis.dynamicComponentContainer.insert(component.hostView);\r\n\r\n\t\tif (this.currentComponent) {\r\n\t\t\tthis.currentComponent.destroy();\r\n\t\t}\r\n\r\n\t\tthis.currentComponent = component;\r\n\t}\r\n\tconstructor(private resolver: ComponentFactoryResolver) {}\r\n\tngAfterViewInit() {}\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Action } from \"@ngrx/store\";\r\nimport { Actions, Effect } from \"@ngrx/effects\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { map, switchMap, catchError } from \"rxjs/operators\";\r\n\r\nimport { DiagramsActionTypes, GetDiagrams, GetDiagramsStart, GetDiagramsSucceed, GetDiagramsFailed } from \"../actions\";\r\nimport { DiagramService } from \"../services/diagram.service\";\r\nimport { DiagramModel, GetDiagramsApiModel } from \"../models\";\r\n\r\n@Injectable()\r\nexport class DiagramEffects {\r\n\tconstructor(private actions$: Actions<any>, private router: Router, private diagramService: DiagramService) {}\r\n\r\n\t@Effect()\r\n\tDiagramRequest$ = this.actions$.ofType().pipe(map(action => action.payload), map(data => new GetDiagramsStart()));\r\n\r\n\t@Effect()\r\n\tgetDiagram$ = this.actions$\r\n\t\t.ofType()\r\n\t\t.pipe(\r\n\t\t\tmap(action => action.payload),\r\n\t\t\tswitchMap((data: GetDiagramsApiModel.Request) =>\r\n\t\t\t\tthis.diagramService\r\n\t\t\t\t\t.getDiagrams()\r\n\t\t\t\t\t.pipe(\r\n\t\t\t\t\t\tmap(res => new GetDiagramsSucceed(res)),\r\n\t\t\t\t\t\tcatchError(() => Observable.of(new GetDiagramsFailed()))\r\n\t\t\t\t\t)\r\n\t\t\t)\r\n\t\t);\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Action } from \"@ngrx/store\";\r\nimport { Actions, Effect } from \"@ngrx/effects\";\r\nimport { of } from \"rxjs/observable/of\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { map, switchMap, catchError } from \"rxjs/operators\";\r\n\r\nimport {\r\n\tAddDiagramActionTypes,\r\n\tAddDiagramAction,\r\n\tAddDiagramActionStart,\r\n\tAddDiagramActionSucceed,\r\n\tAddDiagramActionFailed,\r\n\tGenerateDiagramAction,\r\n\tStructureDefinitionStartAction,\r\n\tStructureDefinitionFinishedAction,\r\n\tDataLoadedAction\r\n} from \"../actions\";\r\nimport { DiagramService } from \"../services/diagram.service\";\r\nimport { AddDiagramApiModel } from \"../models\";\r\n\r\n@Injectable()\r\nexport class AddDiagramEffects {\r\n\tconstructor(private actions$: Actions<any>, private router: Router, private diagramService: DiagramService) {}\r\n\r\n\t@Effect()\r\n\taddDiagramRequest$ = this.actions$\r\n\t\t.ofType(AddDiagramActionTypes.ADD_DIAGRAM)\r\n\t\t.pipe(map(action => action.payload), map(data => new AddDiagramActionStart(data)));\r\n\r\n\t@Effect()\r\n\taddDiagram$ = this.actions$\r\n\t\t.ofType(AddDiagramActionTypes.ADD_DIAGRAM_START)\r\n\t\t.pipe(\r\n\t\t\tmap(action => action.payload),\r\n\t\t\tswitchMap((data: AddDiagramApiModel.Request) =>\r\n\t\t\t\tthis.diagramService\r\n\t\t\t\t\t.addDiagram(data)\r\n\t\t\t\t\t.pipe(\r\n\t\t\t\t\t\tmap(res => new AddDiagramActionSucceed(res)),\r\n\t\t\t\t\t\tcatchError(() => Observable.of(new AddDiagramActionFailed()))\r\n\t\t\t\t\t)\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t@Effect({ dispatch: false })\r\n\tADD_DIAGRAM_SUCCEED$ = this.actions$.ofType(AddDiagramActionTypes.ADD_DIAGRAM_SUCCEED).pipe(\r\n\t\tmap(action => action.payload),\r\n\t\tmap(data => {\r\n\t\t\tthis.router.navigate([ \"diagrams\" ]);\r\n\t\t\treturn Observable.empty();\r\n\t\t})\r\n\t);\r\n\r\n\t@Effect()\r\n\tHAVE_ENDPOINT$ = this.actions$\r\n\t\t.ofType(AddDiagramActionTypes.HAVE_ENDPOINT)\r\n\t\t.pipe(map(action => action.payload), map(data => new DataLoadedAction(data)));\r\n\r\n\t@Effect()\r\n\tDATA_LOADED$ = this.actions$\r\n\t\t.ofType(AddDiagramActionTypes.DATA_LOADED)\r\n\t\t.pipe(map(action => action.payload), map(data => new StructureDefinitionStartAction(data)));\r\n\r\n\t@Effect()\r\n\tDIAGRAM_CONFIG_CHANGED$ = this.actions$\r\n\t\t.ofType(AddDiagramActionTypes.DIAGRAM_CONFIG_CHANGED)\r\n\t\t.pipe(map(action => action.payload), map(data => new GenerateDiagramAction(data)));\r\n\r\n\t@Effect()\r\n\tSTRUCTURE_DEFINITION_START$ = this.actions$\r\n\t\t.ofType(AddDiagramActionTypes.STRUCTURE_DEFINITION_START)\r\n\t\t.pipe(\r\n\t\t\tmap(action => action.payload),\r\n\t\t\tswitchMap(data => data.getDataStructure().map(() => new StructureDefinitionFinishedAction(data)))\r\n\t\t);\r\n\r\n\t@Effect()\r\n\tCOLUMNS_MAPPING_CHANGED$ = this.actions$\r\n\t\t.ofType(AddDiagramActionTypes.COLUMNS_MAPPING_CHANGED)\r\n\t\t.pipe(\r\n\t\t\tmap(action => action.payload),\r\n\t\t\tswitchMap(data => data.calculateColumns().map(() => new StructureDefinitionFinishedAction(data)))\r\n\t\t);\r\n\r\n\t@Effect()\r\n\tSTRUCTURE_DEFINITION_END$ = this.actions$\r\n\t\t.ofType(AddDiagramActionTypes.STRUCTURE_DEFINITION_END)\r\n\t\t// .skipUntil(this.actions$.ofType(AddDiagramActionTypes.DATA_LOADED))\r\n\t\t.pipe(\r\n\t\t\tmap(action => action.payload),\r\n\t\t\tswitchMap(data => data.calculateColumns().map(() => new GenerateDiagramAction(data)))\r\n\t\t);\r\n\r\n\t@Effect({ dispatch: false })\r\n\tGenerateDiagram$ = this.actions$\r\n\t\t.ofType(AddDiagramActionTypes.GENERATE_DIAGRAM)\r\n\t\t.pipe(map(action => action.payload), map(data => data.generateDiagram()));\r\n}\r\n","import { ModuleWithProviders } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\n\r\nimport { DiagramModuleContainerComponent } from \"./smart-components/diagram-module-container/diagram-module-container.component\";\r\nimport { DiagramsComponent } from \"./smart-components/diagrams/diagrams.component\";\r\nimport { AddDiagramComponent } from \"./smart-components/add-diagram/add-diagram.component\";\r\nimport { NumericDiagramComponent } from \"./dumb-components/numeric-diagram/numeric-diagram.component\";\r\nimport { ServerConnectingTimeDiagramComponent } from \"./dumb-components/server-connecting-time-diagram/server-connecting-time-diagram.component\";\r\nimport { ServerStatusDiagramComponent } from \"./dumb-components/server-status-diagram/server-status-diagram.component\";\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: \"diagrams\",\r\n\t\tcomponent: DiagramModuleContainerComponent,\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"\",\r\n\t\t\t\tcomponent: DiagramsComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"add\",\r\n\t\t\t\tcomponent: AddDiagramComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"edit/:id\",\r\n\t\t\t\tcomponent: AddDiagramComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"numero\",\r\n\t\t\t\tcomponent: NumericDiagramComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"tempo\",\r\n\t\t\t\tcomponent: ServerConnectingTimeDiagramComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"booleano\",\r\n\t\t\t\tcomponent: ServerStatusDiagramComponent\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport const RoutingModule: ModuleWithProviders = RouterModule.forChild(routes);\r\n","import { NgModule, ModuleWithProviders } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\nimport {\r\n\tMatExpansionModule,\r\n\tMatSnackBarModule,\r\n\tMatIconModule,\r\n\tMatButtonModule,\r\n\tMatCardModule,\r\n\tMatTooltipModule,\r\n\tMatSelectModule,\r\n\tMatInputModule,\r\n\tMatFormFieldModule,\r\n\tMatTabsModule,\r\n\tMatRadioModule,\r\n\tMatCheckboxModule,\r\n\tMatGridListModule,\r\n\tMatSliderModule,\r\n\tMatAutocompleteModule\r\n} from \"@angular/material\";\r\nimport { StoreModule } from \"@ngrx/store\";\r\nimport { StoreDevtoolsModule } from \"@ngrx/store-devtools\";\r\nimport { EffectsModule, mergeEffects } from \"@ngrx/effects\";\r\n\r\nimport { SharedModule } from \"@soushians/shared\";\r\n\r\nimport { DiagramModuleConfig, MODULE_CONFIG_TOKEN } from \"./diagram.config\";\r\n\r\nimport { DiagramReducers } from \"./reducers\";\r\n\r\nimport { ServerStatusDiagramComponent } from \"./dumb-components/server-status-diagram/server-status-diagram.component\";\r\nimport { DiagramPartialConfigEditComponent } from \"./dumb-components/diagram-partial-config-edit/diagram-partial-config-edit.component\";\r\nimport { PieDiagramPartialConfigComponent } from \"./dumb-components/pie-diagram-partial-config/pie-diagram-partial-config.component\";\r\nimport { BooleanoWidgetPartialConfigComponent } from \"./dumb-components/booleano-widget-partial-config/booleano-widget-partial-config.component\";\r\nimport { NumericWidgetPartialConfigComponent } from \"./dumb-components/numeric-widget-partial-config/numeric-widget-partial-config.component\";\r\nimport { LinearDiagramPartialConfigComponent } from \"./dumb-components/linear-diagram-partial-config/linear-diagram-partial-config.component\";\r\nimport { ServerConnectingTimeDiagramComponent } from \"./dumb-components/server-connecting-time-diagram/server-connecting-time-diagram.component\";\r\nimport { NumericEditDiagramComponent } from \"./dumb-components/numeric-edit-diagram/numeric-edit-diagram.component\";\r\nimport { NumericDiagramComponent } from \"./dumb-components/numeric-diagram/numeric-diagram.component\";\r\n\r\nimport { DiagramModuleContainerComponent } from \"./smart-components/diagram-module-container/diagram-module-container.component\";\r\nimport { DataMapperComponent } from \"./smart-components/data-mapper/data-mapper.component\";\r\n\r\nimport { AddDiagramComponent } from \"./smart-components/add-diagram/add-diagram.component\";\r\nimport { diagramViewComponent } from \"./smart-components/diagram-view/diagram-view.component\";\r\nimport { DiagramsComponent } from \"./smart-components/diagrams/diagrams.component\";\r\nimport { EditDiagramComponent } from \"./smart-components/edit-diagram/edit-diagram.component\";\r\nimport { DiagramComponent } from \"./smart-components/diagram/diagram.component\";\r\nimport { DynamicComponentSelectorComponent } from \"./smart-components/dynamic-component-selector/dynamic-component-selector.component\";\r\nimport { DynamicConfigComponentSelectorComponent } from \"./smart-components/dynamic-config-component-selector/dynamic-config-component-selector.component\";\r\n\r\nimport { DiagramEffects } from \"./effects/diagrams.effects\";\r\nimport { AddDiagramEffects } from \"./effects/add-diagram.effects\";\r\n\r\nimport { RoutingModule } from \"./diagram-routing.module\";\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tHttpClientModule,\r\n\t\tFormsModule,\r\n\t\tRouterModule,\r\n\t\tCommonModule,\r\n\t\tMatExpansionModule,\r\n\t\tMatSnackBarModule,\r\n\t\tMatIconModule,\r\n\t\tMatButtonModule,\r\n\t\tMatCardModule,\r\n\t\tMatSelectModule,\r\n\t\tMatSliderModule,\r\n\t\tMatInputModule,\r\n\t\tMatCheckboxModule,\r\n\t\tMatFormFieldModule,\r\n\t\tMatTabsModule,\r\n\t\tFlexLayoutModule,\r\n\t\tMatRadioModule,\r\n\t\tMatTooltipModule,\r\n\t\tMatGridListModule,\r\n\t\tMatAutocompleteModule,\r\n\t\tReactiveFormsModule,\r\n\t\tBrowserAnimationsModule\r\n\t],\r\n\tdeclarations: [\r\n\t\tAddDiagramComponent,\r\n\t\tDiagramsComponent,\r\n\t\tdiagramViewComponent,\r\n\t\tEditDiagramComponent,\r\n\t\tDynamicConfigComponentSelectorComponent,\r\n\t\tDiagramComponent,\r\n\t\tDynamicComponentSelectorComponent,\r\n\t\tDiagramModuleContainerComponent,\r\n\t\tDataMapperComponent,\r\n\t\tNumericDiagramComponent,\r\n\t\tServerStatusDiagramComponent,\r\n\t\tDiagramPartialConfigEditComponent,\r\n\t\tPieDiagramPartialConfigComponent,\r\n\t\tBooleanoWidgetPartialConfigComponent,\r\n\t\tNumericWidgetPartialConfigComponent,\r\n\t\tServerConnectingTimeDiagramComponent,\r\n\t\tNumericEditDiagramComponent,\r\n\t\tLinearDiagramPartialConfigComponent\r\n\t],\r\n\tproviders: []\r\n})\r\nexport class NgsDiagramModule {\r\n\tstatic forRoot(config?: DiagramModuleConfig): ModuleWithProviders {\r\n\t\treturn {\r\n\t\t\tngModule: RootNgsDiagramModule,\r\n\t\t\tproviders: [ { provide: MODULE_CONFIG_TOKEN, useValue: config } ]\r\n\t\t};\r\n\t}\r\n}\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tNgsDiagramModule,\r\n\t\tStoreModule.forFeature(\"diagram\", DiagramReducers),\r\n\t\tEffectsModule.forFeature([ DiagramEffects, AddDiagramEffects ]),\r\n\t\tRoutingModule\r\n\t],\r\n\texports: [ NgsDiagramModule ]\r\n})\r\nexport class RootNgsDiagramModule {}\r\n"]}