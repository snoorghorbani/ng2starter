{
  "version": 3,
  "file": "signin.service.js",
  "sources": [
    "ng://@soushians/authentication/projects/soushians/authentication/src/lib/services/signin.service.ts"
  ],
  "sourcesContent": [
    "import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs/Rx\";\r\nimport { MatSnackBar } from \"@angular/material\";\r\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\r\nimport { map, switchMap, take, filter, tap } from \"rxjs/operators\";\r\n\r\n// import { environment } from \"../../environments/environment\";\r\n\r\nimport { Signin_ApiModel, UserModel } from \"../models\";\r\nimport { AuthenticationConfigurationService } from \"./authentication-configuration.service\";\r\n\r\nconst SIGNIN_RESPONSE = \"[APP] SIGNIN_RESPONSE\";\r\n\r\n@Injectable()\r\nexport class SigninService {\r\n\t// SigninResponse = new BehaviorSubject<UserModel>(new UserModel());\r\n\tconstructor(\r\n\t\tprivate http: HttpClient,\r\n\t\tprivate configurationService: AuthenticationConfigurationService,\r\n\t\tprivate snackBar: MatSnackBar\r\n\t) {}\r\n\r\n\tsignin(model: any): Observable<UserModel> {\r\n\t\treturn this.configurationService.config$.pipe(\r\n\t\t\tfilter(config => config.endpoints.signIn != \"\"),\r\n\t\t\ttake(1),\r\n\t\t\tswitchMap(config =>\r\n\t\t\t\tthis.http.post<Signin_ApiModel.Response>(this.configurationService.config.endpoints.signIn, model)\r\n\t\t\t),\r\n\t\t\tmap(response => {\r\n\t\t\t\tconst userModel = new Signin_ApiModel.Response(response).extractData();\r\n\t\t\t\t// this.SigninResponse.next(userModel);\r\n\t\t\t\treturn userModel;\r\n\t\t\t})\r\n\t\t);\r\n\t\t// .catch(err => {\r\n\t\t// \tif (err.status == 400) {\r\n\t\t// \t\tthis.snackBar.open(\"کد امنیتی اشتباه است\", null, {\r\n\t\t// \t\t\tduration: 5000\r\n\t\t// \t\t});\r\n\t\t// \t} else if (err.status == 403) {\r\n\t\t// \t\tthis.snackBar.open(\" شماره موبایل و یا کلمه عبور اشتباه است\", null, {\r\n\t\t// \t\t\tduration: 5000\r\n\t\t// \t\t});\r\n\t\t// \t}\r\n\t\t// \treturn Observable.throw(err);\r\n\t\t// });\r\n\t}\r\n\r\n\tsignout(): Observable<any> {\r\n\t\tlocalStorage.removeItem(SIGNIN_RESPONSE);\r\n\t\treturn this.http\r\n\t\t\t.get(this.configurationService.config.endpoints.signOut, {\r\n\t\t\t\twithCredentials: true\r\n\t\t\t})\r\n\t\t\t.map(response => response);\r\n\t}\r\n}\r\n\r\nexport var SigninServiceStub = {};\r\n"
  ],
  "names": [],
  "mappings": ";;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAC;AAElD,OAAO,EAAE,WAAW,EAAE,MAAM,mBAAmB,CAAC;AAEhD,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAO,MAAM,gBAAgB,CAAC;AAInE,OAAO,EAAE,eAAe,EAAa,MAAM,WAAW,CAAC;AACvD,OAAO,EAAE,kCAAkC,EAAE,MAAM,wCAAwC,CAAC;AAE5F,uBAAM,eAAe,GAAG,uBAAuB,CAAC;AAGhD,MAAM;;;;;;IAEL,YACS,MACA,sBACA;QAFA,SAAI,GAAJ,IAAI;QACJ,yBAAoB,GAApB,oBAAoB;QACpB,aAAQ,GAAR,QAAQ;KACb;;;;;IAEJ,MAAM,CAAC,KAAU;QAChB,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,IAAI,CAC5C,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,IAAI,EAAE,CAAC,EAC/C,IAAI,CAAC,CAAC,CAAC,EACP,SAAS,CAAC,MAAM,CAAC,EAAE,CAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CAA2B,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,CAAC,CAClG,EACD,GAAG,CAAC,QAAQ,CAAC,EAAE;YACd,uBAAM,SAAS,GAAG,IAAI,eAAe,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;;YAEvE,MAAM,CAAC,SAAS,CAAC;SACjB,CAAC,CACF,CAAC;;;;;;;;;;;;;KAaF;;;;IAED,OAAO;QACN,YAAY,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;QACzC,MAAM,CAAC,IAAI,CAAC,IAAI;aACd,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE;YACxD,eAAe,EAAE,IAAI;SACrB,CAAC;aACD,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;KAC5B;;;YA3CD,UAAU;;;;YAbF,UAAU;YASV,kCAAkC;YAPlC,WAAW;;;;;;;;;;AAyDpB,MAAM,CAAC,qBAAI,iBAAiB,GAAG,EAAE,CAAC"
}
