!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/forms"),require("@angular/core"),require("@ngrx/store"),require("rxjs/BehaviorSubject"),require("@angular/common/http"),require("rxjs"),require("rxjs/operators"),require("@angular/router"),require("@ngrx/effects"),require("rxjs/observable/of"),require("@angular/common"),require("@angular/flex-layout"),require("@angular/platform-browser/animations"),require("@angular/material")):"function"==typeof define&&define.amd?define("@soushians/config",["exports","@angular/forms","@angular/core","@ngrx/store","rxjs/BehaviorSubject","@angular/common/http","rxjs","rxjs/operators","@angular/router","@ngrx/effects","rxjs/observable/of","@angular/common","@angular/flex-layout","@angular/platform-browser/animations","@angular/material"],o):o((t.soushians=t.soushians||{},t.soushians.config={}),t.ng.forms,t.ng.core,null,t.rxjs.BehaviorSubject,t.ng.common.http,t.rxjs,t.rxjs.operators,t.ng.router,null,t.rxjs["observable/of"],t.ng.common,t.ng["flex-layout"],t.ng.platformBrowser.animations,t.ng.material)}(this,function(r,i,a,o,n,e,u,f,c,m,s,l,d,p,g){"use strict";var t=function at(){};!function(t){var o=function(){function t(o){void 0===o&&(o={});var e=this;Object.keys(o).forEach(function(t){return e[t]=o[t]})}return t.prototype.getRequestBody=function(){return{}},t}();t.Request=o;var e=function n(){};t.Response=e}(r.GetConfigsApiModel||(r.GetConfigsApiModel={})),function(t){var o=function(){function t(o){void 0===o&&(o={});var e=this;Object.keys(o).forEach(function(t){return e[t]=o[t]})}return t.prototype.getRequestBody=function(){return{Name:this.Name,Config:this.Config}},Object.defineProperty(t,"formGroup",{get:function(){return new i.FormGroup({Name:new i.FormControl("",[i.Validators.required]),Config:new i.FormGroup({})})},enumerable:!0,configurable:!0}),t}();t.Request=o;var e=function n(){};t.Response=e}(r.EditConfigApiModel||(r.EditConfigApiModel={}));var h={env:{production:!1,frontend_server:"config/module/front_end/did/not/set"}},y=new a.InjectionToken("UserModuleConfig"),v=function(){return(v=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)};var C="[CONFIG] get config",x="[CONFIG] load config succeed",b="[CONFIG] update config",w="[CONFIG] load config failed",G=function ut(){this.type=C},F=function ct(t){this.payload=t,this.type=x},M=function ft(){this.type=w},I={data:[]};function L(t,o){switch(void 0===t&&(t=I),o.type){case x:return v({},t,{data:o.payload});case b:return v({},t,{data:t.data.map(function(t){return t._id==o.payload._id&&(t.Config=o.payload.Config),t})});default:return t}}var j=function(t){return t.data},N=function(t){return t.data.find(function(t){return"app_config"==t.Name})},_=function(t){return t.data.find(function(t){return"authentication_module_config"==t.Name})},q=function(t){return t.data.find(function(t){return"user_module_config"==t.Name})},S=function(t){return t.data.find(function(t){return"config_module_config"==t.Name})},V=function(t){return t.data.find(function(t){return"form_module_config"==t.Name})},O=function(t){return t.data.find(function(t){return"socket_module_config"==t.Name})},A={list:L},k=o.createFeatureSelector("config"),R=o.createSelector(k,function(t){return t.list}),E=o.createSelector(R,j),P=o.createSelector(R,N),B=o.createSelector(R,_),D=o.createSelector(R,q),$=o.createSelector(R,S),T=o.createSelector(R,V),U=o.createSelector(R,O),H=function(){function t(t,o){var e=this;this.store=o,this.config$=new n.BehaviorSubject(this._config),this._config=Object.assign({},h,t),this.config$.next(this._config),this.store.select($).subscribe(function(t){t&&(e._config=Object.assign({},e._config,t.Config),e.config$.next(e._config))})}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),t.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:a.Inject,args:[y]}]},{type:o.Store}]},t.ngInjectableDef=a.defineInjectable({factory:function(){return new t(a.inject(y),a.inject(o.Store))},token:t,providedIn:"root"}),t}(),z=function(){function t(t,o,e){var n=this;this.http=t,this.store=o,this.configurationService=e,setTimeout(function(){n.store.dispatch(new G)},999)}return t.prototype.getConfigs=function(){return this.http.get(this.configurationService.config.env.frontend_server+"/api/config").pipe(f.take(1),f.map(function(t){return t.Result}),f.catchError(function(t){return u.Observable["throw"](t)}))},t.prototype.getConfigByName=function(t){return this.http.get(this.configurationService.config.env.frontend_server+"/api/config/"+t).pipe(f.map(function(t){return t}),f.catchError(function(t){return u.Observable["throw"](t)}))},t.prototype.editConfig=function(t){var o=new r.EditConfigApiModel.Request(t);return this.http.put(this.configurationService.config.env.frontend_server+"/api/config/"+o.Name,o.getRequestBody()).pipe(f.map(function(t){return t}),f.catchError(function(t){return u.Observable["throw"](t)}))},t.prototype.getLayoutConfigs=function(){return this.http.get(this.configurationService.config.env.frontend_server+"/api/layout-config").pipe(f.map(function(t){return t}),f.catchError(function(t){return u.Observable["throw"](t)}))},t.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:e.HttpClient},{type:o.Store},{type:H}]},t.ngInjectableDef=a.defineInjectable({factory:function(){return new t(a.inject(e.HttpClient),a.inject(o.Store),a.inject(H))},token:t,providedIn:"root"}),t}(),K=function(){function t(t){this.store=t,this.configs=this.store.select(E)}return t.decorators=[{type:a.Component,args:[{selector:"configs",template:'<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="25px" class="main-container">\n\n  <div class="content-action">\n    <mat-card class="with-sticky-action">\n      <mat-card-header>\n        <mat-card-title fxLayout="row" fxLayoutGap="5px">\n          <mat-icon>settings_input_component</mat-icon>\n          <span>تنظیمات سامانه و ماژول ها</span>\n        </mat-card-title>\n        \x3c!-- <mat-card-subtitle fxLayout="row" fxLayoutAlign="space-between center">\n          <span>\n            شامل تمامی درخواست‌ها از قبیل دائری، جمع‌آوری و ...\n          </span>\n        </mat-card-subtitle> --\x3e\n      </mat-card-header>\n\n      <div fxLayout="row wrap" fxLayoutGap="10px" fxLayoutAlign="start">\n\n        <button fxFlex.lt-lg="18" fxFlex.lg="23.5" fxFlex.md="31" fxFlex.sm="48" fxFlex.xs="100" class=\'link\'\n          mat-raised-button [routerLink]="[\'edit\' ,  config.Name]" *ngFor="let config of (configs | async)">\n          <div fxLayout=\'column\' fxLayoutAlign=\'center center\'>\n            <mat-icon color=\'primary\'>settings</mat-icon>\n            <h3 class=\'title\'>{{config.Name}}</h3>\n          </div>\n        </button>\n\n      </div>\n\n    </mat-card>\n  </div>\n</div>',styles:[":host{width:100%}.config-box{margin:15px}button.link{padding:25px 15px;margin:.5%;box-sizing:border-box}button mat-icon{font-size:34px;width:34px;height:34px}"]}]}],t.ctorParameters=function(){return[{type:o.Store}]},t}(),W=function(){function t(t,o,e){var n=this;this.configService=t,this.formBuilder=o,this.route=e,this.formGroup=r.EditConfigApiModel.Request.formGroup,this.route.params.subscribe(function(t){var o=t.name;n.configService.getConfigByName(o).subscribe(function(o){n.partialConfigModel={type:o.Result.Name,inputs:{configFormGroup:n.formGroup.controls.Config}},n.formGroup.patchValue({_id:o.Result._id,Name:o.Result.Name}),Object.keys(o.Result.Config).forEach(function(t){n.addControl(n.formGroup.controls.Config,t,o.Result.Config[t])})})})}return t.prototype.addControl=function(t,o,e){e instanceof Array?t.addControl(o,this.formBuilder.array(e)):e instanceof Object?t.addControl(o,this.formBuilder.group(e)):t.addControl(o,new i.FormControl(e))},t.prototype.ngOnInit=function(){},t.prototype.configChanged=function(t){console.log("-")},t.prototype.edit=function(){this.formGroup.controls.Config.patchValue(this.dynConfig.config),this.formGroup.valid&&this.configService.editConfig(this.formGroup.value).subscribe(function(t){})},t.decorators=[{type:a.Component,args:[{selector:"config-config-edit",template:'<form [formGroup]="formGroup" (ngSubmit)="edit()" fxLayout="column">\n  <dynamic-config-component-selector #dynConfig (configChanged)="configChanged($event)" [data]="partialConfigModel"></dynamic-config-component-selector>\n  <button mat-fab  type="submit" mat-raised-button color="primary" (click)="edit">\n    <mat-icon>done</mat-icon>\n  </button>\n  \x3c!-- <button  type="button" routerLink="/configs" mat-raised-button>بازگشت</button> --\x3e\n</form>',styles:[""]}]}],t.ctorParameters=function(){return[{type:z},{type:i.FormBuilder},{type:c.ActivatedRoute}]},t.propDecorators={dynConfig:[{type:a.ViewChild,args:["dynConfig"]}]},t}(),J=function(){function t(t){this.injector=t,this.formGroup=new i.FormGroup({AppTitle:new i.FormControl("",[i.Validators.required])}),this.configChanged=new a.EventEmitter,this.configFormGroup=this.injector.get("configFormGroup")}return Object.defineProperty(t.prototype,"configFormGroup",{set:function(t){var o=this;this.formGroup.patchValue(t.value),t.valueChanges.subscribe(function(t){o.formGroup.patchValue(t)})},enumerable:!0,configurable:!0}),t.decorators=[{type:a.Component,args:[{selector:"config-app-config",template:'<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="25px" class="main-container">\n\n    <div class="content-action">\n        <mat-card class="with-sticky-action">\n            <mat-card-header>\n                <mat-card-title fxLayout="row" fxLayoutGap="5px">\n                    <mat-icon>settings_input_component</mat-icon>\n                    <span>تنظیمات سامانه</span>\n                </mat-card-title>\n                <mat-card-subtitle fxLayout="row" fxLayoutAlign="space-between center">\n                    <span>\n                        شامل تمامی درخواست‌ها از قبیل دائری، جمع‌آوری و ...\n                    </span>\n                </mat-card-subtitle>\n            </mat-card-header>\n\n            <div fxLayout="row wrap" fxLayoutGap="10px" fxLayoutAlign="start">\n\n                <div [formGroup]="formGroup">\n                    <mat-form-field>\n                        <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="نام پروژه"\n                            formControlName="AppTitle">\n                    </mat-form-field>\n                </div>\n            </div>\n\n        </mat-card>\n    </div>\n</div>'}]}],t.ctorParameters=function(){return[{type:a.Injector}]},t.propDecorators={configFormGroup:[{type:a.Input}],configChanged:[{type:a.Output}]},t}(),Q=function(){function t(t){this.injector=t,this.formGroup=new i.FormGroup({endpoints:new i.FormGroup({changePassword:new i.FormControl("",[i.Validators.required]),editProfile:new i.FormControl("",[i.Validators.required]),getUserInfo:new i.FormControl("",[i.Validators.required]),whoAmI:new i.FormControl("",[i.Validators.required])}),forms:new i.FormGroup({profile_edit:new i.FormControl("",[i.Validators.required])}),dashboardLinks:new i.FormArray([])}),this.configChanged=new a.EventEmitter,this.configFormGroup=this.injector.get("configFormGroup")}return Object.defineProperty(t.prototype,"configFormGroup",{get:function(){return this._configFormGroup},set:function(t){var o=this;(this._configFormGroup=t).controls.dashboardLinks.controls.forEach(function(t){o.formGroup.controls.dashboardLinks.push(new i.FormGroup({route:new i.FormControl("",[i.Validators.required]),icon:new i.FormControl("",[i.Validators.required]),title:new i.FormControl("",[i.Validators.required])}))}),this.formGroup.patchValue(t.value),t.valueChanges.subscribe(function(t){o.formGroup.patchValue(t)})},enumerable:!0,configurable:!0}),t.prototype.addMenu=function(){var t=new i.FormGroup({route:new i.FormControl("",[i.Validators.required]),icon:new i.FormControl("",[i.Validators.required]),title:new i.FormControl("",[i.Validators.required])});this.formGroup.get("dashboardLinks").push(t),this.configFormGroup.get("dashboardLinks").push(t)},t.decorators=[{type:a.Component,args:[{selector:"config-user-module-config",template:'<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="25px" class="main-container">\n\n    <div class="content-action">\n        <mat-card fxLayout="column" fxLayoutGap="10px" fxLayoutAlign="" class="with-sticky-action">\n            <h2>Endpoints</h2>\n            <div [formGroup]="formGroup.get(\'endpoints\')" fxLayout="column">\n                <mat-form-field>\n                    <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="change password"\n                        formControlName="changePassword">\n                </mat-form-field>\n                <mat-form-field>\n                    <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="edit profile"\n                        formControlName="editProfile">\n                </mat-form-field>\n                <mat-form-field>\n                    <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="get user info"\n                        formControlName="getUserInfo">\n                </mat-form-field>\n                <mat-form-field>\n                    <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="Who Am I"\n                        formControlName="whoAmI">\n                </mat-form-field>\n            </div>\n            <h2>Forms</h2>\n            <div [formGroup]="formGroup.get(\'forms\')" fxLayout="column">\n                <mat-form-field>\n                    <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="profile edit"\n                        formControlName="profile_edit">\n                </mat-form-field>\n                \x3c!-- <ngs-form-selector (select)="setFormId($event,\'signIn\')"></ngs-form-selector> --\x3e\n            </div>\n\n\n            <h2 fxFlex="100">\n                Dashobard Links\n                <button mat-icon-button color="primary" (click)="addMenu()">\n                    <mat-icon aria-label="icon-button icon">add</mat-icon>\n                </button>\n            </h2>\n            <div fxFlex="100" *ngFor="let item of $any(formGroup.get(\'dashboardLinks\')).controls">\n                <div [formGroup]="item">\n                    <mat-form-field>\n                        <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="route"\n                            formControlName="route">\n                    </mat-form-field>\n                    <mat-form-field>\n                        <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="icon"\n                            formControlName="icon">\n                    </mat-form-field>\n                    <mat-form-field>\n                        <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="title"\n                            formControlName="title">\n                    </mat-form-field>\n                </div>\n            </div>\n        </mat-card>\n    </div>\n</div>'}]}],t.ctorParameters=function(){return[{type:a.Injector}]},t.propDecorators={configFormGroup:[{type:a.Input}],configChanged:[{type:a.Output}]},t}(),X=function(){function t(t,o){this.injector=t,this.store=o,this.configChanged=new a.EventEmitter,this.formGroup=new i.FormGroup({layoutMode:new i.FormControl("",[i.Validators.required]),showLeftNavBar:new i.FormControl("",[i.Validators.required]),mainSideNavMode:new i.FormControl("",[i.Validators.required]),showMainSidenav:new i.FormControl("",[i.Validators.required]),stickyLeftNavBar:new i.FormControl("",[i.Validators.required]),showSecondSideNav:new i.FormControl("",[i.Validators.required]),secondSideNavMode:new i.FormControl("",[i.Validators.required]),menuItems:new i.FormArray([])}),this.sideNavModes=["over","push","side"],this.layoutModes=["with-margin","without-margin","default"],this.configFormGroup=this.injector.get("configFormGroup"),this.roleItems$=this.store.select(P).pipe(f.filter(function(t){return null!=t}),f.map(function(t){return t.Config.Roles}))}return Object.defineProperty(t.prototype,"configFormGroup",{get:function(){return this._configFormGroup},set:function(t){var o=this;(this._configFormGroup=t).controls.menuItems.controls.forEach(function(t){o.formGroup.controls.menuItems.push(new i.FormGroup({route:new i.FormControl("",[i.Validators.required]),icon:new i.FormControl("",[i.Validators.required]),roles:new i.FormControl,title:new i.FormControl("",[i.Validators.required])}))}),this.formGroup.patchValue(t.value),t.valueChanges.subscribe(function(t){return o.formGroup.patchValue(t)})},enumerable:!0,configurable:!0}),t.prototype.addMenu=function(){var t=new i.FormGroup({route:new i.FormControl("",[i.Validators.required]),icon:new i.FormControl("",[i.Validators.required]),roles:new i.FormControl,title:new i.FormControl("",[i.Validators.required])});this.formGroup.get("menuItems").push(t),this.configFormGroup.get("menuItems").push(t)},t.prototype.removeMenu=function(t){var o=this.formGroup.get("menuItems").controls.indexOf(t);this.formGroup.get("menuItems").removeAt(o)},t.decorators=[{type:a.Component,args:[{template:'<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="25px" class="main-container">\n\n    <div class="content-action">\n        <mat-card class="with-sticky-action">\n            <mat-card-header>\n                <mat-card-title fxLayout="row" fxLayoutGap="5px">\n                    <mat-icon>settings_input_component</mat-icon>\n                    <span>تنظیمات ماژول Layout</span>\n                </mat-card-title>\n                <mat-card-subtitle fxLayout="row" fxLayoutAlign="space-between center">\n                    <span>\n                        شامل تمامی درخواست‌ها از قبیل دائری، جمع‌آوری و ...\n                    </span>\n                </mat-card-subtitle>\n            </mat-card-header>\n            <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="25px">\n                <mat-card fxFlex="20" fxFlexLayout="row">\n                    <div [formGroup]="formGroup">\n                        <mat-form-field>\n                            <mat-select placeholder="layout mode" formControlName="layoutMode">\n                                <mat-option *ngFor="let item of layoutModes" [value]="item">{{item}}</mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                        <mat-slide-toggle formControlName="showLeftNavBar">show left navbar</mat-slide-toggle>\n                        <mat-form-field>\n                            <mat-select placeholder="main side nav mode" formControlName="mainSideNavMode">\n                                <mat-option *ngFor="let item of sideNavModes" [value]="item">{{item}}</mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                        <mat-slide-toggle formControlName="showMainSidenav">show main side nav</mat-slide-toggle>\n                        <mat-slide-toggle formControlName="stickyLeftNavBar">sticky left navbar</mat-slide-toggle>\n                        <mat-slide-toggle formControlName="showSecondSideNav">show second side nav</mat-slide-toggle>\n                        <mat-form-field>\n                            <mat-select placeholder="second side nav mode" formControlName="secondSideNavMode">\n                                <mat-option *ngFor="let item of sideNavModes" [value]="item">{{item}}</mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </mat-card>\n\n                <mat-card fxFlex fxLayout="column">\n                    <h2 fxFlex>\n                        Menu Items\n                        <button mat-icon-button color="primary" (click)="addMenu()">\n                            <mat-icon aria-label="icon-button icon">add</mat-icon>\n                        </button>\n                    </h2>\n                    <div fxFlex="nogrow" *ngFor="let item of $any(formGroup).get(\'menuItems\').controls">\n                        <div [formGroup]="item" fxLayout="row" fxLayoutGap="25px">\n                            <button mat-icon-button (click)="removeMenu(item)">\n                                <mat-icon>delete</mat-icon>\n                            </button>\n                            <mat-form-field>\n                                <input type="text" matInput placeholder="route" formControlName="route">\n                            </mat-form-field>\n                            <mat-form-field>\n                                <input type="text" matInput placeholder="icon" formControlName="icon">\n                            </mat-form-field>\n                            <mat-form-field>\n                                <input type="text" matInput placeholder="title" formControlName="title">\n                            </mat-form-field>\n                            <mat-form-field>\n                                <mat-select placeholder="roles" formControlName="roles" multiple>\n                                    <mat-option *ngFor="let role of roleItems$ | async" [value]="role">{{role}}</mat-option>\n                                </mat-select>\n                            </mat-form-field>\n                        </div>\n                    </div>\n                </mat-card>\n            </div>\n        </mat-card>\n    </div>\n</div>'}]}],t.ctorParameters=function(){return[{type:a.Injector},{type:o.Store}]},t.propDecorators={configChanged:[{type:a.Output,args:["configChanged"]}],configFormGroup:[{type:a.Input}]},t}(),Y=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:a.Component,args:[{selector:"config-module-container",template:'<div fxLayoutAlign="" fxflex="100" fxLayout="column">\n    <router-outlet></router-outlet>\n</div>\n'}]}],t.ctorParameters=function(){return[]},t}(),Z=function(){function t(t){this.injector=t,this.formGroup=new i.FormGroup({endpoints:new i.FormGroup({signIn:new i.FormControl("",[i.Validators.required]),signOut:new i.FormControl("",[i.Validators.required]),whoAmI:new i.FormControl("",[i.Validators.required]),captchaUrl:new i.FormControl("",[i.Validators.required])}),forms:new i.FormGroup({signIn:new i.FormControl("",[i.Validators.required])})}),this.configChanged=new a.EventEmitter,this.configFormGroup=this.injector.get("configFormGroup")}return Object.defineProperty(t.prototype,"configFormGroup",{set:function(t){var o=this;this.formGroup.patchValue(t.value),t.valueChanges.subscribe(function(t){o.formGroup.patchValue(t)})},enumerable:!0,configurable:!0}),t.prototype.setFormId=function(t,o){var e;this.formGroup.patchValue(((e={})[o]=t,e))},t.decorators=[{type:a.Component,args:[{selector:"config-authentication-module-config",template:'<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="25px" class="main-container">\n\n    <div class="content-action">\n        <mat-card class="with-sticky-action">\n            <mat-card-header>\n                <mat-card-title fxLayout="row" fxLayoutGap="5px">\n                    <mat-icon>settings_input_component</mat-icon>\n                    <span>تنظیمات ماژول احراز هویت</span>\n                </mat-card-title>\n                \x3c!-- <mat-card-subtitle fxLayout="row" fxLayoutAlign="space-between center">\n                    <span>\n                        شامل تمامی درخواست‌ها از قبیل دائری، جمع‌آوری و ...\n                    </span>\n                </mat-card-subtitle> --\x3e\n            </mat-card-header>\n\n            <div>\n\n                <h2>Endpoints</h2>\n                <div [formGroup]="formGroup.controls.endpoints" fxLayout="column">\n                    <mat-form-field>\n                        <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="sign in"\n                            formControlName="signIn">\n                    </mat-form-field>\n                    <mat-form-field>\n                        <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="sign out"\n                            formControlName="signOut">\n                    </mat-form-field>\n                    <mat-form-field>\n                        <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="who am i"\n                            formControlName="whoAmI">\n                    </mat-form-field>\n                    <mat-form-field>\n                        <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="captcha url"\n                            formControlName="captchaUrl">\n                    </mat-form-field>\n                </div>\n                <h2>Forms</h2>\n                <div [formGroup]="formGroup.controls.forms" fxLayout="column">\n                    <mat-form-field>\n                        <input type="text" (change)="configChanged.emit(formGroup.value)" matInput placeholder="SignIn Forms"\n                            formControlName="signIn">\n                    </mat-form-field>\n                    \x3c!-- <ngs-form-selector (select)="setFormId($event,\'signIn\')"></ngs-form-selector> --\x3e\n                </div>\n            </div>\n        </mat-card>\n    </div>\n</div>'}]}],t.ctorParameters=function(){return[{type:a.Injector}]},t.propDecorators={configFormGroup:[{type:a.Input}],configChanged:[{type:a.Output}]},t}(),tt=function(){function t(t){this.resolver=t,this.typeMapToDiagram={authentication_module_config:Z,app_config:J,user_module_config:Q,layout_config:X},this.configChanged=new a.EventEmitter,this.currentComponent=null}return Object.defineProperty(t.prototype,"config",{get:function(){return this.currentComponent?this.currentComponent.instance.formGroup.value:{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{set:function(o){if(o&&0!=Object.keys(o).length)if(o.type in this.typeMapToDiagram){var t=this.typeMapToDiagram[o.type],e=Object.keys(o.inputs).map(function(t){return{provide:t,useValue:o.inputs[t]}}),n=a.ReflectiveInjector.resolve(e),r=a.ReflectiveInjector.fromResolvedProviders(n,this.dynamicComponentContainer.parentInjector),i=this.resolver.resolveComponentFactory(t).create(r);this.dynamicComponentContainer.insert(i.hostView),this.currentComponent&&this.currentComponent.destroy(),this.currentComponent=i}else this.currentComponent&&this.currentComponent.destroy()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){},t.decorators=[{type:a.Component,args:[{selector:"dynamic-config-component-selector",template:"<div #dynamicComponentContainer></div>",styles:[":host{width:100%}.diagram-box{margin:15px}.diagram-box .c3{direction:ltr}"],entryComponents:[Z,J,Q,X]}]}],t.ctorParameters=function(){return[{type:a.ComponentFactoryResolver}]},t.propDecorators={dynamicComponentContainer:[{type:a.ViewChild,args:["dynamicComponentContainer",{read:a.ViewContainerRef}]}],configChanged:[{type:a.Output}],data:[{type:a.Input}]},t}(),ot=function(){function t(t,o){var e=this;this.actions$=t,this.configService=o,this.getConfigs$=this.actions$.ofType(C).pipe(f.map(function(t){return t.payload}),f.switchMap(function(t){return e.configService.getConfigs()}),f.map(function(t){return new F(t)}),f.catchError(function(){return s.of(new M)}))}return t.decorators=[{type:a.Injectable}],t.ctorParameters=function(){return[{type:m.Actions},{type:z}]},function c(t,o,e,n){var r,i=arguments.length,a=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,o,e,n);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(a=(i<3?r(a):3<i?r(o,e,a):r(o,e))||a);return 3<i&&a&&Object.defineProperty(o,e,a),a}([m.Effect(),function e(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)}("design:type",Object)],t.prototype,"getConfigs$",void 0),t}(),et=[{path:"configs",component:Y,children:[{path:"",component:K},{path:"edit/:name",component:W}]}],nt=c.RouterModule.forChild(et),rt=function(){function t(){}return t.forRoot=function(t){return{ngModule:it,providers:[{provide:y,useValue:t}]}},t.decorators=[{type:a.NgModule,args:[{imports:[l.CommonModule,c.RouterModule,i.FormsModule,i.ReactiveFormsModule,e.HttpClientModule,d.FlexLayoutModule,g.MatIconModule,g.MatButtonModule,g.MatCardModule,g.MatSnackBarModule,g.MatSidenavModule,g.MatExpansionModule,g.MatSelectModule,g.MatFormFieldModule,g.MatListModule,g.MatMenuModule,g.MatRadioModule,g.MatInputModule,g.MatSlideToggleModule,g.MatToolbarModule,g.MatDatepickerModule,g.MatProgressBarModule,p.BrowserAnimationsModule],declarations:[K,W,J,Q,X,Y,Z,tt],providers:[]}]}],t}(),it=function(){function t(){}return t.decorators=[{type:a.NgModule,args:[{imports:[rt,o.StoreModule.forFeature("config",A),m.EffectsModule.forFeature([ot]),nt],exports:[rt]}]}],t}();r.ConfigService=z,r.ConfigModel=t,r.MODULE_DEFAULT_CONFIG=h,r.MODULE_CONFIG_TOKEN=y,r.ConfigReducers=A,r.selectConfigState=k,r.getConfigListState=R,r.getConfigs=E,r.getAppConfig=P,r.getAuthenticationModuleConfig=B,r.getUserModuleConfig=D,r.getConfigModuleConfig=$,r.getFormModuleConfig=T,r.getSocketModuleConfig=U,r.NgsConfigModule=rt,r.RootNgsConfigModule=it,r.ɵu=nt,r.ɵn=J,r.ɵr=Z,r.ɵp=X,r.ɵo=Q,r.ɵt=ot,r.ɵa=L,r.ɵc=N,r.ɵd=_,r.ɵf=S,r.ɵb=j,r.ɵg=V,r.ɵh=O,r.ɵe=q,r.ɵk=H,r.ɵm=W,r.ɵq=Y,r.ɵl=K,r.ɵs=tt,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=soushians-config.umd.min.js.map