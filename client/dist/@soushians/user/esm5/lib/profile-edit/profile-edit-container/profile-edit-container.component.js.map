{
  "version": 3,
  "file": "profile-edit-container.component.js",
  "sources": [
    "ng://@soushians/user/projects/soushians/user/src/lib/profile-edit/profile-edit-container/profile-edit-container.component.ts"
  ],
  "sourcesContent": [
    "import { Component, OnInit } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\n\r\nimport { FormGroup, FormControl, Validators } from \"@angular/forms\";\r\nimport { Store } from \"@ngrx/store\";\r\n\r\nimport { ConfigModel, getAppConfig } from \"@soushians/config\";\r\n\r\nimport { UserModel, EditProfile_ApiModel } from \"../../models\";\r\nimport * as FeatureReducer from \"../../feature/feature.reducers\";\r\nimport { EditProfile } from \"../edit-profile.actions\";\r\nimport { UserConfigurationService } from \"../../services/user-configuration.service\";\r\nimport { UserModuleConfig } from \"../../user.config\";\r\n\r\n@Component({\r\n\tselector: \"profile-edit-contianer\",\r\n\ttemplate: `<profile-edit\r\n                (submited)='updateProfile($event)'\r\n                [formGroup]=\"formGroup\"\r\n                [roles]=\"roles$\"\r\n\t\t\t\t[groups]=\"groups | async\"\r\n\t\t\t\t[formId]=\"(config$|async)?.forms.profile_edit\"\r\n              ></profile-edit>`\r\n})\r\nexport class ProfileEditContainerComponent implements OnInit {\r\n\tuserInforamation$: Observable<UserModel>;\r\n\tformGroup = EditProfile_ApiModel.Request.formGroup;\r\n\troles$: Observable<string[]>;\r\n\tgroups: Observable<string[]>;\r\n\tconfig$: Observable<UserModuleConfig>;\r\n\tconstructor(private store: Store<FeatureReducer.FeatureState>, private configService: UserConfigurationService) {\r\n\t\tthis.userInforamation$ = this.store.select(FeatureReducer.getUser);\r\n\t\tthis.roles$ = this.store\r\n\t\t\t.select(getAppConfig)\r\n\t\t\t.filter(config => config != undefined)\r\n\t\t\t.map(config => config.Config.Roles);\r\n\t\t// TODO:\r\n\t\t// this.groups = this.diagramService.getGroups();\r\n\t\tthis.groups = Observable.of([ \"test1\", \"test2\" ]);\r\n\r\n\t\tthis.config$ = this.configService.config$;\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.userInforamation$.subscribe(userInfo => {\r\n\t\t\tdebugger;\r\n\t\t\tif (userInfo == null) return;\r\n\t\t\tthis.formGroup.patchValue({\r\n\t\t\t\tEmail: userInfo.Email,\r\n\t\t\t\tRoles: userInfo.Roles,\r\n\t\t\t\tGroups: userInfo.Groups\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tupdateProfile(data) {\r\n\t\tthis.store.dispatch(new EditProfile(data));\r\n\t}\r\n}\r\n"
  ],
  "names": [],
  "mappings": ";;;;AAAA,OAAO,EAAE,SAAS,EAAU,MAAM,eAAe,CAAC;AAClD,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAG7C,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,OAAO,EAAe,YAAY,EAAE,MAAM,mBAAmB,CAAC;AAE9D,OAAO,EAAa,oBAAoB,EAAE,MAAM,cAAc,CAAC;AAC/D,OAAO,KAAK,cAAc,MAAM,gCAAgC,CAAC;AACjE,OAAO,EAAE,WAAW,EAAE,MAAM,yBAAyB,CAAC;AACtD,OAAO,EAAE,wBAAwB,EAAE,MAAM,2CAA2C,CAAC;AAarF,MAAM;;;;;IAML,YAAoB,KAAyC,EAAU,aAAuC;QAA1F,UAAK,GAAL,KAAK,CAAoC;QAAU,kBAAa,GAAb,aAAa,CAA0B;yBAJlG,oBAAoB,CAAC,OAAO,CAAC,SAAS;QAKjD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACnE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK;aACtB,MAAM,CAAC,YAAY,CAAC;aACpB,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,IAAI,SAAS,CAAC;aACrC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;;;QAGrC,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,EAAE,CAAC,CAAE,OAAO,EAAE,OAAO,CAAE,CAAC,CAAC;QAElD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;KAC1C;;;;IAED,QAAQ;QACP,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAC3C,QAAQ,CAAC;YACT,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC;gBAAC,MAAM,CAAC;YAC7B,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;gBACzB,KAAK,EAAE,QAAQ,CAAC,KAAK;gBACrB,KAAK,EAAE,QAAQ,CAAC,KAAK;gBACrB,MAAM,EAAE,QAAQ,CAAC,MAAM;aACvB,CAAC,CAAC;SACH,CAAC,CAAC;KACH;;;;;IAED,aAAa,CAAC,IAAI;QACjB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;KAC3C;;;YA3CD,SAAS,SAAC;gBACV,QAAQ,EAAE,wBAAwB;gBAClC,QAAQ,EAAE;;;;;;+BAMoB;aAC9B;;;;YAnBQ,KAAK;YAOL,wBAAwB"
}
