!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@ngrx/store"),require("@soushians/widget"),require("@soushians/frontend-authentication"),require("@angular/common"),require("@angular/router"),require("@angular/material"),require("angular-froala-wysiwyg")):"function"==typeof define&&define.amd?define("@soushians/widget-types",["exports","@angular/core","@angular/forms","@ngrx/store","@soushians/widget","@soushians/frontend-authentication","@angular/common","@angular/router","@angular/material","angular-froala-wysiwyg"],e):e((t.soushians=t.soushians||{},t.soushians["widget-types"]={}),t.ng.core,t.ng.forms,null,null,null,t.ng.common,t.ng.router,t.ng.material,null)}(this,function(t,e,o,r,n,i,a,u,s,d){"use strict";var l=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},c=function(){function t(t){this.store=t,this._createFormGroup()}return t.prototype.upsert=function(){var t=l({},this.widget,this.widgetFormGroup.value,{Config:this.configFormGroup.value});this.store.dispatch(new n.UpsertWidgetStartAction(t))},t.prototype.ngOnInit=function(){this.widget!=undefined&&(this.widgetFormGroup.patchValue(this.widget),this.configFormGroup.patchValue(this.widget.Config))},t.prototype._createFormGroup=function(){this.configFormGroup=new o.FormGroup({content:new o.FormControl("")}),this.widgetFormGroup=new o.FormGroup({name:new o.FormControl("")})},t.decorators=[{type:e.Component,args:[{selector:"widget-article-upsert",template:'<mat-card>\n  <mat-card-content>\n      <h3>مشخصات ویجت</h3>\n    <div [formGroup]="widgetFormGroup">\n      <mat-form-field>\n        <input type="text" matInput placeholder="نام"  formControlName="name">\n      </mat-form-field>\n  </div>\n  <mat-divider></mat-divider>\n  <h3>تنظیمات ویجت</h3>\n    <div [formGroup]="configFormGroup">\n        <div [froalaEditor] formControlName="content"></div>\n    </div>\n    </mat-card-content>\n    <mat-card-actions>\n      <button mat-button color="primary" (click)="upsert()">Add</button>\n    </mat-card-actions>\n  </mat-card>',styles:[""]}]}],t.ctorParameters=function(){return[{type:r.Store}]},t.propDecorators={widget:[{type:e.Input}]},t}(),p=function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.havePermission$=this.store.select(i.getFrontendAuthenticationState)},t.decorators=[{type:e.Component,args:[{selector:"widget-article-view",template:'<button mat-mini-fab color="accent" *ngIf="havePermission$ | async" [routerLink]="[\'/widget/upsert/article\', (widget)?._id]">\n  <mat-icon>edit</mat-icon>\n</button>\n\n<div [froalaView]="(widget)?.Config.content"></div>\n',styles:[":host{position:relative;display:block}.mat-mini-fab{position:absolute;top:-20px;right:-20px}"]}]}],t.ctorParameters=function(){return[{type:r.Store}]},t}(),m=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,u.RouterModule,s.MatExpansionModule,s.MatSnackBarModule,s.MatIconModule,s.MatButtonModule,s.MatCardModule,s.MatSelectModule,s.MatInputModule,s.MatFormFieldModule,s.MatTabsModule,s.MatRadioModule,s.MatDividerModule,o.FormsModule,o.ReactiveFormsModule,s.MatSlideToggleModule,s.MatDividerModule,s.MatCheckboxModule,s.MatTableModule,d.FroalaEditorModule.forRoot(),d.FroalaViewModule.forRoot()],declarations:[c,p],entryComponents:[c,p],exports:[p]}]}],t}();t.ArticleUpsertComponent=c,t.ArticleViewComponent=p,t.NgsWidgetTypesModule=m,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=soushians-widget-types.umd.min.js.map