!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/common"),require("@soushians/config"),require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@ngrx/store"),require("socket.io-client")):"function"==typeof define&&define.amd?define("@soushians/socket",["exports","@angular/common","@soushians/config","@angular/core","rxjs","rxjs/operators","@ngrx/store","socket.io-client"],o):o((e.soushians=e.soushians||{},e.soushians.socket={}),e.ng.common,e.config,e.ng.core,e.rxjs,e.rxjs.operators,e.i2,e._io)}(this,function(e,o,n,t,r,i,c,s){"use strict";var u={env:{production:!1,frontend_server:"frontend_server/did/not/set"}},f=new t.InjectionToken("SocketModuleConfig"),a=function(){function e(e,o){var t=this;this.store=o,this.config$=new r.BehaviorSubject(u),this._config=Object.assign({},u,e),this.config$.next(this._config),this.store.select(n.getSocketModuleConfig).subscribe(function(e){e&&(t._config=Object.assign({},t._config,e.Config),t.config$.next(t._config))})}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:t.Inject,args:[f]}]},{type:c.Store}]},e}(),p="[SOCKET] SOCKET_RUN_SUCCESSFULLY",d=function j(){this.type=p},g=s,l=function(){function e(e,o){var t=this;this.configService=e,this.store=o,this.configService.config$.pipe(i.map(function(e){return e.env.frontend_server}),i.map(function(e){return t.socket=g(e),t.store.dispatch(new d)})).subscribe(function(){t.socket.on("DISPATCH_ACTION",function(e){t.store.dispatch({type:e.type,payload:e.payload})})})}return e.prototype.on=function(e){var t=this;return new r.Observable(function(o){t.socket.on(e,function(e){o.next(e)})})},e.prototype.emit=function(e,o){this.socket.emit(e,o)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:a},{type:c.Store}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(a),t.inject(c.Store))},token:e,providedIn:"root"}),e}(),h={number:0};function y(e,o){return void 0===e&&(e=h),o.type,e}var v={change:y},m=function(){function e(){}return e.forRoot=function(e){return{ngModule:b,providers:[{provide:f,useValue:e},a,l]}},e.decorators=[{type:t.NgModule,args:[{imports:[o.CommonModule]}]}],e}(),b=function(){function e(e){this.socketService=e}return e.decorators=[{type:t.NgModule,args:[{imports:[m,c.StoreModule.forFeature("socket",v)]}]}],e.ctorParameters=function(){return[{type:l}]},e}();e.NgsSocketModule=m,e.SocketService=l,e.ɵe=a,e.ɵf=f,e.ɵa=b,e.ɵb=y,e.ɵc=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=soushians-socket.umd.min.js.map