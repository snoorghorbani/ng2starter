{
  "version": 3,
  "file": "search.effects.js",
  "sources": [
    "ng://@soushians/user/projects/soushians/user/src/lib/search-account/search.effects.ts"
  ],
  "sourcesContent": [
    "import { Injectable } from \"@angular/core\";\r\nimport { map, switchMap, catchError } from \"rxjs/operators\";\r\nimport { Actions, Effect } from \"@ngrx/effects\";\r\nimport { of } from \"rxjs/observable/of\";\r\nimport { Observable } from \"rxjs/observable\";\r\n\r\nimport { ProfileViewModel } from \"../models\";\r\nimport { UserService } from \"../services/user.service\";\r\nimport { SearchStartAction, SearchFailed, SearchActionTypes, SearchSucceed } from \"./search.actions\";\r\n\r\n@Injectable()\r\nexport class SearchEffects {\r\n\tconstructor(private actions$: Actions<any>, private userService: UserService) {}\r\n\r\n\t@Effect()\r\n\tcanSearch$ = this.actions$\r\n\t\t.ofType(SearchActionTypes.SEARCH)\r\n\t\t.pipe(map(action => action.payload), map(data => new SearchStartAction(data)));\r\n\r\n\t@Effect()\r\n\tsearch$ = this.actions$.ofType(SearchActionTypes.SEARCH_START).pipe(\r\n\t\tmap(action => action.payload),\r\n\t\tswitchMap((data: ProfileViewModel.Request) => {\r\n\t\t\treturn this.userService.getInfo(data).pipe(\r\n\t\t\t\tmap(res => {\r\n\t\t\t\t\treturn res == null ? new SearchFailed() : new SearchSucceed(res);\r\n\t\t\t\t}),\r\n\t\t\t\tcatchError(() => of(new SearchFailed()))\r\n\t\t\t);\r\n\t\t})\r\n\t);\r\n}\r\n"
  ],
  "names": [],
  "mappings": ";;;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAC5D,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAChD,OAAO,EAAE,EAAE,EAAE,MAAM,oBAAoB,CAAC;AAIxC,OAAO,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AACvD,OAAO,EAAE,iBAAiB,EAAE,YAAY,EAAE,iBAAiB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AAGrG,MAAM;;;;;IACL,YAAoB,QAAsB,EAAU,WAAwB;QAAxD,aAAQ,GAAR,QAAQ,CAAc;QAAU,gBAAW,GAAX,WAAW,CAAa;0BAG/D,IAAI,CAAC,QAAQ;aACxB,MAAM,CAAC,iBAAiB,CAAC,MAAM,CAAC;aAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;uBAGrE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,IAAI,CAClE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAC7B,SAAS,CAAC,CAAC,IAA8B,EAAE,EAAE;YAC5C,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CACzC,GAAG,CAAC,GAAG,CAAC,EAAE;gBACT,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,YAAY,EAAE,CAAC,CAAC,CAAC,IAAI,aAAa,CAAC,GAAG,CAAC,CAAC;aACjE,CAAC,EACF,UAAU,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,IAAI,YAAY,EAAE,CAAC,CAAC,CACxC,CAAC;SACF,CAAC,CACF;KAlB+E;;;YAFhF,UAAU;;;;YARF,OAAO;YAKP,WAAW;;;IAOlB,MAAM,EAAE;;;;IAKR,MAAM,EAAE"
}
