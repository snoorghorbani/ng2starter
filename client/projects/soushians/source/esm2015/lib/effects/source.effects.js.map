{
  "version": 3,
  "file": "source.effects.js",
  "sources": [
    "ng://@soushians/source/projects/soushians/source/src/lib/effects/source.effects.ts"
  ],
  "sourcesContent": [
    "import { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Action } from \"@ngrx/store\";\r\nimport { Actions, Effect } from \"@ngrx/effects\";\r\nimport { of } from \"rxjs/observable/of\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { map, switchMap, catchError } from \"rxjs/operators\";\r\nimport { Router } from \"@angular/router\";\r\n\r\nimport { SourceActionTypes, SourceSubmit, SourceSubmitSucceed, SourceSubmitFailed } from \"../actions\";\r\nimport { SourceModel, UpsertSourceApiModel } from \"../models\";\r\nimport { SourceService } from \"../services/source.service\";\r\n\r\n@Injectable()\r\nexport class SourceEffects {\r\n\tconstructor(private actions$: Actions<any>, private router: Router, private sourceService: SourceService) {}\r\n\r\n\t@Effect()\r\n\tafterSubmitSource$ = this.actions$.ofType(SourceActionTypes.SOURCE_SUBMIT).pipe(\r\n\t\tmap(action => action.payload),\r\n\t\tswitchMap((data: UpsertSourceApiModel.Request) => {\r\n\t\t\treturn this.sourceService\r\n\t\t\t\t.upsertSource(data)\r\n\t\t\t\t.pipe(map(res => new SourceSubmitSucceed()), catchError(() => Observable.of(new SourceSubmitFailed())));\r\n\t\t})\r\n\t);\r\n\r\n\t@Effect()\r\n\tSigninSucceed$ = this.actions$.ofType(SourceActionTypes.SOURCE_SUBMIT_SUCCEED).pipe(\r\n\t\tswitchMap(() => {\r\n\t\t\tthis.router.navigate([ \"source\" ]);\r\n\t\t\treturn Observable.empty();\r\n\t\t})\r\n\t);\r\n}\r\n"
  ],
  "names": [],
  "mappings": ";;;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAE7C,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAGhD,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAC5D,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;AAEzC,OAAO,EAAE,iBAAiB,EAAgB,mBAAmB,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAEtG,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;AAG3D,MAAM;;;;;;IACL,YAAoB,QAAsB,EAAU,MAAc,EAAU,aAA4B;QAApF,aAAQ,GAAR,QAAQ,CAAc;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,kBAAa,GAAb,aAAa,CAAe;kCAGnF,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC,IAAI,CAC9E,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAC7B,SAAS,CAAC,CAAC,IAAkC,EAAE,EAAE;YAChD,MAAM,CAAC,IAAI,CAAC,aAAa;iBACvB,YAAY,CAAC,IAAI,CAAC;iBAClB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,mBAAmB,EAAE,CAAC,EAAE,UAAU,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,kBAAkB,EAAE,CAAC,CAAC,CAAC,CAAC;SACzG,CAAC,CACF;8BAGgB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,CAAC,IAAI,CAClF,SAAS,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAE,QAAQ,CAAE,CAAC,CAAC;YACnC,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SAC1B,CAAC,CACF;KAlB2G;;;YAF5G,UAAU;;;;YAVF,OAAO;YAIP,MAAM;YAIN,aAAa;;;IAMpB,MAAM,EAAE;;;;IAUR,MAAM,EAAE"
}
